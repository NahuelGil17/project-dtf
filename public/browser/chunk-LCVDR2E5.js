import{a as Le,b as ot,e as Hn,f as p}from"./chunk-LYCM6NQH.js";function La(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y$(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function M_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function S_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wr(t){return this instanceof wr?(this.v=t,this):new wr(t)}function N_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof wr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function x_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof S_=="function"?S_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function b(t){return typeof t=="function"}function Ti(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ja=Ti(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Dr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(b(r))try{r()}catch(s){e=s instanceof ja?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{R_(s)}catch(o){e=e??[],o instanceof ja?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ja(e)}}add(e){var n;if(e&&e!==this)if(this.closed)R_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Dr(n,e)}remove(e){let{_finalizers:n}=this;n&&Dr(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var zd=Ce.EMPTY;function Ua(t){return t instanceof Ce||t&&"closed"in t&&b(t.remove)&&b(t.add)&&b(t.unsubscribe)}function R_(t){b(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ci={setTimeout(t,e,...n){let{delegate:r}=Ci;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ci;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ba(t){Ci.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function Tr(){}var P_=Wd("C",void 0,void 0);function O_(t){return Wd("E",void 0,t)}function k_(t){return Wd("N",t,void 0)}function Wd(t,e,n){return{kind:t,value:e,error:n}}var Cr=null;function bi(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!Cr;if(e&&(Cr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Cr;if(Cr=null,n)throw r}}else t()}function F_(t){Ft.useDeprecatedSynchronousErrorHandling&&Cr&&(Cr.errorThrown=!0,Cr.error=t)}var br=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ua(e)&&e.add(this)):this.destination=HS}static create(e,n,r){return new _n(e,n,r)}next(e){this.isStopped?Qd(k_(e),this):this._next(e)}error(e){this.isStopped?Qd(O_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qd(P_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BS=Function.prototype.bind;function Kd(t,e){return BS.call(t,e)}var Yd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$a(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$a(r)}else $a(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$a(n)}}},_n=class extends br{constructor(e,n,r){super();let i;if(b(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kd(e.next,s),error:e.error&&Kd(e.error,s),complete:e.complete&&Kd(e.complete,s)}):i=e}this.destination=new Yd(i)}};function $a(t){Ft.useDeprecatedSynchronousErrorHandling?F_(t):Ba(t)}function $S(t){throw t}function Qd(t,e){let{onStoppedNotification:n}=Ft;n&&Ci.setTimeout(()=>n(t,e))}var HS={closed:!0,next:Tr,error:$S,complete:Tr};var Ai=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qe(t){return t}function GS(...t){return Jd(t)}function Jd(t){return t.length===0?qe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var L=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=zS(n)?n:new _n(n,r,i);return bi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=V_(r),new r((i,s)=>{let o=new _n({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ai](){return this}pipe(...n){return Jd(n)(this)}toPromise(n){return n=V_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function V_(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function qS(t){return t&&b(t.next)&&b(t.error)&&b(t.complete)}function zS(t){return t&&t instanceof br||qS(t)&&Ua(t)}var Wt=new L(t=>t.complete());function Zd(t){return b(t?.lift)}function M(t){return e=>{if(Zd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function S(t,e,n,r,i){return new Xd(t,e,n,r,i)}var Xd=class extends br{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Kt(t){return t<=0?()=>Wt:M((e,n)=>{let r=0;e.subscribe(S(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Si(t,e,n){let r=b(t)||e||n?{next:t,error:e,complete:n}:t;return r?M((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(S(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):qe}function eh(){return M((t,e)=>{let n=null;t._refCount++;let r=S(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var th=class extends L{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(S(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return eh()(this)}};var L_=Ti(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ha(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new L_}next(n){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?zd:(this.currentObservers=null,s.push(n),new Ce(()=>{this.currentObservers=null,Dr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return t.create=(e,n)=>new Ha(e,n),t})(),Ha=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:zd}};var Ar=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qs={now(){return(qs.delegate||Date).now()},delegate:void 0};var Sr=class extends ze{constructor(e=1/0,n=1/0,r=qs){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Ga=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var zs={setInterval(t,e,...n){let{delegate:r}=zs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Gn=class extends Ga{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return zs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Dr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var WS=1,nh,rh={};function j_(t){return t in rh?(delete rh[t],!0):!1}var U_={setImmediate(t){let e=WS++;return rh[e]=!0,nh||(nh=Promise.resolve()),nh.then(()=>j_(e)&&t()),e},clearImmediate(t){j_(t)}};var{setImmediate:KS,clearImmediate:QS}=U_,Ws={setImmediate(...t){let{delegate:e}=Ws;return(e?.setImmediate||KS)(...t)},clearImmediate(t){let{delegate:e}=Ws;return(e?.clearImmediate||QS)(t)},delegate:void 0};var qa=class extends Gn{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ws.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Ws.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var Mi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Mi.now=qs.now;var qn=class extends Mi{constructor(e,n=Mi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var za=class extends qn{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var YS=new za(qa);var Qt=new qn(Gn),ih=Qt;var Wa=class extends Gn{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ka=class extends qn{};var sh=new Ka(Wa);function Qa(t){return t&&b(t.schedule)}function oh(t){return t[t.length-1]}function Ya(t){return b(oh(t))?t.pop():void 0}function Yt(t){return Qa(oh(t))?t.pop():void 0}function B_(t,e){return typeof oh(t)=="number"?t.pop():e}var Ni=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ja(t){return b(t?.then)}function Za(t){return b(t[Ai])}function Xa(t){return Symbol.asyncIterator&&b(t?.[Symbol.asyncIterator])}function ec(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function JS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tc=JS();function nc(t){return b(t?.[tc])}function rc(t){return N_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield wr(n.read());if(i)return yield wr(void 0);yield yield wr(r)}}finally{n.releaseLock()}})}function ic(t){return b(t?.getReader)}function W(t){if(t instanceof L)return t;if(t!=null){if(Za(t))return ZS(t);if(Ni(t))return XS(t);if(Ja(t))return eM(t);if(Xa(t))return $_(t);if(nc(t))return tM(t);if(ic(t))return nM(t)}throw ec(t)}function ZS(t){return new L(e=>{let n=t[Ai]();if(b(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XS(t){return new L(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eM(t){return new L(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ba)})}function tM(t){return new L(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function $_(t){return new L(e=>{rM(t,e).catch(n=>e.error(n))})}function nM(t){return $_(rc(t))}function rM(t,e){var n,r,i,s;return M_(this,void 0,void 0,function*(){try{for(n=x_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function at(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function zn(t,e=0){return M((n,r)=>{n.subscribe(S(r,i=>at(r,t,()=>r.next(i),e),()=>at(r,t,()=>r.complete(),e),i=>at(r,t,()=>r.error(i),e)))})}function Wn(t,e=0){return M((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function H_(t,e){return W(t).pipe(Wn(e),zn(e))}function G_(t,e){return W(t).pipe(Wn(e),zn(e))}function q_(t,e){return new L(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function z_(t,e){return new L(n=>{let r;return at(n,e,()=>{r=t[tc](),at(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>b(r?.return)&&r.return()})}function sc(t,e){if(!t)throw new Error("Iterable cannot be null");return new L(n=>{at(n,e,()=>{let r=t[Symbol.asyncIterator]();at(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function W_(t,e){return sc(rc(t),e)}function K_(t,e){if(t!=null){if(Za(t))return H_(t,e);if(Ni(t))return q_(t,e);if(Ja(t))return G_(t,e);if(Xa(t))return sc(t,e);if(nc(t))return z_(t,e);if(ic(t))return W_(t,e)}throw ec(t)}function We(t,e){return e?K_(t,e):W(t)}function In(...t){let e=Yt(t);return We(t,e)}function Ks(t,e){let n=b(t)?t:()=>t,r=i=>i.error(n());return new L(e?i=>e.schedule(r,0,i):r)}function oc(t){return!!t&&(t instanceof L||b(t.lift)&&b(t.subscribe))}var Mr=Ti(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Q_(t){return t instanceof Date&&!isNaN(t)}function Se(t,e){return M((n,r)=>{let i=0;n.subscribe(S(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:iM}=Array;function sM(t,e){return iM(e)?t(...e):t(e)}function xi(t){return Se(e=>sM(t,e))}var{isArray:oM}=Array,{getPrototypeOf:aM,prototype:cM,keys:uM}=Object;function ac(t){if(t.length===1){let e=t[0];if(oM(e))return{args:e,keys:null};if(lM(e)){let n=uM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function lM(t){return t&&typeof t=="object"&&aM(t)===cM}function cc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function dM(...t){let e=Yt(t),n=Ya(t),{args:r,keys:i}=ac(t);if(r.length===0)return We([],e);let s=new L(hM(r,e,i?o=>cc(i,o):qe));return n?s.pipe(xi(n)):s}function hM(t,e,n=qe){return r=>{Y_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Y_(e,()=>{let u=We(t[c],e),l=!1;u.subscribe(S(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Y_(t,e,n){t?at(n,t,e):e()}function J_(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{s&&e.next(y),u++;let _=!1;W(n(y,l++)).subscribe(S(e,T=>{i?.(T),s?f(T):e.next(T)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){let T=c.shift();o?at(e,o,()=>g(T)):g(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(S(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ke(t,e,n=1/0){return b(e)?Ke((r,i)=>Se((s,o)=>e(r,s,i,o))(W(t(r,i))),n):(typeof e=="number"&&(n=e),M((r,i)=>J_(r,i,t,n)))}function Qs(t=1/0){return Ke(qe,t)}function Z_(){return Qs(1)}function Ri(...t){return Z_()(We(t,Yt(t)))}function fM(t){return new L(e=>{W(t()).subscribe(e)})}function Pi(...t){let e=Ya(t),{args:n,keys:r}=ac(t),i=new L(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;W(n[l]).subscribe(S(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?cc(r,a):a),s.complete())}))}});return e?i.pipe(xi(e)):i}var pM=["addListener","removeListener"],gM=["addEventListener","removeEventListener"],mM=["on","off"];function ah(t,e,n,r){if(b(n)&&(r=n,n=void 0),r)return ah(t,e,n).pipe(xi(r));let[i,s]=_M(t)?gM.map(o=>a=>t[o](e,a,n)):yM(t)?pM.map(X_(t,e)):vM(t)?mM.map(X_(t,e)):[];if(!i&&Ni(t))return Ke(o=>ah(o,e,n))(W(t));if(!i)throw new TypeError("Invalid event target");return new L(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function X_(t,e){return n=>r=>t[n](e,r)}function yM(t){return b(t.addListener)&&b(t.removeListener)}function vM(t){return b(t.on)&&b(t.off)}function _M(t){return b(t.addEventListener)&&b(t.removeEventListener)}function uc(t=0,e,n=ih){let r=-1;return e!=null&&(Qa(e)?n=e:r=e),new L(i=>{let s=Q_(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function IM(...t){let e=Yt(t),n=B_(t,1/0),r=t;return r.length?r.length===1?W(r[0]):Qs(n)(We(r,e)):Wt}function ft(t,e){return M((n,r)=>{let i=0;n.subscribe(S(r,s=>t.call(e,s,i++)&&r.next(s)))})}function eI(t){return M((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let u=i;i=null,n.next(u)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(S(n,u=>{r=!0,i=u,s||W(t(u)).subscribe(s=S(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function EM(t,e=Qt){return eI(()=>uc(t,e))}function Nr(t){return M((e,n)=>{let r=null,i=!1,s;r=e.subscribe(S(n,void 0,void 0,o=>{s=W(t(o,Nr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function tI(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(S(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function wM(t,e){return b(e)?Ke(t,e,1):Ke(t,1)}function DM(t,e=Qt){return M((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(S(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Kn(t){return M((e,n)=>{let r=!1;e.subscribe(S(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nI(){return M((t,e)=>{t.subscribe(S(e,Tr))})}function ch(t){return Se(()=>t)}function uh(t,e){return e?n=>Ri(e.pipe(Kt(1),nI()),n.pipe(uh(t))):Ke((n,r)=>W(t(n,r)).pipe(Kt(1),ch(n)))}function TM(t,e=Qt){let n=uc(t,e);return uh(()=>n)}function lh(t,e=qe){return t=t??CM,M((n,r)=>{let i,s=!0;n.subscribe(S(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function CM(t,e){return t===e}function lc(t=bM){return M((e,n)=>{let r=!1;e.subscribe(S(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function bM(){return new Mr}function Ys(t,e){return e?n=>n.pipe(Ys((r,i)=>W(t(r,i)).pipe(Se((s,o)=>e(r,s,i,o))))):M((n,r)=>{let i=0,s=null,o=!1;n.subscribe(S(r,a=>{s||(s=S(r,void 0,()=>{s=null,o&&r.complete()}),W(t(a,i++)).subscribe(s))},()=>{o=!0,!s&&r.complete()}))})}function AM(t){return M((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rI(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,s)=>t(i,s,r)):qe,Kt(1),n?Kn(e):lc(()=>new Mr))}function dh(t){return t<=0?()=>Wt:M((e,n)=>{let r=[];e.subscribe(S(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function SM(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,s)=>t(i,s,r)):qe,dh(1),n?Kn(e):lc(()=>new Mr))}function hh(){return M((t,e)=>{let n,r=!1;t.subscribe(S(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function MM(t,e){return M(tI(t,e,arguments.length>=2,!0))}function Js(t={}){let{connector:e=()=>new ze,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},g=()=>{let y=o;f(),y?.unsubscribe()};return M((y,_)=>{u++,!d&&!l&&h();let T=c=c??e();_.add(()=>{u--,u===0&&!d&&!l&&(a=fh(g,i))}),T.subscribe(_),!o&&u>0&&(o=new _n({next:$=>T.next($),error:$=>{d=!0,h(),a=fh(f,n,$),T.error($)},complete:()=>{l=!0,h(),a=fh(f,r),T.complete()}}),W(y).subscribe(o))})(s)}}function fh(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new _n({next:()=>{r.unsubscribe(),t()}});return W(e(...n)).subscribe(r)}function xr(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Js({connector:()=>new Sr(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function NM(t){return ft((e,n)=>t<=n)}function ph(...t){let e=Yt(t);return M((n,r)=>{(e?Ri(t,n,e):Ri(t,n)).subscribe(r)})}function xM(t,e){return M((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(S(r,c=>{i?.unsubscribe();let u=0,l=s++;W(t(c,l)).subscribe(i=S(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zs(t){return M((e,n)=>{W(t).subscribe(S(n,()=>n.complete(),Tr)),!n.closed&&e.subscribe(n)})}var iI=null;var gh=1,sI=Symbol("SIGNAL");function be(t){let e=iI;return iI=t,e}var oI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function RM(t){if(!(vh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===gh)){if(!t.producerMustRecompute(t)&&!mh(t)){t.dirty=!1,t.lastCleanEpoch=gh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=gh}}function aI(t){return t&&(t.nextProducerIndex=0),be(t)}function cI(t,e){if(be(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)yh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mh(t){dc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(RM(n),r!==n.version))return!0}return!1}function uI(t){if(dc(t),vh(t))for(let e=0;e<t.producerNode.length;e++)yh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yh(t,e){if(PM(t),dc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)yh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];dc(i),i.producerIndexOfThis[r]=e}}function vh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function dc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function PM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function OM(){throw new Error}var kM=OM;function lI(t){kM=t}var ZI="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(XI(e,n)),this.code=e}};function XI(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function re(t){for(let e in t)if(t[e]===re)return e;throw Error("Could not find renamed property on target object.")}function FM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ye(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ye).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Fh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var VM=re({__forward_ref__:re});function dt(t){return t.__forward_ref__=dt,t.toString=function(){return Ye(this())},t}function Qe(t){return eE(t)?t():t}function eE(t){return typeof t=="function"&&t.hasOwnProperty(VM)&&t.__forward_ref__===dt}function tE(t){return t&&!!t.\u0275providers}var LM=re({\u0275cmp:re}),jM=re({\u0275dir:re}),UM=re({\u0275pipe:re}),BM=re({\u0275mod:re}),Tc=re({\u0275fac:re}),Xs=re({__NG_ELEMENT_ID__:re}),dI=re({__NG_ENV_ID__:re});function kr(t){return typeof t=="string"?t:t==null?"":String(t)}function $M(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():kr(t)}function HM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function Wf(t,e){throw new H(-201,!1)}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ze(t){return{providers:t.providers||[],imports:t.imports||[]}}function zc(t){return hI(t,nE)||hI(t,rE)}function hW(t){return zc(t)!==null}function hI(t,e){return t.hasOwnProperty(e)?t[e]:null}function GM(t){let e=t&&(t[nE]||t[rE]);return e||null}function fI(t){return t&&(t.hasOwnProperty(pI)||t.hasOwnProperty(qM))?t[pI]:null}var nE=re({\u0275prov:re}),pI=re({\u0275inj:re}),rE=re({ngInjectableDef:re}),qM=re({ngInjectorDef:re}),z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{}),Vh;function iE(){return Vh}function ct(t){let e=Vh;return Vh=t,e}function sE(t,e,n){let r=zc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;Wf(t,"Injector")}var ut=globalThis;var A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var zM={},eo=zM,Lh="__NG_DI_FLAG__",Cc="ngTempTokenPath",WM="ngTokenPath",KM=/\n/gm,QM="\u0275",gI="__source",Li;function YM(){return Li}function Qn(t){let e=Li;return Li=t,e}function JM(t,e=z.Default){if(Li===void 0)throw new H(-203,!1);return Li===null?sE(t,void 0,e):Li.get(t,e&z.Optional?null:void 0,e)}function D(t,e=z.Default){return(iE()||JM)(Qe(t),e)}function ne(t,e=z.Default){return D(t,Wc(e))}function Wc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jh(t){let e=[];for(let n=0;n<t.length;n++){let r=Qe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){let a=r[o],c=ZM(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(D(i,s))}else e.push(D(r))}return e}function oE(t,e){return t[Lh]=e,t.prototype[Lh]=e,t}function ZM(t){return t[Lh]}function XM(t,e,n,r){let i=t[Cc];throw e[gI]&&i.unshift(e[gI]),t.message=eN(`
`+t.message,i,n,r),t[WM]=i,t[Cc]=null,t}function eN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==QM?t.slice(2):t;let i=Ye(e);if(Array.isArray(e))i=e.map(Ye).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ye(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KM,`
  `)}`}function po(t){return{toString:t}.toString()}var aE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(aE||{}),to=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(to||{}),Ui={},lt=[],Je=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Je||{});function cE(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Uh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];tN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function uE(t){return t===3||t===4||t===6}function tN(t){return t.charCodeAt(0)===64}function no(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?mI(t,n,i,null,e[++r]):mI(t,n,i,null,null))}}return t}function mI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var lE="ng-template";function nN(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&cE(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function dE(t){return t.type===4&&t.value!==lE}function rN(t,e,n){let r=t.type===4&&!n?lE:t.value;return e===r}function iN(t,e,n){let r=4,i=t.attrs||[],s=aN(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Vt(r)&&!Vt(c))return!1;if(o&&Vt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!rN(t,c,n)||c===""&&e.length===1){if(Vt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!nN(t.attrs,u,n)){if(Vt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=sN(l,i,dE(t),n);if(d===-1){if(Vt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&cE(f,u,0)!==-1||r&2&&u!==h){if(Vt(r))return!1;o=!0}}}}return Vt(r)||o}function Vt(t){return(t&1)===0}function sN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return cN(e,t)}function hE(t,e,n=!1){for(let r=0;r<e.length;r++)if(iN(t,e[r],n))return!0;return!1}function oN(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function aN(t){for(let e=0;e<t.length;e++){let n=t[e];if(uE(n))return e}return t.length}function cN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function uN(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function yI(t,e){return t?":not("+e.trim()+")":e}function lN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Vt(o)&&(e+=yI(s,i),i=""),r=o,s=s||!Vt(r);n++}return i!==""&&(e+=yI(s,i)),e}function dN(t){return t.map(lN).join(",")}function hN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Vt(i))break;i=s}r++}return{attrs:e,classes:n}}function fE(t){return po(()=>{let e=yE(t),n=ot(Le({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===aE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||to.Emulated,styles:t.styles||lt,_:null,schemas:t.schemas||null,tView:null,id:""});vE(n);let r=t.dependencies;return n.directiveDefs=_I(r,!1),n.pipeDefs=_I(r,!0),n.id=mN(n),n})}function fN(t){return Jn(t)||pE(t)}function pN(t){return t!==null}function Xe(t){return po(()=>({type:t.type,bootstrap:t.bootstrap||lt,declarations:t.declarations||lt,imports:t.imports||lt,exports:t.exports||lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vI(t,e){if(t==null)return Ui;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Je.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Je.None?[r,a]:r,e[s]=o):n[s]=r}return n}function ce(t){return po(()=>{let e=yE(t);return vE(e),e})}function Kc(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jn(t){return t[LM]||null}function pE(t){return t[jM]||null}function gE(t){return t[UM]||null}function gN(t){let e=Jn(t)||pE(t)||gE(t);return e!==null?e.standalone:!1}function mE(t,e){let n=t[BM]||null;if(!n&&e===!0)throw new Error(`Type ${Ye(t)} does not have '\u0275mod' property.`);return n}function yE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ui,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vI(t.inputs,e),outputs:vI(t.outputs),debugInfo:null}}function vE(t){t.features?.forEach(e=>e(t))}function _I(t,e){if(!t)return null;let n=e?gE:fN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(pN)}function mN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var tn=0,F=1,N=2,Re=3,jt=4,pt=5,Bi=6,ro=7,je=8,$i=9,En=10,he=11,io=12,II=13,Ki=14,Dt=15,go=16,Oi=17,Xt=18,Qc=19,_E=20,Yn=21,_h=22,Fr=23,Pe=25,Kf=1;var Vr=7,bc=8,Hi=9,Ue=10,Qf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qf||{});function Pr(t){return Array.isArray(t)&&typeof t[Kf]=="object"}function Cn(t){return Array.isArray(t)&&t[Kf]===!0}function Yf(t){return(t.flags&4)!==0}function Yc(t){return t.componentOffset>-1}function Jc(t){return(t.flags&1)===1}function wn(t){return!!t.template}function yN(t){return(t[N]&512)!==0}function Lr(t,e){let n=t.hasOwnProperty(Tc);return n?t[Tc]:null}var Bh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function IE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Qi(){return EE}function EE(t){return t.type.prototype.ngOnChanges&&(t.setInput=_N),vN}Qi.ngInherit=!0;function vN(){let t=DE(this),e=t?.current;if(e){let n=t.previous;if(n===Ui)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _N(t,e,n,r,i){let s=this.declaredInputs[r],o=DE(t)||IN(t,{previous:Ui,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Bh(u&&u.currentValue,n,c===Ui),IE(t,e,i,n)}var wE="__ngSimpleChanges__";function DE(t){return t[wE]||null}function IN(t,e){return t[wE]=e}var EI=null;var Jt=function(t,e,n){EI?.(t,e,n)},TE="svg",EN="math",wN=!1;function DN(){return wN}function en(t){for(;Array.isArray(t);)t=t[tn];return t}function TN(t){for(;Array.isArray(t);){if(typeof t[Kf]=="object")return t;t=t[tn]}return null}function CE(t,e){return en(e[t])}function Tt(t,e){return en(e[t.index])}function Jf(t,e){return t.data[e]}function Zf(t,e){return t[e]}function tr(t,e){let n=e[t];return Pr(n)?n:n[tn]}function CN(t){return(t[N]&4)===4}function Xf(t){return(t[N]&128)===128}function bN(t){return Cn(t[Re])}function Gi(t,e){return e==null?null:t[e]}function bE(t){t[Oi]=0}function AN(t){t[N]&1024||(t[N]|=1024,Xf(t)&&so(t))}function SN(t,e){for(;t>0;)e=e[Ki],t--;return e}function ep(t){return!!(t[N]&9216||t[Fr]?.dirty)}function $h(t){ep(t)?so(t):t[N]&64&&(DN()?(t[N]|=1024,so(t)):t[En].changeDetectionScheduler?.notify())}function so(t){t[En].changeDetectionScheduler?.notify();let e=oo(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!Xf(e)));)e=oo(e)}function AE(t,e){if((t[N]&256)===256)throw new H(911,!1);t[Yn]===null&&(t[Yn]=[]),t[Yn].push(e)}function MN(t,e){if(t[Yn]===null)return;let n=t[Yn].indexOf(e);n!==-1&&t[Yn].splice(n,1)}function oo(t){let e=t[Re];return Cn(e)?e[Re]:e}var j={lFrame:kE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function NN(){return j.lFrame.elementDepthCount}function xN(){j.lFrame.elementDepthCount++}function RN(){j.lFrame.elementDepthCount--}function SE(){return j.bindingsEnabled}function ME(){return j.skipHydrationRootTNode!==null}function PN(t){return j.skipHydrationRootTNode===t}function ON(){j.skipHydrationRootTNode=null}function V(){return j.lFrame.lView}function fe(){return j.lFrame.tView}function fW(t){return j.lFrame.contextLView=t,t[je]}function pW(t){return j.lFrame.contextLView=null,t}function et(){let t=NE();for(;t!==null&&t.type===64;)t=t.parent;return t}function NE(){return j.lFrame.currentTNode}function kN(){let t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function zr(t,e){let n=j.lFrame;n.currentTNode=t,n.isParent=e}function tp(){return j.lFrame.isParent}function np(){j.lFrame.isParent=!1}function FN(){return j.lFrame.contextLView}function mo(){let t=j.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function VN(){return j.lFrame.bindingIndex}function LN(t){return j.lFrame.bindingIndex=t}function Yi(){return j.lFrame.bindingIndex++}function rp(t){let e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function jN(){return j.lFrame.inI18n}function UN(t,e){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hh(e)}function BN(){return j.lFrame.currentDirectiveIndex}function Hh(t){j.lFrame.currentDirectiveIndex=t}function xE(t){let e=j.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function RE(){return j.lFrame.currentQueryIndex}function ip(t){j.lFrame.currentQueryIndex=t}function $N(t){let e=t[F];return e.type===2?e.declTNode:e.type===1?t[pt]:null}function PE(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=$N(s),i===null||(s=s[Ki],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=j.lFrame=OE();return r.currentTNode=e,r.lView=t,!0}function sp(t){let e=OE(),n=t[F];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function OE(){let t=j.lFrame,e=t===null?null:t.child;return e===null?kE(t):e}function kE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function FE(){let t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var VE=FE;function op(){let t=FE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function HN(t){return(j.lFrame.contextLView=SN(t,j.lFrame.contextLView))[je]}function nr(){return j.lFrame.selectedIndex}function jr(t){j.lFrame.selectedIndex=t}function yo(){let t=j.lFrame;return Jf(t.tView,t.selectedIndex)}function LE(){j.lFrame.currentNamespace=TE}function gW(){GN()}function GN(){j.lFrame.currentNamespace=null}function qN(){return j.lFrame.currentNamespace}var jE=!0;function Zc(){return jE}function Xc(t){jE=t}function zN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=EE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function eu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function vc(t,e,n){UE(t,e,3,n)}function _c(t,e,n,r){(t[N]&3)===n&&UE(t,e,n,r)}function Ih(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function UE(t,e,n,r){let i=r!==void 0?t[Oi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Oi]+=65536),(a<s||s==-1)&&(WN(t,n,e,c),t[Oi]=(t[Oi]&4294901760)+c+2),c++}function wI(t,e){Jt(4,t,e);let n=be(null);try{e.call(t)}finally{be(n),Jt(5,t,e)}}function WN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[N]>>14<t[Oi]>>16&&(t[N]&3)===e&&(t[N]+=16384,wI(a,s)):wI(a,s)}var ji=-1,Ur=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function KN(t){return t instanceof Ur}function QN(t){return(t.flags&8)!==0}function YN(t){return(t.flags&16)!==0}function BE(t){return t!==ji}function Ac(t){return t&32767}function JN(t){return t>>16}function Sc(t,e){let n=JN(t),r=e;for(;n>0;)r=r[Ki],n--;return r}var Gh=!0;function Mc(t){let e=Gh;return Gh=t,e}var ZN=256,$E=ZN-1,HE=5,XN=0,Zt={};function ex(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xs)&&(r=n[Xs]),r==null&&(r=n[Xs]=XN++);let i=r&$E,s=1<<i;e.data[t+(i>>HE)]|=s}function Nc(t,e){let n=GE(t,e);if(n!==-1)return n;let r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,Eh(r.data,t),Eh(e,null),Eh(r.blueprint,null));let i=ap(t,e),s=t.injectorIndex;if(BE(i)){let o=Ac(i),a=Sc(i,e),c=a[F].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Eh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function GE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ap(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=QE(i),r===null)return ji;if(n++,i=i[Ki],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ji}function qh(t,e,n){ex(t,e,n)}function tx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(uE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function qE(t,e,n){if(n&z.Optional||t!==void 0)return t;Wf(e,"NodeInjector")}function zE(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[$i],s=ct(void 0);try{return i?i.get(e,r,n&z.Optional):sE(e,r,n&z.Optional)}finally{ct(s)}}return qE(r,e,n)}function WE(t,e,n,r=z.Default,i){if(t!==null){if(e[N]&2048&&!(r&z.Self)){let o=sx(t,e,n,r,Zt);if(o!==Zt)return o}let s=KE(t,e,n,r,Zt);if(s!==Zt)return s}return zE(e,n,r,i)}function KE(t,e,n,r,i){let s=rx(n);if(typeof s=="function"){if(!PE(e,t,r))return r&z.Host?qE(i,n,r):zE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&z.Optional))Wf(n);else return o}finally{VE()}}else if(typeof s=="number"){let o=null,a=GE(t,e),c=ji,u=r&z.Host?e[Dt][pt]:null;for((a===-1||r&z.SkipSelf)&&(c=a===-1?ap(t,e):e[a+8],c===ji||!TI(r,!1)?a=-1:(o=e[F],a=Ac(c),e=Sc(c,e)));a!==-1;){let l=e[F];if(DI(s,a,l.data)){let d=nx(a,e,n,o,r,u);if(d!==Zt)return d}c=e[a+8],c!==ji&&TI(r,e[F].data[a+8]===u)&&DI(s,a,e)?(o=l,a=Ac(c),e=Sc(c,e)):a=-1}}return i}function nx(t,e,n,r,i,s){let o=e[F],a=o.data[t+8],c=r==null?Yc(a)&&Gh:r!=o&&(a.type&3)!==0,u=i&z.Host&&s===a,l=Ic(a,o,n,c,u);return l!==null?Br(e,o,l,a):Zt}function Ic(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&wn(f)&&f.type===n)return c}return null}function Br(t,e,n,r){let i=t[n],s=e.data;if(KN(i)){let o=i;o.resolving&&HM($M(s[n]));let a=Mc(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?ct(o.injectImpl):null,l=PE(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&zN(n,s[n],e)}finally{u!==null&&ct(u),Mc(a),o.resolving=!1,VE()}}return i}function rx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xs)?t[Xs]:void 0;return typeof e=="number"?e>=0?e&$E:ix:e}function DI(t,e,n){let r=1<<t;return!!(n[e+(t>>HE)]&r)}function TI(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var Or=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WE(this._tNode,this._lView,e,Wc(r),n)}};function ix(){return new Or(et(),V())}function Ct(t){return po(()=>{let e=t.prototype.constructor,n=e[Tc]||zh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Tc]||zh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function zh(t){return eE(t)?()=>{let e=zh(Qe(t));return e&&e()}:Lr(t)}function sx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[N]&2048&&!(o[N]&512);){let a=KE(s,o,n,r|z.Self,Zt);if(a!==Zt)return a;let c=s.parent;if(!c){let u=o[_E];if(u){let l=u.get(n,Zt,r);if(l!==Zt)return l}c=QE(o),o=o[Ki]}s=c}return i}function QE(t){let e=t[F],n=e.type;return n===2?e.declTNode:n===1?t[pt]:null}function ox(t){return tx(et(),t)}var hc="__parameters__";function ax(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function YE(t,e,n){return po(()=>{let r=ax(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(hc)?c[hc]:Object.defineProperty(c,hc,{value:[]})[hc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function cx(t){return typeof t=="function"}function ux(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function lx(t){return t.flat(Number.POSITIVE_INFINITY)}function cp(t,e){t.forEach(n=>Array.isArray(n)?cp(n,e):e(n))}function JE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dx(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function hx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function up(t,e,n){let r=vo(t,e);return r>=0?t[r|1]=n:(r=~r,hx(t,r,e,n)),r}function wh(t,e){let n=vo(t,e);if(n>=0)return t[n|1]}function vo(t,e){return fx(t,e,1)}function fx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var gt=oE(YE("Optional"),8);var px=oE(YE("SkipSelf"),4);var Rc=new A(""),tu=new A("",-1),ZE=new A(""),Pc=class{get(e,n=eo){if(n===eo){let r=new Error(`NullInjectorError: No provider for ${Ye(e)}!`);throw r.name="NullInjectorError",r}return n}};function gx(t){return{\u0275providers:t}}function mx(...t){return{\u0275providers:XE(!0,t),\u0275fromNgModule:!0}}function XE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return cp(e,o=>{let a=o;Wh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ew(i,s),n}function ew(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];lp(i,s=>{e(s,r)})}}function Wh(t,e,n,r){if(t=Qe(t),!t)return!1;let i=null,s=fI(t),o=!s&&Jn(t);if(!s&&!o){let c=t.ngModule;if(s=fI(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Wh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{cp(s.imports,l=>{Wh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&ew(u,e)}if(!a){let u=Lr(i)||(()=>new i);e({provide:i,useFactory:u,deps:lt},i),e({provide:ZE,useValue:i,multi:!0},i),e({provide:Rc,useValue:()=>D(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;lp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function lp(t,e){for(let n of t)tE(n)&&(n=n.\u0275providers),Array.isArray(n)?lp(n,e):e(n)}var yx=re({provide:String,useValue:re});function tw(t){return t!==null&&typeof t=="object"&&yx in t}function vx(t){return!!(t&&t.useExisting)}function _x(t){return!!(t&&t.useFactory)}function qi(t){return typeof t=="function"}function Ix(t){return!!t.useClass}var nw=new A(""),Ec={},Ex={},Dh;function dp(){return Dh===void 0&&(Dh=new Pc),Dh}var Zn=class{},ao=class extends Zn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qh(e,o=>this.processProvider(o)),this.records.set(tu,ki(void 0,this)),i.has("environment")&&this.records.set(Zn,ki(void 0,this));let s=this.records.get(nw);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ZE,lt,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Qn(this),r=ct(void 0),i;try{return e()}finally{Qn(n),ct(r)}}get(e,n=eo,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dI))return e[dI](this);r=Wc(r);let i,s=Qn(this),o=ct(void 0);try{if(!(r&z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=bx(e)&&zc(e);u&&this.injectableDefInScope(u)?c=ki(Kh(e),Ec):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&z.Self?dp():this.parent;return n=r&z.Optional&&n===eo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Cc]=a[Cc]||[]).unshift(Ye(e)),s)throw a;return XM(a,e,"R3InjectorError",this.source)}else throw a}finally{ct(o),Qn(s)}}resolveInjectorInitializers(){let e=Qn(this),n=ct(void 0),r;try{let i=this.get(Rc,lt,z.Self);for(let s of i)s()}finally{Qn(e),ct(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ye(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=Qe(e);let n=qi(e)?e:Qe(e&&e.provide),r=Dx(e);if(!qi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ki(void 0,Ec,!0),i.factory=()=>jh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ec&&(n.value=Ex,n.value=n.factory()),typeof n.value=="object"&&n.value&&Cx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Qe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Kh(t){let e=zc(t),n=e!==null?e.factory:Lr(t);if(n!==null)return n;if(t instanceof A)throw new H(204,!1);if(t instanceof Function)return wx(t);throw new H(204,!1)}function wx(t){if(t.length>0)throw new H(204,!1);let n=GM(t);return n!==null?()=>n.factory(t):()=>new t}function Dx(t){if(tw(t))return ki(void 0,t.useValue);{let e=rw(t);return ki(e,Ec)}}function rw(t,e,n){let r;if(qi(t)){let i=Qe(t);return Lr(i)||Kh(i)}else if(tw(t))r=()=>Qe(t.useValue);else if(_x(t))r=()=>t.useFactory(...jh(t.deps||[]));else if(vx(t))r=()=>D(Qe(t.useExisting));else{let i=Qe(t&&(t.useClass||t.provide));if(Tx(t))r=()=>new i(...jh(t.deps));else return Lr(i)||Kh(i)}return r}function ki(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Tx(t){return!!t.deps}function Cx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function bx(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function Qh(t,e){for(let n of t)Array.isArray(n)?Qh(n,e):n&&tE(n)?Qh(n.\u0275providers,e):e(n)}function mW(t,e){t instanceof ao&&t.assertNotDestroyed();let n,r=Qn(t),i=ct(void 0);try{return e()}finally{Qn(r),ct(i)}}function Ax(t){if(!iE()&&!YM())throw new H(-203,!1)}function CI(t,e=null,n=null,r){let i=iw(t,e,n,r);return i.resolveInjectorInitializers(),i}function iw(t,e=null,n=null,r,i=new Set){let s=[n||lt,mx(t)];return r=r||(typeof t=="object"?void 0:Ye(t)),new ao(s,e||dp(),r||null,i)}var tt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return CI({name:""},i,r,"");{let s=r.name??"";return CI({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=eo,e.NULL=new Pc,e.\u0275prov=x({token:e,providedIn:"any",factory:()=>D(tu)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Yh;function yW(t){Yh=t}function sw(){if(Yh!==void 0)return Yh;if(typeof document<"u")return document;throw new H(210,!1)}var vW=new A("",{providedIn:"root",factory:()=>Sx}),Sx="ng",Mx=new A(""),Wr=new A("",{providedIn:"platform",factory:()=>"unknown"});var _W=new A(""),IW=new A("",{providedIn:"root",factory:()=>sw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function EW(t){return t.ownerDocument}function ow(t){return t instanceof Function?t():t}function Nx(t){return(t??ne(tt)).get(Wr)==="browser"}function aw(t){return(t.flags&128)===128}var Oc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Oc||{}),xx=/^>|^->|<!--|-->|--!>|<!-$/g,Rx=/(<|>)/g,Px="\u200B$1\u200B";function Ox(t){return t.replace(xx,e=>e.replace(Rx,Px))}var cw=new Map,kx=0;function Fx(){return kx++}function Vx(t){cw.set(t[Qc],t)}function Lx(t){cw.delete(t[Qc])}var bI="__ngContext__";function Xn(t,e){Pr(e)?(t[bI]=e[Qc],Vx(e)):t[bI]=e}var jx;function hp(t,e){return jx(t,e)}function Fi(t,e,n,r,i){if(r!=null){let s,o=!1;Cn(r)?s=r:Pr(r)&&(o=!0,r=r[tn]);let a=en(r);t===0&&n!==null?i==null?fw(e,n,a):kc(e,n,a,i||null,!0):t===1&&n!==null?kc(e,n,a,i||null,!0):t===2?tR(e,a,o):t===3&&e.destroyNode(a),s!=null&&rR(e,t,s,n,i)}}function Ux(t,e){return t.createText(e)}function Bx(t,e,n){t.setValue(e,n)}function $x(t,e){return t.createComment(Ox(e))}function uw(t,e,n){return t.createElement(e,n)}function Hx(t,e){lw(t,e),e[tn]=null,e[pt]=null}function Gx(t,e,n,r,i,s){r[tn]=i,r[pt]=e,iu(t,r,n,1,i,s)}function lw(t,e){iu(t,e,e[he],2,null,null)}function qx(t){let e=t[io];if(!e)return Th(t[F],t);for(;e;){let n=null;if(Pr(e))n=e[io];else{let r=e[Ue];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)Pr(e)&&Th(e[F],e),e=e[Re];e===null&&(e=t),Pr(e)&&Th(e[F],e),n=e&&e[jt]}e=n}}function zx(t,e,n,r){let i=Ue+r,s=n.length;r>0&&(n[i-1][jt]=e),r<s-Ue?(e[jt]=n[i],JE(n,Ue+r,e)):(n.push(e),e[jt]=null),e[Re]=n;let o=e[go];o!==null&&n!==o&&Wx(o,e);let a=e[Xt];a!==null&&a.insertView(t),$h(e),e[N]|=128}function Wx(t,e){let n=t[Hi],i=e[Re][Re][Dt];e[Dt]!==i&&(t[N]|=Qf.HasTransplantedViews),n===null?t[Hi]=[e]:n.push(e)}function dw(t,e){let n=t[Hi],r=n.indexOf(e);n.splice(r,1)}function co(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n];if(r){let i=r[go];i!==null&&i!==t&&dw(i,r),e>0&&(t[n-1][jt]=r[jt]);let s=xc(t,Ue+e);Hx(r[F],r);let o=s[Xt];o!==null&&o.detachView(s[F]),r[Re]=null,r[jt]=null,r[N]&=-129}return r}function nu(t,e){if(!(e[N]&256)){let n=e[he];n.destroyNode&&iu(t,e,n,3,null,null),qx(e)}}function Th(t,e){if(!(e[N]&256)){e[N]&=-129,e[N]|=256,e[Fr]&&uI(e[Fr]),Qx(t,e),Kx(t,e),e[F].type===1&&e[he].destroy();let n=e[go];if(n!==null&&Cn(e[Re])){n!==e[Re]&&dw(n,e);let r=e[Xt];r!==null&&r.detachView(t)}Lx(e)}}function Kx(t,e){let n=t.cleanup,r=e[ro];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ro]=null);let i=e[Yn];if(i!==null){e[Yn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function Qx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ur)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Jt(4,a,c);try{c.call(a)}finally{Jt(5,a,c)}}else{Jt(4,i,s);try{s.call(i)}finally{Jt(5,i,s)}}}}}function hw(t,e,n){return Yx(t,e.parent,n)}function Yx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===to.None||s===to.Emulated)return null}return Tt(r,n)}}function kc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fw(t,e,n){t.appendChild(e,n)}function AI(t,e,n,r,i){r!==null?kc(t,e,n,r,i):fw(t,e,n)}function Jx(t,e,n,r){t.removeChild(e,n,r)}function fp(t,e){return t.parentNode(e)}function Zx(t,e){return t.nextSibling(e)}function pw(t,e,n){return eR(t,e,n)}function Xx(t,e,n){return t.type&40?Tt(t,n):null}var eR=Xx,SI;function ru(t,e,n,r){let i=hw(t,r,e),s=e[he],o=r.parent||e[pt],a=pw(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)AI(s,i,n[c],a,!1);else AI(s,i,n,a,!1);SI!==void 0&&SI(s,r,e,n,i)}function wc(t,e){if(e!==null){let n=e.type;if(n&3)return Tt(e,t);if(n&4)return Jh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return wc(t,r);{let i=t[e.index];return Cn(i)?Jh(-1,i):en(i)}}else{if(n&32)return hp(e,t)()||en(t[e.index]);{let r=gw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oo(t[Dt]);return wc(i,r)}else return wc(t,e.next)}}}return null}function gw(t,e){if(e!==null){let r=t[Dt][pt],i=e.projection;return r.projection[i]}return null}function Jh(t,e){let n=Ue+t+1;if(n<e.length){let r=e[n],i=r[F].firstChild;if(i!==null)return wc(r,i)}return e[Vr]}function tR(t,e,n){let r=fp(t,e);r&&Jx(t,r,e,n)}function pp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Xn(en(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)pp(t,e,n.child,r,i,s,!1),Fi(e,t,i,a,s);else if(c&32){let u=hp(n,r),l;for(;l=u();)Fi(e,t,i,l,s);Fi(e,t,i,a,s)}else c&16?mw(t,e,r,n,i,s):Fi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function iu(t,e,n,r,i,s){pp(n,r,t.firstChild,e,i,s,!1)}function nR(t,e,n){let r=e[he],i=hw(t,n,e),s=n.parent||e[pt],o=pw(s,n,e);mw(r,0,e,n,i,o)}function mw(t,e,n,r,i,s){let o=n[Dt],c=o[pt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Fi(e,t,i,l,s)}else{let u=c,l=o[Re];aw(r)&&(u.flags|=128),pp(t,e,u,l,i,s,!0)}}function rR(t,e,n,r,i){let s=n[Vr],o=en(n);s!==o&&Fi(e,t,r,s,i);for(let a=Ue;a<n.length;a++){let c=n[a];iu(c[F],c,t,e,r,s)}}function iR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Oc.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Oc.Important),t.setStyle(n,r,i,s))}}function sR(t,e,n){t.setAttribute(e,"style",n)}function yw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Uh(t,e,r),i!==null&&yw(t,e,i),s!==null&&sR(t,e,s)}var fc;function oR(){if(fc===void 0&&(fc=null,ut.trustedTypes))try{fc=ut.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fc}function su(t){return oR()?.createHTML(t)||t}var pc;function _w(){if(pc===void 0&&(pc=null,ut.trustedTypes))try{pc=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pc}function MI(t){return _w()?.createHTML(t)||t}function NI(t){return _w()?.createScriptURL(t)||t}var Dn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZI})`}},Zh=class extends Dn{getTypeName(){return"HTML"}},Xh=class extends Dn{getTypeName(){return"Style"}},ef=class extends Dn{getTypeName(){return"Script"}},tf=class extends Dn{getTypeName(){return"URL"}},nf=class extends Dn{getTypeName(){return"ResourceURL"}};function Ji(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function gp(t,e){let n=aR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ZI})`)}return n===e}function aR(t){return t instanceof Dn&&t.getTypeName()||null}function wW(t){return new Zh(t)}function DW(t){return new Xh(t)}function TW(t){return new ef(t)}function CW(t){return new tf(t)}function bW(t){return new nf(t)}function cR(t){let e=new sf(t);return uR()?new rf(e):e}var rf=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(su(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},sf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=su(e),n}};function uR(){try{return!!new window.DOMParser().parseFromString(su(""),"text/html")}catch{return!1}}var lR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Iw(t){return t=String(t),t.match(lR)?t:"unsafe:"+t}function bn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function _o(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Ew=bn("area,br,col,hr,img,wbr"),ww=bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dw=bn("rp,rt"),dR=_o(Dw,ww),hR=_o(ww,bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fR=_o(Dw,bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xI=_o(Ew,hR,fR,dR),Tw=bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pR=bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gR=bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),mR=_o(Tw,pR,gR),yR=bn("script,style,template"),of=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!xI.hasOwnProperty(n))return this.sanitizedSomething=!0,!yR.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!mR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Tw[a]&&(c=Iw(c)),this.buf.push(" ",o,'="',RI(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();xI.hasOwnProperty(n)&&!Ew.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(RI(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},vR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_R=/([^\#-~ |!])/g;function RI(t){return t.replace(/&/g,"&amp;").replace(vR,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(_R,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gc;function IR(t,e){let n=null;try{gc=gc||cR(t);let r=e?String(e):"";n=gc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=gc.getInertBodyElement(r)}while(r!==s);let a=new of().sanitizeChildren(PI(n)||n);return su(a)}finally{if(n){let r=PI(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function PI(t){return"content"in t&&ER(t)?t.content:null}function ER(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ou=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ou||{});function AW(t){let e=mp();return e?MI(e.sanitize(ou.HTML,t)||""):gp(t,"HTML")?MI(Ji(t)):IR(sw(),kr(t))}function wR(t){let e=mp();return e?e.sanitize(ou.URL,t)||"":gp(t,"URL")?Ji(t):Iw(kr(t))}function DR(t){let e=mp();if(e)return NI(e.sanitize(ou.RESOURCE_URL,t)||"");if(gp(t,"ResourceURL"))return NI(Ji(t));throw new H(904,!1)}function TR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?DR:wR}function SW(t,e,n){return TR(e,n)(t)}function mp(){let t=V();return t&&t[En].sanitizer}var af=class{};var CR="h",bR="b";var AR=()=>null;function yp(t,e,n=!1){return AR(t,e,n)}var cf=class{},Fc=class{};function SR(t){let e=Error(`No component factory found for ${Ye(t)}.`);return e[MR]=t,e}var MR="ngComponent";var uf=class{resolveComponentFactory(e){throw SR(e)}},au=(()=>{let e=class e{};e.NULL=new uf;let t=e;return t})();function NR(){return Zi(et(),V())}function Zi(t,e){return new bt(Tt(t,e))}var bt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=NR;let t=e;return t})();function xR(t){return t instanceof bt?t.nativeElement:t}var lf=class{},rr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>RR();let t=e;return t})();function RR(){let t=V(),e=et(),n=tr(e.index,t);return(Pr(n)?n:t)[he]}var PR=(()=>{let e=class e{};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ch={};function vp(t){let e=be(null);try{return t()}finally{be(e)}}function Cw(t){return kR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function OR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function kR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var df=class{constructor(){}supports(e){return Cw(e)}create(e){return new hf(e)}},FR=(t,e)=>e,hf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<OI(r,i,s)?n:r,a=OI(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Cw(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,OR(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new ff(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Vc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ff=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},pf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Vc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new pf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function OI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function kI(){return new _p([new df])}var _p=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||kI()),deps:[[e,new px,new gt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new H(901,!1)}};e.\u0275prov=x({token:e,providedIn:"root",factory:kI});let t=e;return t})();function Lc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(en(s)),Cn(s)&&VR(s,r);let o=n.type;if(o&8)Lc(t,e,n.child,r);else if(o&32){let a=hp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=gw(e,n);if(Array.isArray(a))r.push(...a);else{let c=oo(e[Dt]);Lc(c[F],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function VR(t,e){for(let n=Ue;n<t.length;n++){let r=t[n],i=r[F].firstChild;i!==null&&Lc(r[F],r,i,e)}t[Vr]!==t[tn]&&e.push(t[Vr])}var bw=[];function LR(t){return t[Fr]??jR(t)}function jR(t){let e=bw.pop()??Object.create(BR);return e.lView=t,e}function UR(t){t.lView[Fr]!==t&&(t.lView=null,bw.push(t))}var BR=ot(Le({},oI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{so(t.lView)},consumerOnSignalRead(){this.lView[Fr]=this}});function Aw(t){return Mw(t[io])}function Sw(t){return Mw(t[jt])}function Mw(t){for(;t!==null&&!Cn(t);)t=t[jt];return t}var $R="ngOriginalError";function bh(t){return t[$R]}var Tn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&bh(e);for(;n&&bh(n);)n=bh(n);return n||null}},Nw=new A("",{providedIn:"root",factory:()=>ne(Tn).handleError.bind(void 0)});var xw=!1,HR=new A("",{providedIn:"root",factory:()=>xw});var mt={};function MW(t=1){Rw(fe(),V(),nr()+t,!1)}function Rw(t,e,n,r){if(!r)if((e[N]&3)===3){let s=t.preOrderCheckHooks;s!==null&&vc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&_c(e,s,0,n)}jr(n)}function k(t,e=z.Default){let n=V();if(n===null)return D(t,e);let r=et();return WE(r,n,Qe(t),e)}function NW(){let t="invalid";throw new Error(t)}function Pw(t,e,n,r,i,s){let o=be(null);try{let a=null;i&Je.SignalBased&&(a=e[r][sI]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Je.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):IE(e,a,r,s)}finally{be(o)}}function GR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)jr(~i);else{let s=i,o=n[++r],a=n[++r];UN(o,s);let c=e[s];a(2,c)}}}finally{jr(-1)}}function cu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[tn]=i,d[N]=r|4|128|8|64,(u!==null||t&&t[N]&2048)&&(d[N]|=2048),bE(d),d[Re]=d[Ki]=t,d[je]=n,d[En]=o||t&&t[En],d[he]=a||t&&t[he],d[$i]=c||t&&t[$i]||null,d[pt]=s,d[Qc]=Fx(),d[Bi]=l,d[_E]=u,d[Dt]=e.type==2?t[Dt]:d,d}function Xi(t,e,n,r,i){let s=t.data[e];if(s===null)s=qR(t,e,n,r,i),jN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=kN();s.injectorIndex=o===null?-1:o.injectorIndex}return zr(s,!0),s}function qR(t,e,n,r,i){let s=NE(),o=tp(),a=o?s:s&&s.parent,c=t.data[e]=JR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Ow(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function kw(t,e,n,r,i){let s=nr(),o=r&2;try{jr(-1),o&&e.length>Pe&&Rw(t,e,Pe,!1),Jt(o?2:0,i),n(r,i)}finally{jr(s),Jt(o?3:1,i)}}function Ip(t,e,n){if(Yf(e)){let r=be(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{be(r)}}}function Ep(t,e,n){SE()&&(rP(t,e,n,Tt(n,e)),(n.flags&64)===64&&Lw(t,e,n))}function wp(t,e,n=Tt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Fw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Dp(t,e,n,r,i,s,o,a,c,u,l){let d=Pe+r,h=d+i,f=zR(d,h),g=typeof u=="function"?u():u;return f[F]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function zR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:mt);return n}function WR(t,e,n,r){let s=r.get(HR,xw)||n===to.ShadowDom,o=t.selectRootElement(e,s);return KR(o),o}function KR(t){QR(t)}var QR=()=>null;function YR(t,e,n,r){let i=Bw(e);i.push(n),t.firstCreatePass&&$w(t).push(r,i.length-1)}function JR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ME()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function FI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Je.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?VI(r,n,u,a,c):VI(r,n,u,a)}return r}function VI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ZR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=FI(0,d.inputs,l,c,f),u=FI(1,d.outputs,l,u,g);let y=c!==null&&o!==null&&!dE(e)?pP(c,l,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function XR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function uu(t,e,n,r,i,s,o,a){let c=Tt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Cp(t,n,l,r,i),Yc(e)&&eP(n,e.index)):e.type&3?(r=XR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function eP(t,e){let n=tr(e,t);n[N]&16||(n[N]|=64)}function Tp(t,e,n,r){if(SE()){let i=r===null?null:{"":-1},s=sP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Vw(t,e,n,o,i,a),i&&oP(n,r,i)}n.mergedAttrs=no(n.mergedAttrs,n.attrs)}function Vw(t,e,n,r,i,s){for(let u=0;u<r.length;u++)qh(Nc(n,e),t,r[u].type);cP(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=Ow(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=no(n.mergedAttrs,l.hostAttrs),uP(t,n,e,c,l),aP(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ZR(t,n,s)}function tP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;nP(o)!=a&&o.push(a),o.push(n,r,s)}}function nP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function rP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Yc(n)&&lP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Nc(n,e),Xn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Br(e,t,a,n);if(Xn(u,e),o!==null&&fP(e,a-i,u,c,n,o),wn(c)){let l=tr(n.index,e);l[je]=Br(e,t,a,n)}}}function Lw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=BN();try{jr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Hh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&iP(c,u)}}finally{jr(-1),Hh(o)}}function iP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function sP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(hE(e,o.selectors,!1))if(r||(r=[]),wn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;gf(t,e,c)}else r.unshift(o),gf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function gf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function oP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new H(-301,!1);r.push(e[i],s)}}}function aP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wn(e)&&(n[""]=t)}}function cP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function uP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Lr(i.type,!0)),o=new Ur(s,wn(i),k);t.blueprint[r]=o,n[r]=o,tP(t,e,r,Ow(t,n,i.hostVars,mt),i)}function lP(t,e,n){let r=Tt(e,t),i=Fw(n),s=t[En].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=lu(t,cu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function dP(t,e,n,r,i,s){let o=Tt(t,e);hP(e[he],o,s,t.value,n,r,i)}function hP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?kr(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function fP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];Pw(r,n,c,u,l,d)}}function pP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function jw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Uw(t,e){let n=t.contentQueries;if(n!==null){let r=be(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];ip(s),a.contentQueries(2,e[o],o)}}}finally{be(r)}}}function lu(t,e){return t[io]?t[II][jt]=e:t[io]=e,t[II]=e,e}function mf(t,e,n){ip(0);let r=be(null);try{e(t,n)}finally{be(r)}}function Bw(t){return t[ro]||(t[ro]=[])}function $w(t){return t.cleanup||(t.cleanup=[])}function gP(t,e,n){return(t===null||wn(t))&&(n=TN(n[e.index])),n[he]}function Hw(t,e){let n=t[$i],r=n?n.get(Tn,null):null;r&&r.handleError(e)}function Cp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];Pw(l,u,r,a,c,i)}}function mP(t,e,n){let r=CE(e,t);Bx(t[he],r,n)}var Gw=100;function qw(t,e=!0,n=0){let r=t[En],i=r.rendererFactory,s=!1;s||i.begin?.();try{yP(t,n)}catch(o){throw e&&Hw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function yP(t,e){yf(t,e);let n=0;for(;ep(t);){if(n===Gw)throw new H(103,!1);n++,yf(t,1)}}function vP(t,e,n,r){let i=e[N];if((i&256)===256)return;let s=!1;!s&&e[En].inlineEffectRunner?.flush(),sp(e);let o=null,a=null;!s&&_P(t)&&(a=LR(e),o=aI(a));try{bE(e),LN(t.bindingStartIndex),n!==null&&kw(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&vc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&_c(e,d,0,null),Ih(e,0)}if(IP(e),zw(e,0),t.contentQueries!==null&&Uw(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&vc(e,d)}else{let d=t.contentHooks;d!==null&&_c(e,d,1),Ih(e,1)}GR(t,e);let u=t.components;u!==null&&Kw(e,u,0);let l=t.viewQuery;if(l!==null&&mf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&vc(e,d)}else{let d=t.viewHooks;d!==null&&_c(e,d,2),Ih(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[_h]){for(let d of e[_h])d();e[_h]=null}s||(e[N]&=-73)}catch(c){throw so(e),c}finally{a!==null&&(cI(a,o),UR(a)),op()}}function _P(t){return t.type!==2}function zw(t,e){for(let n=Aw(t);n!==null;n=Sw(n))for(let r=Ue;r<n.length;r++){let i=n[r];Ww(i,e)}}function IP(t){for(let e=Aw(t);e!==null;e=Sw(e)){if(!(e[N]&Qf.HasTransplantedViews))continue;let n=e[Hi];for(let r=0;r<n.length;r++){let i=n[r],s=i[Re];AN(i)}}}function EP(t,e,n){let r=tr(e,t);Ww(r,n)}function Ww(t,e){Xf(t)&&yf(t,e)}function yf(t,e){let r=t[F],i=t[N],s=t[Fr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&mh(s)),s&&(s.dirty=!1),t[N]&=-9217,o)vP(r,t,r.template,t[je]);else if(i&8192){zw(t,1);let a=r.components;a!==null&&Kw(t,a,1)}}function Kw(t,e,n){for(let r=0;r<e.length;r++)EP(t,e[r],n)}function bp(t){for(t[En].changeDetectionScheduler?.notify();t;){t[N]|=64;let e=oo(t);if(yN(t)&&!e)return t;t=e}return null}var $r=class{get rootNodes(){let e=this._lView,n=e[F];return Lc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[je]}set context(e){this._lView[je]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Re];if(Cn(e)){let n=e[bc],r=n?n.indexOf(this):-1;r>-1&&(co(e,r),xc(n,r))}this._attachedToViewContainer=!1}nu(this._lView[F],this._lView)}onDestroy(e){AE(this._lView,e)}markForCheck(){bp(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){$h(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,qw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,lw(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e,$h(this._lView)}},Ap=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wP;let t=e;return t})();function wP(t){return DP(et(),V(),(t&16)===16)}function DP(t,e,n){if(Yc(t)&&!n){let r=tr(t.index,e);return new $r(r,r)}else if(t.type&47){let r=e[Dt];return new $r(r,e)}return null}var Qw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),vf=class extends Qw{constructor(e){super(),this._lView=e}onDestroy(e){return AE(this._lView,e),()=>MN(this._lView,e)}};function TP(){return new vf(V())}var LI=new Set;function Io(t){LI.has(t)||(LI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var _f=class extends ze{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Ah(s),i&&(i=Ah(i)),o&&(o=Ah(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ce&&e.add(a),a}};function Ah(t){return e=>{setTimeout(t,void 0,e)}}var wt=_f;function jI(...t){}function CP(){let t=typeof ut.requestAnimationFrame=="function",e=ut[t?"requestAnimationFrame":"setTimeout"],n=ut[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ae=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wt(!1),this.onMicrotaskEmpty=new wt(!1),this.onStable=new wt(!1),this.onError=new wt(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=CP().nativeRequestAnimationFrame,SP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,bP,jI,jI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},bP={};function Sp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ut,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,If(t),t.isCheckStableRunning=!0,Sp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),If(t))}function SP(t){let e=()=>{AP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(MP(a))return n.invokeTask(i,s,o,a);try{return UI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),BI(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return UI(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),BI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,If(t),Sp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function If(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function UI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function BI(t){t._nesting--,Sp(t)}function MP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Vi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Vi||{}),NP={destroy(){}};function xP(t,e){!e&&Ax(xP);let n=e?.injector??ne(tt);if(!Nx(n))return NP;Io("NgAfterNextRender");let r=n.get(Mp),i=r.handler??=new wf,s=e?.phase??Vi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(Qw).onDestroy(o),c=new Ef(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var Ef=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(ae),this.errorHandler=e.get(Tn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},wf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Vi.EarlyRead]:new Set,[Vi.Write]:new Set,[Vi.MixedReadWrite]:new Set,[Vi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Mp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function RP(t,e){let n=tr(e,t),r=n[F];PP(r,n);let i=n[tn];i!==null&&n[Bi]===null&&(n[Bi]=yp(i,n[$i])),Np(r,n,n[je])}function PP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Np(t,e,n){sp(e);try{let r=t.viewQuery;r!==null&&mf(1,r,n);let i=t.template;i!==null&&kw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Uw(t,e),t.staticViewQueries&&mf(2,t.viewQuery,n);let s=t.components;s!==null&&OP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,op()}}function OP(t,e){for(let n=0;n<e.length;n++)RP(t,e[n])}function jc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Fh(i,a);else if(s==2){let c=a,u=e[++o];r=Fh(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Uc=class extends au{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Jn(e);return new zi(n,this.ngModule)}};function $I(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function kP(t){let e=t.toLowerCase();return e==="svg"?TE:e==="math"?EN:null}var Df=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Wc(r);let i=this.injector.get(e,Ch,r);return i!==Ch||n===Ch?i:this.parentInjector.get(e,n,r)}},zi=class extends Fc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=$I(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return $I(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=dN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Zn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Df(e,s):e,a=o.get(lf,null);if(a===null)throw new H(407,!1);let c=o.get(PR,null),u=o.get(Mp,null),l=o.get(af,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?WR(h,r,this.componentDef.encapsulation,o):uw(h,f,kP(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let _=null;g!==null&&(_=yp(g,o,!0));let T=Dp(0,null,null,1,0,null,null,null,null,null,null),$=cu(null,T,null,y,null,null,d,h,o,null,_);sp($);let Q,ee;try{let ve=this.componentDef,te,ht=null;ve.findHostDirectiveDefs?(te=[],ht=new Map,ve.findHostDirectiveDefs(ve,te,ht),te.push(ve)):te=[ve];let $n=FP($,g),Er=VP($n,g,ve,te,$,d,h);ee=Jf(T,Pe),g&&UP(h,ve,g,r),n!==void 0&&BP(ee,this.ngContentSelectors,n),Q=jP(Er,ve,te,ht,$,[$P]),Np(T,$,null)}finally{op()}return new Tf(this.componentType,Q,Zi(ee,$),$,ee)}},Tf=class extends cf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $r(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Cp(s[F],s,i,e,n),this.previousInputValues.set(e,n);let o=tr(this._tNode.index,s);bp(o)}}get injector(){return new Or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FP(t,e){let n=t[F],r=Pe;return t[r]=e,Xi(n,r,2,"#host",null)}function VP(t,e,n,r,i,s,o){let a=i[F];LP(r,t,e,o);let c=null;e!==null&&(c=yp(e,i[$i]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=cu(i,Fw(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&gf(a,t,r.length-1),lu(i,d),i[t.index]=d}function LP(t,e,n,r){for(let i of t)e.mergedAttrs=no(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(jc(e,e.mergedAttrs,!0),n!==null&&vw(r,n,e))}function jP(t,e,n,r,i,s){let o=et(),a=i[F],c=Tt(o,i);Vw(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Br(i,a,d,o);Xn(h,i)}Lw(a,i,o),c&&Xn(c,i);let u=Br(i,a,o.directiveStart+o.componentOffset,o);if(t[je]=i[je]=u,s!==null)for(let l of s)l(u,e);return Ip(a,o,t),u}function UP(t,e,n,r){if(r)Uh(t,n,["ng-version","17.1.3"]);else{let{attrs:i,classes:s}=hN(e.selectors[0]);i&&Uh(t,n,i),s&&s.length>0&&yw(t,n,s.join(" "))}}function BP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function $P(){let t=et();eu(V()[F],t)}function HP(t){return Object.getPrototypeOf(t.prototype).constructor}function Oe(t){let e=HP(t.type),n=!0,r=[t];for(;e;){let i;if(wn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=mc(t.inputs),o.inputTransforms=mc(t.inputTransforms),o.declaredInputs=mc(t.declaredInputs),o.outputs=mc(t.outputs);let a=i.hostBindings;a&&KP(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&zP(t,c),u&&WP(t,u),GP(t,i),FM(t.outputs,i.outputs),wn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Oe&&(n=!1)}}e=Object.getPrototypeOf(e)}qP(r)}function GP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function qP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=no(i.hostAttrs,n=no(n,i.hostAttrs))}}function mc(t){return t===Ui?{}:t===lt?[]:t}function zP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function WP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function KP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function QP(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var xW=new RegExp(`^(\\d+)*(${bR}|${CR})*(.*)`);var YP=()=>null;function uo(t,e){return YP(t,e)}function du(t,e,n,r){let i=e.tView,o=t[N]&4096?4096:16,a=cu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[go]=c;let u=t[Xt];return u!==null&&(a[Xt]=u.createEmbeddedView(i)),Np(i,a,n),a}function Yw(t,e){let n=Ue+e;if(n<t.length)return t[n]}function lo(t,e){return!e||e.firstChild===null||aw(t)}function hu(t,e,n,r=!0){let i=e[F];if(zx(i,e,t,n),r){let o=Jh(n,t),a=e[he],c=fp(a,t[Vr]);c!==null&&Gx(i,t[pt],a,e,c,o)}let s=e[Bi];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Jw(t,e){let n=co(t,e);return n!==void 0&&nu(n[F],n),n}var es=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JP;let t=e;return t})();function JP(){let t=et();return Xw(t,V())}var ZP=es,Zw=class extends ZP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zi(this._hostTNode,this._hostLView)}get injector(){return new Or(this._hostTNode,this._hostLView)}get parentInjector(){let e=ap(this._hostTNode,this._hostLView);if(BE(e)){let n=Sc(e,this._hostLView),r=Ac(e),i=n[F].data[r+8];return new Or(i,n)}else return new Or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=HI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=uo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,lo(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!cx(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new zi(Jn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?u:this.parentInjector).get(Zn,null);y&&(s=y)}let l=Jn(c.componentType??{}),d=uo(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,lo(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(bN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Re],u=new Zw(c,c[pt],c[Re]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return hu(o,i,s,r),e.attachToViewContainerRef(),JE(Sh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=HI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=co(this._lContainer,n);r&&(xc(Sh(this._lContainer),n),nu(r[F],r))}detach(e){let n=this._adjustIndex(e,-1),r=co(this._lContainer,n);return r&&xc(Sh(this._lContainer),n)!=null?new $r(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function HI(t){return t[bc]}function Sh(t){return t[bc]||(t[bc]=[])}function Xw(t,e){let n,r=e[t.index];return Cn(r)?n=r:(n=jw(r,e,null,t),e[t.index]=n,lu(e,n)),eO(n,e,t,r),new Zw(n,t,e)}function XP(t,e){let n=t[he],r=n.createComment(""),i=Tt(e,t),s=fp(n,i);return kc(n,s,r,Zx(n,i),!1),r}var eO=rO,tO=()=>!1;function nO(t,e,n){return tO(t,e,n)}function rO(t,e,n,r){if(t[Vr])return;let i;n.type&8?i=en(r):i=XP(e,n),t[Vr]=i}var er=class{},Cf=class{};var bf=class extends er{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uc(this);let i=mE(e);this._bootstrapComponents=ow(i.bootstrap),this._r3Injector=iw(e,n,[{provide:er,useValue:this},{provide:au,useValue:this.componentFactoryResolver},...r],Ye(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Af=class extends Cf{constructor(e){super(),this.moduleType=e}create(e){return new bf(this.moduleType,e,[])}};var Bc=class extends er{constructor(e){super(),this.componentFactoryResolver=new Uc(this),this.instance=null;let n=new ao([...e.providers,{provide:er,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],e.parent||dp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function iO(t,e,n=null){return new Bc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var eD=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ar(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xp(t,e,n){return t[e]=n}function sO(t,e){return t[e]}function Ut(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function tD(t,e,n,r){let i=Ut(t,e,n);return Ut(t,e+1,r)||i}function oO(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Xi(e,t,4,o||null,Gi(u,a));Tp(e,n,l,Gi(u,c)),eu(e,l);let d=l.tView=Dp(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function ho(t,e,n,r,i,s,o,a){let c=V(),u=fe(),l=t+Pe,d=u.firstCreatePass?oO(l,u,c,e,n,r,i,s,o):u.data[l];zr(d,!1);let h=aO(u,c,d,t);Zc()&&ru(u,c,h,d),Xn(h,c);let f=jw(h,c,h,d);return c[l]=f,lu(c,f),nO(f,d,c),Jc(d)&&Ep(u,c,d),o!=null&&wp(c,d,a),ho}var aO=cO;function cO(t,e,n,r){return Xc(!0),e[he].createComment("")}function Eo(t,e,n,r){let i=V(),s=Yi();if(Ut(i,s,e)){let o=fe(),a=yo();dP(a,i,t,e,n,r)}return Eo}function nD(t,e,n,r){return Ut(t,Yi(),n)?e+kr(n)+r:mt}function uO(t,e,n,r,i,s){let o=VN(),a=tD(t,o,n,i);return rp(2),a?e+kr(n)+r+kr(i)+s:mt}function yc(t,e){return t<<17|e<<2}function Hr(t){return t>>17&32767}function lO(t){return(t&2)==2}function dO(t,e){return t&131071|e<<17}function Sf(t){return t|2}function Wi(t){return(t&131068)>>2}function Mh(t,e){return t&-131069|e<<2}function hO(t){return(t&1)===1}function Mf(t){return t|1}function fO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Hr(o),c=Wi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||vo(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Hr(t[a+1]);t[r+1]=yc(h,a),h!==0&&(t[h+1]=Mh(t[h+1],r)),t[a+1]=dO(t[a+1],r)}else t[r+1]=yc(a,0),a!==0&&(t[a+1]=Mh(t[a+1],r)),a=r;else t[r+1]=yc(c,0),a===0?a=r:t[c+1]=Mh(t[c+1],r),c=r;u&&(t[r+1]=Sf(t[r+1])),GI(t,l,r,!0),GI(t,l,r,!1),pO(e,l,t,r,s),o=yc(a,c),s?e.classBindings=o:e.styleBindings=o}function pO(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&vo(s,e)>=0&&(n[r+1]=Mf(n[r+1]))}function GI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Hr(i):Wi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];gO(c,e)&&(a=!0,t[o+1]=r?Mf(u):Sf(u)),o=r?Hr(u):Wi(u)}a&&(t[n+1]=r?Sf(i):Mf(i))}function gO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?vo(t,e)>=0:!1}var Lt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mO(t){return t.substring(Lt.key,Lt.keyEnd)}function yO(t){return vO(t),rD(t,iD(t,0,Lt.textEnd))}function rD(t,e){let n=Lt.textEnd;return n===e?-1:(e=Lt.keyEnd=_O(t,Lt.key=e,n),iD(t,e,n))}function vO(t){Lt.key=0,Lt.keyEnd=0,Lt.value=0,Lt.valueEnd=0,Lt.textEnd=t.length}function iD(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function _O(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Rp(t,e,n){let r=V(),i=Yi();if(Ut(r,i,e)){let s=fe(),o=yo();uu(s,o,r,t,e,r[he],n,!1)}return Rp}function Nf(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Cp(t,n,s[o],o,r)}function sD(t,e,n){return oD(t,e,n,!1),sD}function fu(t,e){return oD(t,e,null,!0),fu}function Pp(t){EO(AO,IO,t,!0)}function IO(t,e){for(let n=yO(e);n>=0;n=rD(e,n))up(t,mO(e),!0)}function oD(t,e,n,r){let i=V(),s=fe(),o=rp(2);if(s.firstUpdatePass&&cD(s,t,o,r),e!==mt&&Ut(i,o,e)){let a=s.data[nr()];uD(s,a,i,i[he],t,i[o+1]=MO(e,n),r,o)}}function EO(t,e,n,r){let i=fe(),s=rp(2);i.firstUpdatePass&&cD(i,null,s,r);let o=V();if(n!==mt&&Ut(o,s,n)){let a=i.data[nr()];if(lD(a,r)&&!aD(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Fh(c,n||"")),Nf(i,a,o,n,r)}else SO(i,a,o,o[he],o[s+1],o[s+1]=bO(t,e,n),r,s)}}function aD(t,e){return e>=t.expandoStartIndex}function cD(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[nr()],o=aD(t,n);lD(s,r)&&e===null&&!o&&(e=!1),e=wO(i,s,e,r),fO(i,s,e,n,o,r)}}function wO(t,e,n,r){let i=xE(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Nh(null,t,e,n,r),n=fo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Nh(i,t,e,n,r),s===null){let c=DO(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Nh(null,t,e,c[1],r),c=fo(c,e.attrs,r),TO(t,e,r,c))}else s=CO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function DO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Wi(r)!==0)return t[Hr(r)]}function TO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Hr(i)]=r}function CO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=fo(r,o,n)}return fo(r,e.attrs,n)}function Nh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=fo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function fo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),up(t,o,n?!0:e[++s]))}return t===void 0?null:t}function bO(t,e,n){if(n==null||n==="")return lt;let r=[],i=Ji(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function AO(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&up(t,r,n)}function SO(t,e,n,r,i,s,o,a){i===mt&&(i=lt);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0,g=null,y;l===d?(c+=2,u+=2,h!==f&&(g=d,y=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,y=f),g!==null&&uD(t,e,n,r,g,y,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function uD(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=hO(u)?qI(c,e,n,i,Wi(u),o):void 0;if(!$c(l)){$c(s)||lO(u)&&(s=qI(c,null,n,i,a,o));let d=CE(nr(),n);iR(r,o,d,i,s)}}function qI(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===mt&&(h=d?lt:void 0);let f=d?wh(h,r):l===r?h:void 0;if(u&&!$c(f)&&(f=wh(c,r)),$c(f)&&(a=f,o))return a;let g=t[i+1];i=o?Hr(g):Wi(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=wh(c,r))}return a}function $c(t){return t!==void 0}function MO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ye(Ji(t)))),t}function lD(t,e){return(t.flags&(e?8:16))!==0}var xf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function xh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function NO(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=xh(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=xh(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),y=n(o,d),_=n(s,u);if(Object.is(_,y)){let T=n(a,h);Object.is(T,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Hc,i??=WI(t,s,o,n),Rf(t,r,s,_))t.updateValue(s,u),s++,o++;else if(i.has(_))r.set(g,t.detach(s)),o--;else{let T=t.create(s,e[s]);t.attach(s,T),s++,o++}}for(;s<=a;)zI(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=xh(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Hc,i??=WI(t,s,o,n);let h=n(s,l);if(Rf(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)zI(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Rf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function zI(t,e,n,r,i){if(Rf(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function WI(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Hc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function dD(t,e,n){Io("NgControlFlow");let r=V(),i=Yi(),s=Ff(r,Pe+t),o=0;if(Ut(r,i,e)){let a=be(null);try{if(Jw(s,o),e!==-1){let c=Vf(r[F],Pe+e),u=uo(s,c.tView.ssrId),l=du(r,c,n,{dehydratedView:u});hu(s,l,o,lo(c,u))}}finally{be(a)}}else{let a=Yw(s,o);a!==void 0&&(a[je]=n)}}var Pf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ue}};function PW(t){return t}function OW(t,e){return e}var Of=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function kW(t,e,n,r,i,s,o,a,c,u,l,d,h){Io("NgControlFlow");let f=c!==void 0,g=V(),y=a?o.bind(g[Dt][je]):o,_=new Of(f,y);g[Pe+t]=_,ho(t+1,e,n,r,i,s),f&&ho(t+2,c,u,l,d,h)}var kf=class extends xf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ue}at(e){return this.getLView(e)[je].$implicit}attach(e,n){let r=n[Bi];this.needsIndexUpdate||=e!==this.length,hu(this.lContainer,n,e,lo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,xO(this.lContainer,e)}create(e,n){let r=uo(this.lContainer,this.templateTNode.tView.ssrId);return du(this.hostLView,this.templateTNode,new Pf(this.lContainer,n,e),{dehydratedView:r})}destroy(e){nu(e[F],e)}updateValue(e,n){this.getLView(e)[je].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[je].$index=e}getLView(e){return RO(this.lContainer,e)}};function FW(t){let e=be(null),n=nr();try{let r=V(),i=r[F],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Ff(r,a),u=Vf(i,a);s.liveCollection=new kf(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(NO(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Yi(),c=o.length===0;if(Ut(r,a,c)){let u=n+2,l=Ff(r,u);if(c){let d=Vf(i,u),h=uo(l,d.tView.ssrId),f=du(r,d,void 0,{dehydratedView:h});hu(l,f,0,lo(d,h))}else Jw(l,0)}}}finally{be(e)}}function Ff(t,e){return t[e]}function xO(t,e){return co(t,e)}function RO(t,e){return Yw(t,e)}function Vf(t,e){return Jf(t,e)}function PO(t,e,n,r,i,s){let o=e.consts,a=Gi(o,i),c=Xi(e,t,2,r,a);return Tp(e,n,c,Gi(o,s)),c.attrs!==null&&jc(c,c.attrs,!1),c.mergedAttrs!==null&&jc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ts(t,e,n,r){let i=V(),s=fe(),o=Pe+t,a=i[he],c=s.firstCreatePass?PO(o,s,i,e,n,r):s.data[o],u=OO(s,i,c,a,e,t);i[o]=u;let l=Jc(c);return zr(c,!0),vw(a,u,c),(c.flags&32)!==32&&Zc()&&ru(s,i,u,c),NN()===0&&Xn(u,i),xN(),l&&(Ep(s,i,c),Ip(s,c,i)),r!==null&&wp(i,c),ts}function ns(){let t=et();tp()?np():(t=t.parent,zr(t,!1));let e=t;PN(e)&&ON(),RN();let n=fe();return n.firstCreatePass&&(eu(n,t),Yf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&QN(e)&&Nf(n,e,V(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&YN(e)&&Nf(n,e,V(),e.stylesWithoutHost,!1),ns}function Op(t,e,n,r){return ts(t,e,n,r),ns(),Op}var OO=(t,e,n,r,i,s)=>(Xc(!0),uw(r,i,qN()));function kO(t,e,n,r,i){let s=e.consts,o=Gi(s,r),a=Xi(e,t,8,"ng-container",o);o!==null&&jc(a,o,!0);let c=Gi(s,i);return Tp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function FO(t,e,n){let r=V(),i=fe(),s=t+Pe,o=i.firstCreatePass?kO(s,i,r,e,n):i.data[s];zr(o,!0);let a=LO(i,r,o,t);return r[s]=a,Zc()&&ru(i,r,a,o),Xn(a,r),Jc(o)&&(Ep(i,r,o),Ip(i,o,r)),n!=null&&wp(r,o),FO}function VO(){let t=et(),e=fe();return tp()?np():(t=t.parent,zr(t,!1)),e.firstCreatePass&&(eu(e,t),Yf(t)&&e.queries.elementEnd(t)),VO}var LO=(t,e,n,r)=>(Xc(!0),$x(e[he],""));function VW(){return V()}function jO(t,e,n){let r=V(),i=Yi();if(Ut(r,i,e)){let s=fe(),o=yo(),a=xE(s.data),c=gP(a,o,r);uu(s,o,r,t,e,c,n,!0)}return jO}var Rr=void 0;function UO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var BO=["en",[["a","p"],["AM","PM"],Rr],[["AM","PM"],Rr,Rr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rr,"{1} 'at' {0}",Rr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",UO],Rh={};function At(t){let e=$O(t),n=KI(e);if(n)return n;let r=e.split("-")[0];if(n=KI(r),n)return n;if(r==="en")return BO;throw new H(701,!1)}function KI(t){return t in Rh||(Rh[t]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[t]),Rh[t]}var _e=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_e||{});function $O(t){return t.toLowerCase().replace(/_/g,"-")}var Gc="en-US";var HO=Gc;function GO(t){typeof t=="string"&&(HO=t.toLowerCase().replace(/_/g,"-"))}function rs(t){return!!t&&typeof t.then=="function"}function kp(t){return!!t&&typeof t.subscribe=="function"}function Kr(t,e,n,r){let i=V(),s=fe(),o=et();return zO(s,i,i[he],o,t,e,r),Kr}function qO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ro],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function zO(t,e,n,r,i,s,o){let a=Jc(r),u=t.firstCreatePass&&$w(t),l=e[je],d=Bw(e),h=!0;if(r.type&3||o){let y=Tt(r,e),_=o?o(y):y,T=d.length,$=o?ee=>o(en(ee[r.index])):r.index,Q=null;if(!o&&a&&(Q=qO(t,e,i,r.index)),Q!==null){let ee=Q.__ngLastListenerFn__||Q;ee.__ngNextListenerFn__=s,Q.__ngLastListenerFn__=s,h=!1}else{s=YI(r,e,l,s,!1);let ee=n.listen(_,i,s);d.push(s,ee),u&&u.push(i,$,T,T+1)}}else s=YI(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let y=g.length;if(y)for(let _=0;_<y;_+=2){let T=g[_],$=g[_+1],ve=e[T][$].subscribe(s),te=d.length;d.push(s,ve),u&&u.push(i,r.index,te,-(te+1))}}}function QI(t,e,n,r){try{return Jt(6,e,n),n(r)!==!1}catch(i){return Hw(t,i),!1}finally{Jt(7,e,n)}}function YI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?tr(t.index,e):e;bp(a);let c=QI(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=QI(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Fp(t=1){return HN(t)}function WO(t,e){let n=null,r=oN(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?hE(t,s,!0):uN(r,s))return i}return n}function hD(t){let e=V()[Dt][pt];if(!e.projection){let n=t?t.length:1,r=e.projection=dx(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?WO(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function fD(t,e=0,n){let r=V(),i=fe(),s=Xi(i,Pe+t,16,null,n||null);s.projection===null&&(s.projection=e),np(),(!r[Bi]||ME())&&(s.flags&32)!==32&&nR(i,r,s)}function KO(t,e,n){return pD(t,"",e,"",n),KO}function pD(t,e,n,r,i){let s=V(),o=nD(s,e,n,r);if(o!==mt){let a=fe(),c=yo();uu(a,c,s,t,o,s[he],i,!1)}return pD}function QO(t,e,n,r,i,s,o){let a=V(),c=uO(a,e,n,r,i,s);if(c!==mt){let u=fe(),l=yo();uu(u,l,a,t,c,a[he],o,!1)}return QO}function YO(){return this._results[Symbol.iterator]()}var Lf=class t{get changes(){return this._changes??=new wt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=YO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=lx(e);(this._changesDetected=!ux(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Gr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=XO;let t=e;return t})(),JO=Gr,ZO=class extends JO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=du(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new $r(i)}};function XO(){return Vp(et(),V())}function Vp(t,e){return t.type&4?new ZO(e,t,Zi(t,e)):null}var jf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Uf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)vD(e,n).matches!==null&&this.queries[n].setDirty()}},qc=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Bf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$f=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,ek(n,s)),this.matchTNodeWithReadOption(e,n,Ic(n,e,s,!1,!1))}else r===Gr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ic(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===bt||i===es||i===Gr&&n.type&4)this.addMatch(n.index,-2);else{let s=Ic(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function ek(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function tk(t,e){return t.type&11?Zi(t,e):t.type&4?Vp(t,e):null}function nk(t,e,n,r){return n===-1?tk(e,t):n===-2?rk(t,e,r):Br(t,t[F],n,e)}function rk(t,e,n){if(n===bt)return Zi(e,t);if(n===Gr)return Vp(e,t);if(n===es)return Xw(e,t)}function gD(t,e,n,r){let i=e[Xt].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(nk(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Hf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=gD(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=Ue;d<l.length;d++){let h=l[d];h[go]===h[Re]&&Hf(h[F],h,u,r)}if(l[Hi]!==null){let d=l[Hi];for(let h=0;h<d.length;h++){let f=d[h];Hf(f[F],f,u,r)}}}}}return r}function ik(t,e){return t[Xt].queries[e].queryList}function mD(t,e,n){let r=new Lf((n&4)===4);YR(t,e,r,r.destroy),e[Xt]===null&&(e[Xt]=new Uf),e[Xt].queries.push(new jf(r))}function yD(t,e,n){t.queries===null&&(t.queries=new Bf),t.queries.track(new $f(e,n))}function sk(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function vD(t,e){return t.queries.getByIndex(e)}function jW(t,e,n,r){let i=fe();if(i.firstCreatePass){let s=et();yD(i,new qc(e,n,r),s.index),sk(i,t),(n&2)===2&&(i.staticContentQueries=!0)}mD(i,V(),n)}function UW(t,e,n){let r=fe();r.firstCreatePass&&(yD(r,new qc(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),mD(r,V(),e)}function BW(t){let e=V(),n=fe(),r=RE();ip(r+1);let i=vD(n,r);if(t.dirty&&CN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Hf(n,e,r,[]):gD(n,e,i,r);t.reset(s,xR),t.notifyOnChanges()}return!0}return!1}function $W(){return ik(V(),RE())}function ok(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function HW(t){let e=FN();return Zf(e,Pe+t)}function _D(t,e=""){let n=V(),r=fe(),i=t+Pe,s=r.firstCreatePass?Xi(r,i,1,e,null):r.data[i],o=ak(r,n,s,e,t);n[i]=o,Zc()&&ru(r,n,o,s),zr(s,!1)}var ak=(t,e,n,r,i)=>(Xc(!0),Ux(e[he],r));function ck(t){return ID("",t,""),ck}function ID(t,e,n){let r=V(),i=nD(r,t,e,n);return i!==mt&&mP(r,nr(),i),ID}function uk(t,e,n){let r=fe();if(r.firstCreatePass){let i=wn(t);Gf(n,r.data,r.blueprint,i,!0),Gf(e,r.data,r.blueprint,i,!1)}}function Gf(t,e,n,r,i){if(t=Qe(t),Array.isArray(t))for(let s=0;s<t.length;s++)Gf(t[s],e,n,r,i);else{let s=fe(),o=V(),a=et(),c=qi(t)?t:Qe(t.provide),u=rw(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(qi(t)||!t.multi){let f=new Ur(u,i,k),g=Oh(c,e,i?l:l+h,d);g===-1?(qh(Nc(a,o),s,c),Ph(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=Oh(c,e,l+h,d),g=Oh(c,e,l,l+h),y=f>=0&&n[f],_=g>=0&&n[g];if(i&&!_||!i&&!y){qh(Nc(a,o),s,c);let T=hk(i?dk:lk,n.length,i,r,u);!i&&_&&(n[g].providerFactory=T),Ph(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else{let T=ED(n[i?g:f],u,!i&&r);Ph(s,t,f>-1?f:g,T)}!i&&r&&_&&n[g].componentProviders++}}}function Ph(t,e,n,r){let i=qi(e),s=Ix(e);if(i||s){let c=(s?Qe(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function ED(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Oh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function lk(t,e,n,r){return qf(this.multi,[])}function dk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Br(n,n[F],this.providerFactory.index,r);s=a.slice(0,o),qf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],qf(i,s);return s}function qf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function hk(t,e,n,r,i){let s=new Ur(t,n,k);return s.multi=[],s.index=e,s.componentProviders=0,ED(s,i,r&&!n),s}function St(t,e=[]){return n=>{n.providersResolver=(r,i)=>uk(r,i?i(t):t,e)}}var fk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=XE(!1,r.type),s=i.length>0?iO([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(D(Zn))});let t=e;return t})();function wD(t){Io("NgStandalone"),t.getStandaloneInjector=e=>e.get(fk).getOrCreateStandaloneInjector(t)}function GW(t,e,n){let r=mo()+t,i=V();return i[r]===mt?xp(i,r,n?e.call(n):e()):sO(i,r)}function qW(t,e,n,r){return TD(V(),mo(),t,e,n,r)}function zW(t,e,n,r,i){return CD(V(),mo(),t,e,n,r,i)}function DD(t,e){let n=t[e];return n===mt?void 0:n}function TD(t,e,n,r,i,s){let o=e+n;return Ut(t,o,i)?xp(t,o+1,s?r.call(s,i):r(i)):DD(t,o+1)}function CD(t,e,n,r,i,s,o){let a=e+n;return tD(t,a,i,s)?xp(t,a+2,o?r.call(o,i,s):r(i,s)):DD(t,a+2)}function WW(t,e){let n=fe(),r,i=t+Pe;n.firstCreatePass?(r=pk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Lr(r.type,!0)),o,a=ct(k);try{let c=Mc(!1),u=s();return Mc(c),ok(n,V(),i,u),u}finally{ct(a)}}function pk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function KW(t,e,n){let r=t+Pe,i=V(),s=Zf(i,r);return bD(i,r)?TD(i,mo(),e,s.transform,n,s):s.transform(n)}function QW(t,e,n,r){let i=t+Pe,s=V(),o=Zf(s,i);return bD(s,i)?CD(s,mo(),e,o.transform,n,r,o):o.transform(n,r)}function bD(t,e){return t[F].data[e].pure}var qr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},AD=new qr("17.1.3"),YW=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),zf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},JW=(()=>{let e=class e{compileModuleSync(r){return new Af(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=mE(r),o=ow(s.declarations).reduce((a,c)=>{let u=Jn(c);return u&&a.push(new zi(u)),a},[]);return new zf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gk=new A("");var mk=new A(""),SD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=ne(mk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(rs(o))r.push(o);else if(kp(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lp=new A("");function yk(){lI(()=>{throw new H(600,!1)})}function vk(t){return t.isBoundToModule}function _k(t,e,n){try{let r=n();return rs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var MD=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ne(Nw),this.afterRenderEffectManager=ne(Mp),this.componentTypes=[],this.components=[],this.isStable=ne(eD).hasPendingTasks.pipe(Se(r=>!r)),this._injector=ne(Zn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Fc;if(!this._injector.get(SD).done){let f=!s&&gN(r),g=!1;throw new H(405,g)}let a;s?a=r:a=this._injector.get(au).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=vk(a)?void 0:this._injector.get(er),u=i||a.selector,l=a.create(tt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(gk,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),kh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new H(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(r===Gw)throw new H(103,!1);let i=r===0;for(let{_lView:s,notifyErrorHandler:o}of this._views)!i&&!JI(s)||this.detectChangesInView(s,o,i);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:i})=>JI(i)))}detectChangesInView(r,i,s){let o;s?(o=0,r[N]|=1024):r[N]&64?o=0:o=1,qw(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;kh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Lp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>kh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new H(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function JI(t){return ep(t)}var Ik=(()=>{let e=class e{constructor(){this.zone=ne(ae),this.applicationRef=ne(MD)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ek(t){return[{provide:ae,useFactory:t},{provide:Rc,multi:!0,useFactory:()=>{let e=ne(Ik,{optional:!0});return()=>e.initialize()}},{provide:Rc,multi:!0,useFactory:()=>{let e=ne(Ck);return()=>{e.initialize()}}},{provide:Nw,useFactory:wk}]}function wk(){let t=ne(ae),e=ne(Tn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Dk(t){let e=Ek(()=>new ae(Tk(t)));return gx([[],e])}function Tk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Ck=(()=>{let e=class e{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=ne(ae),this.pendingTasks=ne(eD)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bk(){return typeof $localize<"u"&&$localize.locale||Gc}var pu=new A("",{providedIn:"root",factory:()=>ne(pu,z.Optional|z.SkipSelf)||bk()});var ND=new A("");var Dc=null;function Ak(t=[],e){return tt.create({name:e,providers:[{provide:nw,useValue:"platform"},{provide:ND,useValue:new Set([()=>Dc=null])},...t]})}function Sk(t=[]){if(Dc)return Dc;let e=Ak(t);return Dc=e,yk(),Mk(e),e}function Mk(t){t.get(Mx,null)?.forEach(n=>n())}function ZW(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Sk(r),s=[Dk(),...n||[]],a=new Bc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ae);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Tn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(ND);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),_k(u,c,()=>{let f=a.get(SD);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(pu,Gc);GO(g||Gc);let y=a.get(MD);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}function jp(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function XW(t){let e=Jn(t);if(!e)return null;let n=new zi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var jD=null;function is(){return jD}function I5(t){jD??=t}var xD=class{},Yp=new A(""),Jp=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>ne(Nk),providedIn:"platform"});let t=e;return t})(),E5=new A(""),Nk=(()=>{let e=class e extends Jp{constructor(){super(),this._doc=ne(Yp),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return is().getBaseHref(this._doc)}onPopState(r){let i=is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Zp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function RD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Mn(t){return t&&t[0]!=="?"?"?"+t:t}var Tu=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>ne(xk),providedIn:"root"});let t=e;return t})(),UD=new A(""),xk=(()=>{let e=class e extends Tu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ne(Yp).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Zp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Mn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Mn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Mn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(D(Jp),D(UD,8))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),w5=(()=>{let e=class e extends Tu{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Zp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Mn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Mn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(D(Jp),D(UD,8))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Rk=(()=>{let e=class e{constructor(r){this._subject=new wt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=kk(RD(PD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Mn(i))}normalize(r){return e.stripTrailingSlash(Ok(this._basePath,PD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Mn,e.joinWithSlash=Zp,e.stripTrailingSlash=RD,e.\u0275fac=function(i){return new(i||e)(D(Tu))},e.\u0275prov=x({token:e,factory:()=>Pk(),providedIn:"root"});let t=e;return t})();function Pk(){return new Rk(D(Tu))}function Ok(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function PD(t){return t.replace(/\/index.html$/,"")}function kk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var nt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(nt||{}),ie=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ie||{}),yt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(yt||{}),Nn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Nn||{});function Fk(t){return At(t)[_e.LocaleId]}function Vk(t,e,n){let r=At(t),i=[r[_e.DayPeriodsFormat],r[_e.DayPeriodsStandalone]],s=Mt(i,e);return Mt(s,n)}function Lk(t,e,n){let r=At(t),i=[r[_e.DaysFormat],r[_e.DaysStandalone]],s=Mt(i,e);return Mt(s,n)}function jk(t,e,n){let r=At(t),i=[r[_e.MonthsFormat],r[_e.MonthsStandalone]],s=Mt(i,e);return Mt(s,n)}function Uk(t,e){let r=At(t)[_e.Eras];return Mt(r,e)}function gu(t,e){let n=At(t);return Mt(n[_e.DateFormat],e)}function mu(t,e){let n=At(t);return Mt(n[_e.TimeFormat],e)}function yu(t,e){let r=At(t)[_e.DateTimeFormat];return Mt(r,e)}function Cu(t,e){let n=At(t),r=n[_e.NumberSymbols][e];if(typeof r>"u"){if(e===Nn.CurrencyDecimal)return n[_e.NumberSymbols][Nn.Decimal];if(e===Nn.CurrencyGroup)return n[_e.NumberSymbols][Nn.Group]}return r}function BD(t){if(!t[_e.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[_e.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Bk(t){let e=At(t);return BD(e),(e[_e.ExtraData][2]||[]).map(r=>typeof r=="string"?Up(r):[Up(r[0]),Up(r[1])])}function $k(t,e,n){let r=At(t);BD(r);let i=[r[_e.ExtraData][0],r[_e.ExtraData][1]],s=Mt(i,e)||[];return Mt(s,n)||[]}function Mt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Up(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Hk=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vu={},Gk=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(xn||{}),J=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(J||{}),Y=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Y||{});function qk(t,e,n,r){let i=e1(t);e=Sn(n,e)||e;let o=[],a;for(;e;)if(a=Gk.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=HD(r,c),i=Xk(i,r,!0));let u="";return o.forEach(l=>{let d=Jk(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Du(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Sn(t,e){let n=Fk(t);if(vu[n]??={},vu[n][e])return vu[n][e];let r="";switch(e){case"shortDate":r=gu(t,yt.Short);break;case"mediumDate":r=gu(t,yt.Medium);break;case"longDate":r=gu(t,yt.Long);break;case"fullDate":r=gu(t,yt.Full);break;case"shortTime":r=mu(t,yt.Short);break;case"mediumTime":r=mu(t,yt.Medium);break;case"longTime":r=mu(t,yt.Long);break;case"fullTime":r=mu(t,yt.Full);break;case"short":let i=Sn(t,"shortTime"),s=Sn(t,"shortDate");r=_u(yu(t,yt.Short),[i,s]);break;case"medium":let o=Sn(t,"mediumTime"),a=Sn(t,"mediumDate");r=_u(yu(t,yt.Medium),[o,a]);break;case"long":let c=Sn(t,"longTime"),u=Sn(t,"longDate");r=_u(yu(t,yt.Long),[c,u]);break;case"full":let l=Sn(t,"fullTime"),d=Sn(t,"fullDate");r=_u(yu(t,yt.Full),[l,d]);break}return r&&(vu[n][e]=r),r}function _u(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Bt(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function zk(t,e){return Bt(t,3).substring(0,e)}function Ie(t,e,n=0,r=!1,i=!1){return function(s,o){let a=Wk(t,s);if((n>0||a>-n)&&(a+=n),t===J.Hours)a===0&&n===-12&&(a=12);else if(t===J.FractionalSeconds)return zk(a,e);let c=Cu(o,Nn.MinusSign);return Bt(a,e,c,r,i)}}function Wk(t,e){switch(t){case J.FullYear:return e.getFullYear();case J.Month:return e.getMonth();case J.Date:return e.getDate();case J.Hours:return e.getHours();case J.Minutes:return e.getMinutes();case J.Seconds:return e.getSeconds();case J.FractionalSeconds:return e.getMilliseconds();case J.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function se(t,e,n=nt.Format,r=!1){return function(i,s){return Kk(i,s,t,e,n,r)}}function Kk(t,e,n,r,i,s){switch(n){case Y.Months:return jk(e,i,r)[t.getMonth()];case Y.Days:return Lk(e,i,r)[t.getDay()];case Y.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=Bk(e),l=$k(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,g]=h,y=o>=f.hours&&a>=f.minutes,_=o<g.hours||o===g.hours&&a<g.minutes;if(f.hours<g.hours){if(y&&_)return!0}else if(y||_)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return Vk(e,i,r)[o<12?0:1];case Y.Eras:return Uk(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Iu(t){return function(e,n,r){let i=-1*r,s=Cu(n,Nn.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case xn.Short:return(i>=0?"+":"")+Bt(o,2,s)+Bt(Math.abs(i%60),2,s);case xn.ShortGMT:return"GMT"+(i>=0?"+":"")+Bt(o,1,s);case xn.Long:return"GMT"+(i>=0?"+":"")+Bt(o,2,s)+":"+Bt(Math.abs(i%60),2,s);case xn.Extended:return r===0?"Z":(i>=0?"+":"")+Bt(o,2,s)+":"+Bt(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var Qk=0,wu=4;function Yk(t){let e=Du(t,Qk,1).getDay();return Du(t,0,1+(e<=wu?wu:wu+7)-e)}function $D(t){let e=t.getDay(),n=e===0?-3:wu-e;return Du(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Bp(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=$D(n),o=Yk(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Bt(i,t,Cu(r,Nn.MinusSign))}}function Eu(t,e=!1){return function(n,r){let s=$D(n).getFullYear();return Bt(s,t,Cu(r,Nn.MinusSign),e)}}var $p={};function Jk(t){if($p[t])return $p[t];let e;switch(t){case"G":case"GG":case"GGG":e=se(Y.Eras,ie.Abbreviated);break;case"GGGG":e=se(Y.Eras,ie.Wide);break;case"GGGGG":e=se(Y.Eras,ie.Narrow);break;case"y":e=Ie(J.FullYear,1,0,!1,!0);break;case"yy":e=Ie(J.FullYear,2,0,!0,!0);break;case"yyy":e=Ie(J.FullYear,3,0,!1,!0);break;case"yyyy":e=Ie(J.FullYear,4,0,!1,!0);break;case"Y":e=Eu(1);break;case"YY":e=Eu(2,!0);break;case"YYY":e=Eu(3);break;case"YYYY":e=Eu(4);break;case"M":case"L":e=Ie(J.Month,1,1);break;case"MM":case"LL":e=Ie(J.Month,2,1);break;case"MMM":e=se(Y.Months,ie.Abbreviated);break;case"MMMM":e=se(Y.Months,ie.Wide);break;case"MMMMM":e=se(Y.Months,ie.Narrow);break;case"LLL":e=se(Y.Months,ie.Abbreviated,nt.Standalone);break;case"LLLL":e=se(Y.Months,ie.Wide,nt.Standalone);break;case"LLLLL":e=se(Y.Months,ie.Narrow,nt.Standalone);break;case"w":e=Bp(1);break;case"ww":e=Bp(2);break;case"W":e=Bp(1,!0);break;case"d":e=Ie(J.Date,1);break;case"dd":e=Ie(J.Date,2);break;case"c":case"cc":e=Ie(J.Day,1);break;case"ccc":e=se(Y.Days,ie.Abbreviated,nt.Standalone);break;case"cccc":e=se(Y.Days,ie.Wide,nt.Standalone);break;case"ccccc":e=se(Y.Days,ie.Narrow,nt.Standalone);break;case"cccccc":e=se(Y.Days,ie.Short,nt.Standalone);break;case"E":case"EE":case"EEE":e=se(Y.Days,ie.Abbreviated);break;case"EEEE":e=se(Y.Days,ie.Wide);break;case"EEEEE":e=se(Y.Days,ie.Narrow);break;case"EEEEEE":e=se(Y.Days,ie.Short);break;case"a":case"aa":case"aaa":e=se(Y.DayPeriods,ie.Abbreviated);break;case"aaaa":e=se(Y.DayPeriods,ie.Wide);break;case"aaaaa":e=se(Y.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":e=se(Y.DayPeriods,ie.Abbreviated,nt.Standalone,!0);break;case"bbbb":e=se(Y.DayPeriods,ie.Wide,nt.Standalone,!0);break;case"bbbbb":e=se(Y.DayPeriods,ie.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=se(Y.DayPeriods,ie.Abbreviated,nt.Format,!0);break;case"BBBB":e=se(Y.DayPeriods,ie.Wide,nt.Format,!0);break;case"BBBBB":e=se(Y.DayPeriods,ie.Narrow,nt.Format,!0);break;case"h":e=Ie(J.Hours,1,-12);break;case"hh":e=Ie(J.Hours,2,-12);break;case"H":e=Ie(J.Hours,1);break;case"HH":e=Ie(J.Hours,2);break;case"m":e=Ie(J.Minutes,1);break;case"mm":e=Ie(J.Minutes,2);break;case"s":e=Ie(J.Seconds,1);break;case"ss":e=Ie(J.Seconds,2);break;case"S":e=Ie(J.FractionalSeconds,1);break;case"SS":e=Ie(J.FractionalSeconds,2);break;case"SSS":e=Ie(J.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Iu(xn.Short);break;case"ZZZZZ":e=Iu(xn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Iu(xn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Iu(xn.Long);break;default:return null}return $p[t]=e,e}function HD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Zk(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Xk(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=HD(e,i);return Zk(t,r*(s-i))}function e1(t){if(OD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Du(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Hk))return t1(r)}let e=new Date(t);if(!OD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function t1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function OD(t){return t instanceof Date&&!isNaN(t.valueOf())}function D5(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Hp=/\s+/,kD=[],T5=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=kD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Hp):kD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Hp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Hp).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(k(bt),k(rr))},e.\u0275dir=ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Je.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Gp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},C5=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Gp(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),FD(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);FD(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(k(es),k(Gr),k(_p))},e.\u0275dir=ce({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function FD(t,e){t.context.$implicit=e.item}var b5=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new qp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){VD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){VD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(k(es),k(Gr))},e.\u0275dir=ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),qp=class{constructor(){this.$implicit=null,this.ngIf=null}};function VD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ye(e)}'.`)}function Xp(t,e){return new H(2100,!1)}var zp=class{createSubscription(e,n){return vp(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){vp(()=>e.unsubscribe())}},Wp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},n1=new Wp,r1=new zp,A5=(()=>{let e=class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(rs(r))return n1;if(kp(r))return r1;throw Xp(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(k(Ap,16))},e.\u0275pipe=Kc({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var i1=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,S5=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw Xp(e,r);return r.replace(i1,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Kc({name:"titlecase",type:e,pure:!0,standalone:!0});let t=e;return t})();var s1="mediumDate",o1=new A(""),a1=new A(""),M5=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??s1,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return qk(r,a,o||this.locale,c)}catch(a){throw Xp(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(k(pu,16),k(o1,24),k(a1,24))},e.\u0275pipe=Kc({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var N5=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ze({});let t=e;return t})(),c1="browser",u1="server";function l1(t){return t===c1}function GD(t){return t===u1}var x5=(()=>{let e=class e{};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>l1(ne(Wr))?new Kp(ne(Yp),window):new Qp});let t=e;return t})(),Kp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=d1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function d1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Qp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},LD=class{};var bu=(()=>{class t{constructor(){this.bootstrap$=new Sr(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function h1(t,e){return t===e}function f1(t,e,n){if(e===null||n===null||e.length!==n.length)return!1;let r=e.length;for(let i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function Au(t,e=h1){let n=null,r=null;function i(){return f1(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}return i.reset=function(){n=null,r=null},i}var p1=(()=>{class t{static set(n){this._value=n}static pop(){let n=this._value;return this._value={},n}}return t._value={},t})(),eg=new A("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>p1.pop()}),qD=new A("\u0275NGXS_STATE_FACTORY"),zD=new A("\u0275NGXS_STATE_CONTEXT_FACTORY");function WD(t){return typeof t=="function"}function os(t){return t.constructor&&t.constructor.type?t.constructor.type:t.type}function Q5(t){let e=os(t);return function(n){return e===os(n)}}var ZD=(t,e,n)=>{t=Object.assign({},t);let r=e.split("."),i=r.length-1;return r.reduce((s,o,a)=>(a===i?s[o]=n:s[o]=Array.isArray(s[o])?s[o].slice():Object.assign({},s[o]),s&&s[o]),t),t},cg=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t),tg=t=>t&&typeof t=="object"&&!Array.isArray(t),ng=(t,...e)=>{if(!e.length)return t;let n=e.shift();if(tg(t)&&tg(n))for(let r in n)tg(n[r])?(t[r]||Object.assign(t,{[r]:{}}),ng(t[r],n[r])):Object.assign(t,{[r]:n[r]});return ng(t,...e)};function m1(t,e,n){throw new Error(`State name '${t}' from ${e} already exists in ${n}.`)}function y1(t){throw new Error(`States must be decorated with @State() decorator, but "${t}" isn't.`)}function v1(t){return`'${t}' class should be decorated with @Injectable() right after the @State() decorator`}function _1(){throw new Error("You have forgotten to import the NGXS module!")}var XD=(()=>{class t{constructor(n,r){this._ngZone=n,this._platformId=r}enter(n){return GD(this._platformId)?this.runInsideAngular(n):this.runOutsideAngular(n)}leave(n){return this.runInsideAngular(n)}runInsideAngular(n){return ae.isInAngularZone()?n():this._ngZone.run(n)}runOutsideAngular(n){return ae.isInAngularZone()?this._ngZone.runOutsideAngular(n):n()}}return t.\u0275fac=function(n){return new(n||t)(D(ae),D(Wr))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var eT=new A("ROOT_OPTIONS"),tT=new A("ROOT_STATE_TOKEN"),nT=new A("FEATURE_STATE_TOKEN"),I1=new A("NGXS_PLUGINS"),Rn="NGXS_META",rT="NGXS_OPTIONS_META",rg="NGXS_SELECTOR_META",Nu=(()=>{class t{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=XD}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:function(n){let r=null;return n?r=new n:r=(i=>ng(new t,i))(D(eT)),r},providedIn:"root"}),t})(),ig=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}},E1=(()=>{class t{enter(n){return n()}leave(n){return n()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),iT=new A("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),w1=new A("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{let t=ne(tu),e=t.get(iT);return e?t.get(e):t.get(typeof ut.Zone<"u"?XD:E1)}});function sT(t){if(!t.hasOwnProperty(Rn)){let e={name:null,actions:{},defaults:{},path:null,makeRootSelector(n){return n.getStateGetter(e.name)},children:[]};Object.defineProperty(t,Rn,{value:e})}return Do(t)}function Do(t){return t[Rn]}function oT(t){return t.hasOwnProperty(rg)||Object.defineProperty(t,rg,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),aT(t)}function aT(t){return t[rg]}function D1(t){let e=t.slice();return n=>e.reduce((r,i)=>r&&r[i],n)}function T1(t){let e=t,n="store."+e[0],r=0,i=e.length,s=n;for(;++r<i;)s=s+" && "+(n=n+"."+e[r]);return new Function("store","return "+s+";")}function cT(t,e){return e&&e.compatibility&&e.compatibility.strictContentSecurityPolicy?D1(t):T1(t)}function C1(t){let e=n=>t.find(i=>i===n)[Rn].name;return t.reduce((n,r)=>{let{name:i,children:s}=r[Rn];return n[i]=(s||[]).map(e),n},{})}function b1(t){return t.reduce((e,n)=>{let r=n[Rn];return e[r.name]=n,e},{})}function A1(t,e={}){let n=(r,i)=>{for(let s in r)if(r.hasOwnProperty(s)&&r[s].indexOf(i)>=0){let o=n(r,s);return o!==null?`${o}.${s}`:s}return null};for(let r in t)if(t.hasOwnProperty(r)){let i=n(t,r);e[r]=i?`${i}.${r}`:r}return e}function S1(t){let e=[],n={},r=(i,s=[])=>{Array.isArray(s)||(s=[]),s.push(i),n[i]=!0,t[i].forEach(o=>{n[o]||r(o,s.slice(0))}),e.indexOf(i)<0&&e.push(i)};return Object.keys(t).forEach(i=>r(i)),e.reverse()}function M1(t){return typeof t=="object"&&t!==null||typeof t=="function"}function N1(...t){return uT(t,["DISPATCHED"])}function Y5(...t){return uT(t,["SUCCESSFUL"])}function uT(t,e,n=R1){let r=P1(t),i=e&&O1(e);return function(s){return s.pipe(x1(r,i),n())}}function x1(t,e){return ft(n=>{let r=os(n.action),i=t[r],s=e?e[n.status]:!0;return i&&s})}function R1(){return Se(t=>t.action)}function P1(t){return t.reduce((e,n)=>(e[os(n)]=!0,e),{})}function O1(t){return t.reduce((e,n)=>(e[n]=!0,e),{})}function wo(t){return e=>new L(n=>e.subscribe({next(r){t.leave(()=>n.next(r))},error(r){t.leave(()=>n.error(r))},complete(){t.leave(()=>n.complete())}}))}var ug=(()=>{class t{constructor(n){this._executionStrategy=n}enter(n){return this._executionStrategy.enter(n)}leave(n){return this._executionStrategy.leave(n)}}return t.\u0275fac=function(n){return new(n||t)(D(w1))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lT(t){let e=[],n=!1;return function(...i){if(n){e.unshift(i);return}for(n=!0,t(...i);e.length>0;){let s=e.pop();s&&t(...s)}n=!1}}var sg=class extends ze{constructor(){super(...arguments),this._orderedNext=lT(e=>super.next(e))}next(e){this._orderedNext(e)}},og=class extends Ar{constructor(e){super(e),this._orderedNext=lT(n=>super.next(n)),this._currentValue=e}getValue(){return this._currentValue}next(e){this._currentValue=e,this._orderedNext(e)}},lg=(()=>{class t extends sg{ngOnDestroy(){this.complete()}}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(t)))(r||t)}})(),t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),J5=(()=>{class t extends L{constructor(n,r){let i=n.pipe(wo(r),Js());super(s=>{let o=i.subscribe({next:a=>s.next(a),error:a=>s.error(a),complete:()=>s.complete()});s.add(o)})}}return t.\u0275fac=function(n){return new(n||t)(D(lg),D(ug))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dT=t=>(...e)=>t.shift()(...e,(...r)=>dT(t)(...r));function k1(t,e){return n=>{let r=!1;return n.subscribe({error:i=>{e.enter(()=>Promise.resolve().then(()=>{r||e.leave(()=>t.reportErrorSafely(i))}))}}),new L(i=>(r=!0,n.pipe(wo(e)).subscribe(i)))}}var hT=(()=>{class t{constructor(n){this._injector=n,this._errorHandler=null}reportErrorSafely(n){this._errorHandler===null&&(this._errorHandler=this._injector.get(Tn));try{this._errorHandler.handleError(n)}catch{}}}return t.\u0275fac=function(n){return new(n||t)(D(tt))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dg=(()=>{class t extends og{constructor(){super({})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ag=(()=>{class t{constructor(n,r){this._parentManager=n,this._pluginHandlers=r,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){let n=this.getPluginHandlers();this.rootPlugins.push(...n)}getPluginHandlers(){return(this._pluginHandlers||[]).map(r=>r.handle?r.handle.bind(r):r)}}return t.\u0275fac=function(n){return new(n||t)(D(t,12),D(I1,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})(),fT=(()=>{class t extends ze{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(t)))(r||t)}})(),t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),F1=(()=>{class t{constructor(n,r,i,s,o,a){this._actions=n,this._actionResults=r,this._pluginManager=i,this._stateStream=s,this._ngxsExecutionStrategy=o,this._internalErrorReporter=a}dispatch(n){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(n)).pipe(k1(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(n){return Array.isArray(n)?n.length===0?In(this._stateStream.getValue()):Pi(n.map(r=>this.dispatchSingle(r))):this.dispatchSingle(n)}dispatchSingle(n){let r=this._stateStream.getValue(),i=this._pluginManager.plugins;return dT([...i,(s,o)=>{s!==r&&this._stateStream.next(s);let a=this.getActionResultStream(o);return a.subscribe(c=>this._actions.next(c)),this._actions.next({action:o,status:"DISPATCHED"}),this.createDispatchObservable(a)}])(r,n).pipe(xr())}getActionResultStream(n){return this._actionResults.pipe(ft(r=>r.action===n&&r.status!=="DISPATCHED"),Kt(1),xr())}createDispatchObservable(n){return n.pipe(Ys(r=>{switch(r.status){case"SUCCESSFUL":return In(this._stateStream.getValue());case"ERRORED":return Ks(r.error);default:return Wt}})).pipe(xr())}}return t.\u0275fac=function(n){return new(n||t)(D(lg),D(fT),D(ag),D(dg),D(ug),D(hT))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var To=(()=>{class t{constructor(n,r,i){this._stateStream=n,this._dispatcher=r,this._config=i}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:r=>this._stateStream.next(r),dispatch:r=>this._dispatcher.dispatch(r)}}setStateToTheCurrentWithNew(n){let r=this.getRootStateOperations(),i=r.getState();r.setState(Object.assign(Object.assign({},i),n.defaults))}}return t.\u0275fac=function(n){return new(n||t)(D(dg),D(F1),D(Nu))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function V1(t){return e=>{let n=Object.assign({},e);for(let r in t)n[r]=t[r];return n}}var hg=(()=>{class t{constructor(n){this._internalStateOperations=n}createStateContext(n){let r=this._internalStateOperations.getRootStateOperations();return{getState(){let i=r.getState();return gT(i,n.path)},patchState(i){let s=r.getState(),o=V1(i);return KD(r,s,o,n.path)},setState(i){let s=r.getState();return WD(i)?KD(r,s,i,n.path):pT(r,s,i,n.path)},dispatch(i){return r.dispatch(i)}}}}return t.\u0275fac=function(n){return new(n||t)(D(To))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pT(t,e,n,r){let i=ZD(e,r,n);return t.setState(i),i}function KD(t,e,n,r){let i=gT(e,r),s=n(i);return pT(t,e,s,r)}function gT(t,e){return cg(t,e)}var Z5=new RegExp("^[a-zA-Z0-9_]+$");function L1(t,e,n){let r=n[t];r&&r!==e&&m1(t,e.name,r.name)}function j1(t){t.forEach(e=>{Do(e)||y1(e.name)})}function U1(t){$1(t)||B1(t)||console.warn(v1(t.name))}function B1(t){return!!t.\u0275prov}function $1(t){return(t.__annotations__||[]).some(n=>n?.ngMetadataName==="Injectable")}var mT=(()=>{class t{}return t.type="@@INIT",t})(),yT=(()=>{class t{constructor(n){this.addedStates=n}}return t.type="@@UPDATE_STATE",t})(),H1=new A("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})}),G1=(()=>{class t{constructor(n){this._ignoredActions=new Set([mT.type,yT.type]),typeof n.warnOnUnhandledActions=="object"&&this.ignoreActions(...n.warnOnUnhandledActions.ignore)}ignoreActions(...n){for(let r of n)this._ignoredActions.add(r.type)}warn(n){Array.from(this._ignoredActions).some(i=>i===os(n))||(n=n.constructor&&n.constructor.name!=="Object"?n.constructor.name:n.type,console.warn(`The ${n} action has been dispatched but hasn't been handled. This may happen if the state with an action handler for this action is not registered.`))}}return t.\u0275fac=function(n){return new(n||t)(D(H1))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})(),Su=!1,ss=(()=>{class t{constructor(n,r,i,s,o,a,c){this._injector=n,this._config=r,this._parentFactory=i,this._actions=s,this._actionResults=o,this._stateContextFactory=a,this._initialState=c,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=Au(()=>{let u=this;function l(h){let f=u.statePaths[h];return f?cT(f.split("."),u._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(h){let f=l(h);return f||((...g)=>(f||(f=l(h)),f?f(...g):void 0))},getSelectorOptions(h){let f=u._config.selectorOptions;return Object.assign(Object.assign({},f),h||{})}}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(n){let r=n;return Array.isArray(n)?r=n.slice():M1(n)?r=Object.assign({},n):n===void 0&&(r={}),r}ngOnDestroy(){var n;(n=this._actionsSubscription)===null||n===void 0||n.unsubscribe()}add(n){Su&&j1(n);let{newStates:r}=this.addToStatesMap(n);if(!r.length)return[];let i=C1(r),s=S1(i),o=A1(i),a=b1(r),c=[];for(let u of s){let l=a[u],d=o[u],h=l[Rn];this.addRuntimeInfoToMeta(h,d),Su&&U1(l);let f={name:u,path:d,isInitialised:!1,actions:h.actions,instance:this._injector.get(l),defaults:t._cloneDefaults(h.defaults)};this.hasBeenMountedAndBootstrapped(u,d)||c.push(f),this.states.push(f)}return c}addAndReturnDefaults(n){let r=n||[],i=this.add(r);return{defaults:i.reduce((o,a)=>ZD(o,a.path,a.defaults),{}),states:i}}connectActionHandlers(){if(this._parentFactory||this._actionsSubscription!==null)return;let n=new ze;this._actionsSubscription=this._actions.pipe(ft(r=>r.status==="DISPATCHED"),Ke(r=>{n.next(r);let i=r.action;return this.invokeActions(n,i).pipe(Se(()=>({action:i,status:"SUCCESSFUL"})),Kn({action:i,status:"CANCELED"}),Nr(s=>In({action:i,status:"ERRORED",error:s})))})).subscribe(r=>this._actionResults.next(r))}invokeActions(n,r){let i=os(r),s=[],o=!1;for(let a of this.states){let c=a.actions[i];if(c)for(let u of c){let l=this._stateContextFactory.createStateContext(a);try{let d=a.instance[u.fn](l,r);d instanceof Promise&&(d=We(d)),oc(d)?(d=d.pipe(Ke(h=>h instanceof Promise?We(h):oc(h)?h:In(h)),Kn({})),u.options.cancelUncompleted&&(d=d.pipe(Zs(n.pipe(N1(r)))))):d=In({}).pipe(xr()),s.push(d)}catch(d){s.push(Ks(d))}o=!0}}if(Su&&!o){let a=this._injector.get(G1,null);a&&a.warn(r)}return s.length||s.push(In({})),Pi(s)}addToStatesMap(n){let r=[],i=this.statesByName;for(let s of n){let o=Do(s).name;Su&&L1(o,s,i),!i[o]&&(r.push(s),i[o]=s)}return{newStates:r}}addRuntimeInfoToMeta(n,r){this.statePaths[n.name]=r,n.path=r}hasBeenMountedAndBootstrapped(n,r){let i=cg(this._initialState,r)!==void 0;return this.statesByName[n]&&i}}return t.\u0275fac=function(n){return new(n||t)(D(tt),D(Nu),D(t,12),D(lg),D(fT),D(hg),D(eg,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function q1(t,e,n){return r=>{let{argumentSelectorFunctions:i,selectorOptions:s}=W1(r,t,e);return function(a){let c=i.map(u=>u(a));try{return n(...c)}catch(u){if(u instanceof TypeError&&s.suppressErrors)return;throw u}}}}function z1(t,e){let n=e&&e.containerClass,i=Au(function(...o){let a=t.apply(n,o);return a instanceof Function?Au.apply(null,[a]):a});return Object.setPrototypeOf(i,t),i}function W1(t,e,n=[]){let r=e.getSelectorOptions(),i=t.getSelectorOptions(r),o=K1(n,i,e.containerClass).map(a=>vT(a)(t));return{selectorOptions:i,argumentSelectorFunctions:o}}function K1(t=[],e,n){let r=[],i=t.length===0||e.injectContainerState;return n&&i&&Do(n)&&r.push(n),t&&r.push(...t),r}function vT(t){let e=aT(t)||Do(t);return e&&e.makeRootSelector||(()=>t)}var xu=(()=>{class t{constructor(n,r,i,s,o,a){this._stateStream=n,this._internalStateOperations=r,this._config=i,this._internalExecutionStrategy=s,this._stateFactory=o,this._selectableStateStream=this._stateStream.pipe(wo(this._internalExecutionStrategy),xr({bufferSize:1,refCount:!0})),this.initStateStream(a)}dispatch(n){return this._internalStateOperations.getRootStateOperations().dispatch(n)}select(n){let r=this.getStoreBoundSelectorFn(n);return this._selectableStateStream.pipe(Se(r),Nr(i=>{let{suppressErrors:s}=this._config.selectorOptions;return i instanceof TypeError&&s?In(void 0):Ks(i)}),lh(),wo(this._internalExecutionStrategy))}selectOnce(n){return this.select(n).pipe(Kt(1))}selectSnapshot(n){return this.getStoreBoundSelectorFn(n)(this._stateStream.getValue())}subscribe(n){return this._selectableStateStream.pipe(wo(this._internalExecutionStrategy)).subscribe(n)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(n){return this._internalStateOperations.getRootStateOperations().setState(n)}getStoreBoundSelectorFn(n){let r=vT(n),i=this._stateFactory.getRuntimeSelectorContext();return r(i)}initStateStream(n){let r=this._stateStream.value;if(!r||Object.keys(r).length===0){let o=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),n):n;this._stateStream.next(o)}}}return t.\u0275fac=function(n){return new(n||t)(D(dg),D(To),D(Nu),D(ug),D(ss),D(eg,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Mu=(()=>{class t{constructor(n,r){t.store=n,t.config=r}ngOnDestroy(){t.store=null,t.config=null}}return t.store=null,t.config=null,t.\u0275fac=function(n){return new(n||t)(D(xu),D(Nu))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_T=(()=>{class t{constructor(n,r,i,s,o){this._store=n,this._internalErrorReporter=r,this._internalStateOperations=i,this._stateContextFactory=s,this._bootstrapper=o,this._destroy$=new ze}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(n,r){this._internalStateOperations.getRootStateOperations().dispatch(n).pipe(ft(()=>!!r),Si(()=>this._invokeInitOnStates(r.states)),Ke(()=>this._bootstrapper.appBootstrapped$),ft(i=>!!i),Nr(i=>(this._internalErrorReporter.reportErrorSafely(i),Wt)),Zs(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(r.states))}_invokeInitOnStates(n){for(let r of n){let i=r.instance;i.ngxsOnChanges&&this._store.select(s=>cg(s,r.path)).pipe(ph(void 0),hh(),Zs(this._destroy$)).subscribe(([s,o])=>{let a=new ig(s,o,!r.isInitialised);i.ngxsOnChanges(a)}),i.ngxsOnInit&&i.ngxsOnInit(this._getStateContext(r)),r.isInitialised=!0}}_invokeBootstrapOnStates(n){for(let r of n){let i=r.instance;i.ngxsAfterBootstrap&&i.ngxsAfterBootstrap(this._getStateContext(r))}}_getStateContext(n){return this._stateContextFactory.createStateContext(n)}}return t.\u0275fac=function(n){return new(n||t)(D(xu),D(hT),D(To),D(hg),D(bu))},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q1=(()=>{class t{constructor(n,r,i,s,o=[],a){let c=n.addAndReturnDefaults(o);r.setStateToTheCurrentWithNew(c),n.connectActionHandlers(),a.ngxsBootstrap(new mT,c)}}return t.\u0275fac=function(n){return new(n||t)(D(ss),D(To),D(xu),D(Mu),D(tT,8),D(_T))},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ze({}),t})(),Y1=(()=>{class t{constructor(n,r,i,s=[],o){let a=t.flattenStates(s),c=i.addAndReturnDefaults(a);c.states.length&&(r.setStateToTheCurrentWithNew(c),o.ngxsBootstrap(new yT(c.defaults),c))}static flattenStates(n=[]){return n.reduce((r,i)=>r.concat(i),[])}}return t.\u0275fac=function(n){return new(n||t)(D(xu),D(To),D(ss),D(nT,8),D(_T))},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ze({}),t})(),X5=(()=>{class t{static forRoot(n=[],r={}){return{ngModule:Q1,providers:[ss,ag,...n,...t.ngxsTokenProviders(n,r)]}}static forFeature(n=[]){return{ngModule:Y1,providers:[ss,ag,...n,{provide:nT,multi:!0,useValue:n}]}}static ngxsTokenProviders(n,r){return[{provide:iT,useValue:r.executionStrategy},{provide:tT,useValue:n},{provide:eT,useValue:r},{provide:Lp,useFactory:t.appBootstrapListenerFactory,multi:!0,deps:[bu]},{provide:zD,useExisting:hg},{provide:qD,useExisting:ss}]}static appBootstrapListenerFactory(n){return()=>n.bootstrap()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ze({}),t})();function e8(t,e){return(n,r)=>{let i=sT(n.constructor);Array.isArray(t)||(t=[t]);for(let s of t){let o=s.type;i.actions[o]||(i.actions[o]=[]),i.actions[o].push({fn:r,options:e||{},type:o})}}}function t8(t){return e=>{let n=e,r=sT(n),i=Object.getPrototypeOf(n),s=J1(i,t);Z1({meta:r,inheritedStateClass:i,optionsWithInheritance:s}),n[rT]=s}}function J1(t,e){let n=t[rT]||{};return Object.assign(Object.assign({},n),e)}function Z1(t){let{meta:e,inheritedStateClass:n,optionsWithInheritance:r}=t,{children:i,defaults:s,name:o}=r,a=typeof o=="string"?o:o&&o.getName()||null;if(n.hasOwnProperty(Rn)){let c=n[Rn]||{};e.actions=Object.assign(Object.assign({},e.actions),c.actions)}e.children=i,e.defaults=s,e.name=a}var X1=36;function eF(t){return Mu.store||_1(),Mu.store.select(t)}function tF(t,e,n=[]){if(e=e||nF(t),typeof e=="string"){let r=n.length?[e,...n]:e.split(".");return cT(r,Mu.config)}return e}function nF(t){let e=t.length-1;return t.charCodeAt(e)===X1?t.slice(0,e):t}function n8(t,...e){return function(n,r){let i=r.toString(),s=`__${i}__selector`,o=tF(i,t,e);Object.defineProperties(n,{[s]:{writable:!0,enumerable:!1,configurable:!0},[i]:{enumerable:!0,configurable:!0,get(){return this[s]||(this[s]=eF(o))}}})}}var QD="NGXS_SELECTOR_OPTIONS_META",YD={getOptions:t=>t&&t[QD]||{},defineOptions:(t,e)=>{t&&(t[QD]=e)}};function rF(t,e){let n=oT(t);n.originalFn=t;let r=()=>({});e&&(n.containerClass=e.containerClass,n.selectorName=e.selectorName||null,r=e.getSelectorOptions||r);let i=Object.assign({},n);return n.getSelectorOptions=()=>iF(i,r()),n}function iF(t,e){return Object.assign(Object.assign(Object.assign(Object.assign({},YD.getOptions(t.containerClass)||{}),YD.getOptions(t.originalFn)||{}),t.getSelectorOptions()||{}),e)}function sF(t,e,n){let r=z1(e,n),i=rF(e,n);return i.makeRootSelector=q1(i,t,r),r}function r8(t){return(e,n,r)=>{r||(r=Object.getOwnPropertyDescriptor(e,n));let i=r?.value,s=sF(t,i,{containerClass:e,selectorName:n.toString(),getSelectorOptions(){return{}}}),o={configurable:!0,get(){return s}};return o.originalFn=i,o}}var JD=class{constructor(e){this.name=e;let n=oT(this);n.makeRootSelector=r=>r.getStateGetter(this.name)}getName(){return this.name}toString(){return`StateToken[${this.name}]`}};var ET=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ET(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new pg;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},pg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aF=function(t){let e=ET(t);return wT.encodeByteArray(e,!0)},Co=function(t){return aF(t).replace(/\./g,"")},mg=function(t){try{return wT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uF=()=>cF().__FIREBASE_DEFAULTS__,lF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&mg(t[1]);return e&&JSON.parse(e)},Pu=()=>{try{return uF()||lF()||dF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yg=t=>{var e,n;return(n=(e=Pu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DT=t=>{let e=yg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vg=()=>{var t;return(t=Pu())===null||t===void 0?void 0:t.config},_g=t=>{var e;return(e=Pu())===null||e===void 0?void 0:e[`_${t}`]};var Ru=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function TT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Co(JSON.stringify(n)),Co(JSON.stringify(o)),""].join(".")}function pe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())}function hF(){var t;let e=(t=Pu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ST(){let t=pe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MT(){return!hF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ou(){try{return typeof indexedDB=="object"}catch{return!1}}function NT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var fF="FirebaseError",vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vt(i,a,r)}};function pF(t,e){return t.replace(gF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gF=/\{\$([^}]+)}/g;function xT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(IT(s)&&IT(o)){if(!Qr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IT(t){return t!==null&&typeof t=="object"}function as(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function us(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RT(t,e){let n=new gg(t,e);return n.subscribe.bind(n)}var gg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fg),i.error===void 0&&(i.error=fg),i.complete===void 0&&(i.complete=fg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fg(){}var s8=4*60*60*1e3;function Ee(t){return t&&t._delegate?t._delegate:t}var Nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yr="[DEFAULT]";var Ig=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ru;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vF(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yF(t){return t===Yr?void 0:t}function vF(t){return t.instantiationMode==="EAGER"}var ku=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ig(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var _F=[],G=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(G||{}),IF={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},EF=G.INFO,wF={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},DF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=wF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ir=class{constructor(e){this.name=e,this._logLevel=EF,this._logHandler=DF,this._userLogHandler=null,_F.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}};var TF=(t,e)=>e.some(n=>t instanceof n),PT,OT;function CF(){return PT||(PT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bF(){return OT||(OT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var kT=new WeakMap,wg=new WeakMap,FT=new WeakMap,Eg=new WeakMap,Tg=new WeakMap;function AF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kT.set(n,t)}).catch(()=>{}),Tg.set(e,t),e}function SF(t){if(wg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wg.set(t,e)}var Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VT(t){Dg=t(Dg)}function MF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Fu(this),e,...n);return FT.set(r,e.sort?e.sort():[e]),nn(r)}:bF().includes(t)?function(...e){return t.apply(Fu(this),e),nn(kT.get(this))}:function(...e){return nn(t.apply(Fu(this),e))}}function NF(t){return typeof t=="function"?MF(t):(t instanceof IDBTransaction&&SF(t),TF(t,CF())?new Proxy(t,Dg):t)}function nn(t){if(t instanceof IDBRequest)return AF(t);if(Eg.has(t))return Eg.get(t);let e=NF(t);return e!==t&&(Eg.set(t,e),Tg.set(e,t)),e}var Fu=t=>Tg.get(t);function jT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=nn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(nn(o.result),c.oldVersion,c.newVersion,nn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var xF=["get","getKey","getAll","getAllKeys","count"],RF=["put","add","delete","clear"],Cg=new Map;function LT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=RF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xF.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Cg.set(e,s),s}VT(t=>ot(Le({},t),{get:(e,n,r)=>LT(e,n)||t.get(e,n,r),has:(e,n)=>!!LT(e,n)||t.has(e,n)}));var Ag=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function PF(t){let e=t.getComponent();return e?.type==="VERSION"}var Sg="@firebase/app",UT="0.9.27";var Jr=new ir("@firebase/app"),OF="@firebase/app-compat",kF="@firebase/analytics-compat",FF="@firebase/analytics",VF="@firebase/app-check-compat",LF="@firebase/app-check",jF="@firebase/auth",UF="@firebase/auth-compat",BF="@firebase/database",$F="@firebase/database-compat",HF="@firebase/functions",GF="@firebase/functions-compat",qF="@firebase/installations",zF="@firebase/installations-compat",WF="@firebase/messaging",KF="@firebase/messaging-compat",QF="@firebase/performance",YF="@firebase/performance-compat",JF="@firebase/remote-config",ZF="@firebase/remote-config-compat",XF="@firebase/storage",eV="@firebase/storage-compat",tV="@firebase/firestore",nV="@firebase/firestore-compat",rV="firebase",iV="10.8.0";var Mg="[DEFAULT]",sV={[Sg]:"fire-core",[OF]:"fire-core-compat",[FF]:"fire-analytics",[kF]:"fire-analytics-compat",[LF]:"fire-app-check",[VF]:"fire-app-check-compat",[jF]:"fire-auth",[UF]:"fire-auth-compat",[BF]:"fire-rtdb",[$F]:"fire-rtdb-compat",[HF]:"fire-fn",[GF]:"fire-fn-compat",[qF]:"fire-iid",[zF]:"fire-iid-compat",[WF]:"fire-fcm",[KF]:"fire-fcm-compat",[QF]:"fire-perf",[YF]:"fire-perf-compat",[JF]:"fire-rc",[ZF]:"fire-rc-compat",[XF]:"fire-gcs",[eV]:"fire-gcs-compat",[tV]:"fire-fst",[nV]:"fire-fst-compat","fire-js":"fire-js",[rV]:"fire-js-all"};var bo=new Map,Ng=new Map;function oV(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function or(t){let e=t.name;if(Ng.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,t);for(let n of bo.values())oV(n,t);return!0}function So(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var aV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sr=new Pn("app","Firebase",aV);var xg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}};var ar=iV;function Og(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Mg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=vg()),!n)throw sr.create("no-options");let s=bo.get(i);if(s){if(Qr(n,s.options)&&Qr(r,s.config))return s;throw sr.create("duplicate-app",{appName:i})}let o=new ku(i);for(let c of Ng.values())o.addComponent(c);let a=new xg(n,r,o);return bo.set(i,a),a}function ls(t=Mg){let e=bo.get(t);if(!e&&t===Mg&&vg())return Og();if(!e)throw sr.create("no-app",{appName:t});return e}function Vu(){return Array.from(bo.values())}function Ae(t,e,n){var r;let i=(r=sV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(a.join(" "));return}or(new Nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var cV="firebase-heartbeat-database",uV=1,Ao="firebase-heartbeat-store",bg=null;function GT(){return bg||(bg=jT(cV,uV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ao)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),bg}function lV(t){return p(this,null,function*(){try{let n=(yield GT()).transaction(Ao),r=yield n.objectStore(Ao).get(qT(t));return yield n.done,r}catch(e){if(e instanceof vt)Jr.warn(e.message);else{let n=sr.create("idb-get",{originalErrorMessage:e?.message});Jr.warn(n.message)}}})}function BT(t,e){return p(this,null,function*(){try{let r=(yield GT()).transaction(Ao,"readwrite");yield r.objectStore(Ao).put(e,qT(t)),yield r.done}catch(n){if(n instanceof vt)Jr.warn(n.message);else{let r=sr.create("idb-set",{originalErrorMessage:n?.message});Jr.warn(r.message)}}})}function qT(t){return`${t.name}!${t.options.appId}`}var dV=1024,hV=30*24*60*60*1e3,Rg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Pg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$T();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=hV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=$T(),{heartbeatsToSend:r,unsentEntries:i}=fV(this._heartbeatsCache.heartbeats),s=Co(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function $T(){return new Date().toISOString().substring(0,10)}function fV(t,e=dV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),HT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Pg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Ou()?NT().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield lV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function HT(t){return Co(JSON.stringify({version:2,heartbeats:t})).length}function pV(t){or(new Nt("platform-logger",e=>new Ag(e),"PRIVATE")),or(new Nt("heartbeat",e=>new Rg(e),"PRIVATE")),Ae(Sg,UT,t),Ae(Sg,UT,"esm2017"),Ae("fire-js","")}pV("");var gV="firebase",mV="10.8.0";Ae(gV,mV,"app");var Xr=new qr("ANGULARFIRE2_VERSION");function ju(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Mo=(t,e)=>{let n=e?[e]:Vu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},hs=class{constructor(){return Mo(yV)}},yV="app-check";function ds(){}var Lu=class{zone;delegate;constructor(e,n=sh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},kg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds)),n.pipe(Si({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},fs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lu(Zone.current)),this.insideAngular=n.run(()=>new Lu(Zone.current,Qt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(D(ae))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Uu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function vV(t){return Uu().ngZone.runOutsideAngular(()=>t())}function Zr(t){return Uu().ngZone.run(()=>t())}function _V(t){return IV(Uu())(t)}function IV(t){return function(n){return n=n.lift(new kg(t.ngZone)),n.pipe(Wn(t.outsideAngular),zn(t.insideAngular))}}var EV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zr(()=>t.apply(void 0,r))},le=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds))),r[s]=EV(r[s],n));let i=vV(()=>t.apply(this,r));if(!e)if(i instanceof L){let s=Uu();return i.pipe(Wn(s.outsideAngular),zn(s.insideAngular))}else return Zr(()=>i);return i instanceof L?i.pipe(_V):i instanceof Promise?Zr(()=>new Promise((s,o)=>i.then(a=>Zr(()=>s(a)),a=>Zr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Zr(()=>i)};var On=class{constructor(e){return e}},ei=class{constructor(){return Vu()}};function wV(t){return t&&t.length===1?t[0]:new On(ls())}var Fg=new A("angularfire2._apps"),DV={provide:On,useFactory:wV,deps:[[new gt,Fg]]},TV={provide:ei,deps:[[new gt,Fg]]};function CV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new On(r)}}var bV=(()=>{class t{constructor(n){Ae("angularfire",Xr.full,"core"),Ae("angularfire",Xr.full,"app"),Ae("angular",AD.full,n.toString())}static \u0275fac=function(r){return new(r||t)(D(Wr))};static \u0275mod=Xe({type:t});static \u0275inj=Ze({providers:[DV,TV]})}return t})();function $8(t,...e){return{ngModule:bV,providers:[{provide:Fg,useFactory:CV(t),multi:!0,deps:[ae,tt,fs,...e]}]}}var H8=le(Og,!0);function a0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var c0=a0,u0=new Pn("auth","Firebase",a0());var zu=new ir("@firebase/auth");function AV(t,...e){zu.logLevel<=G.WARN&&zu.warn(`Auth (${ar}): ${t}`,...e)}function $u(t,...e){zu.logLevel<=G.ERROR&&zu.error(`Auth (${ar}): ${t}`,...e)}function xt(t,...e){throw nm(t,...e)}function rn(t,...e){return nm(t,...e)}function l0(t,e,n){let r=Object.assign(Object.assign({},c0()),{[e]:n});return new Pn("auth","Firebase",r).create(e,{appName:t.name})}function SV(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xt(t,"argument-error"),l0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return u0.create(t,...e)}function P(t,e,...n){if(!t)throw nm(e,...n)}function kn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw $u(e),new Error(e)}function Vn(t,e){t||kn(e)}function jg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MV(){return zT()==="http:"||zT()==="https:"}function zT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function NV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MV()||bT()||"connection"in navigator)?navigator.onLine:!0}function xV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ti=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=CT()||AT()}get(){return NV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function rm(t,e){Vn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Wu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var PV=new ti(3e4,6e4);function ur(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function lr(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return d0(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=as(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Wu.fetch()(h0(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function d0(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},RV),e);try{let i=new Ug(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Bu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Bu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Bu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw l0(t,l,u);xt(t,l)}}catch(i){if(i instanceof vt)throw i;xt(t,"network-request-failed",{message:String(i)})}})}function Fo(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield lr(t,e,n,r,i);return"mfaPendingCredential"in u&&xt(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function h0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?rm(t.config,i):`${t.config.apiScheme}://${i}`}function OV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ug=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),PV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Bu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=rn(t,e,r);return i.customData._tokenResponse=n,i}function WT(t){return t!==void 0&&t.enterprise!==void 0}var Bg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function kV(t,e){return p(this,null,function*(){return lr(t,"GET","/v2/recaptchaConfig",ur(t,e))})}function FV(t,e){return p(this,null,function*(){return lr(t,"POST","/v1/accounts:delete",e)})}function VV(t,e){return p(this,null,function*(){return lr(t,"POST","/v1/accounts:lookup",e)})}function No(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function im(t,e=!1){return p(this,null,function*(){let n=Ee(t),r=yield n.getIdToken(e),i=sm(r);P(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:No(Vg(i.auth_time)),issuedAtTime:No(Vg(i.iat)),expirationTime:No(Vg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Vg(t){return Number(t)*1e3}function sm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{let i=mg(n);return i?JSON.parse(i):($u("Failed to decode base64 JWT payload"),null)}catch(i){return $u("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LV(t){let e=sm(t);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xo(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof vt&&jV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function jV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var $g=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ku=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield xo(t,VV(n,{idToken:r}));P(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BV(s.providerUserInfo):[],a=UV(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ku(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function om(t){return p(this,null,function*(){let e=Ee(t);yield Qu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function UV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BV(t){return t.map(e=>{var{providerId:n}=e,r=La(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $V(t,e){return p(this,null,function*(){let n=yield d0(t,{},()=>p(this,null,function*(){let r=as({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=h0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HV(t,e){return p(this,null,function*(){return lr(t,"POST","/v2/accounts:revokeToken",ur(t,e))})}var Yu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return P(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield $V(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(P(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(P(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(P(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return kn("not implemented")}};function cr(t,e){P(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ro=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=La(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $g(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ku(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield xo(this,this.stsTokenManager.getToken(this.auth,e));return P(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return im(this,e)}reload(){return om(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Qu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield xo(this,FV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,$=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Q,emailVerified:ee,isAnonymous:ve,providerData:te,stsTokenManager:ht}=n;P(Q&&ht,e,"internal-error");let $n=Yu.fromJSON(this.name,ht);P(typeof Q=="string",e,"internal-error"),cr(d,e.name),cr(h,e.name),P(typeof ee=="boolean",e,"internal-error"),P(typeof ve=="boolean",e,"internal-error"),cr(f,e.name),cr(g,e.name),cr(y,e.name),cr(_,e.name),cr(T,e.name),cr($,e.name);let Er=new t({uid:Q,auth:e,email:h,emailVerified:ee,displayName:d,isAnonymous:ve,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:$n,createdAt:T,lastLoginAt:$});return te&&Array.isArray(te)&&(Er.providerData=te.map(Va=>Object.assign({},Va))),_&&(Er._redirectEventId=_),Er}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Yu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qu(s),s})}};var KT=new Map;function Fn(t){Vn(t instanceof Function,"Expected a class definition");let e=KT.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KT.set(t,e),e)}var GV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Hg=GV;function Hu(t,e,n){return`firebase:${t}:${e}:${n}`}var Ju=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Hu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ro._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Fn(Hg),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Fn(Hg),o=Hu(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Ro._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function QT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y0(e))return"Blackberry";if(v0(e))return"Webos";if(am(e))return"Safari";if((e.includes("chrome/")||p0(e))&&!e.includes("edge/"))return"Chrome";if(m0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function f0(t=pe()){return/firefox\//i.test(t)}function am(t=pe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p0(t=pe()){return/crios\//i.test(t)}function g0(t=pe()){return/iemobile/i.test(t)}function m0(t=pe()){return/android/i.test(t)}function y0(t=pe()){return/blackberry/i.test(t)}function v0(t=pe()){return/webos/i.test(t)}function al(t=pe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qV(t=pe()){var e;return al(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zV(){return ST()&&document.documentMode===10}function _0(t=pe()){return al(t)||m0(t)||v0(t)||y0(t)||/windows phone/i.test(t)||g0(t)}function WV(){try{return!!(window&&window!==window.top)}catch{return!1}}function I0(t,e=[]){let n;switch(t){case"Browser":n=QT(pe());break;case"Worker":n=`${QT(pe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ar}/${r}`}var Gg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function KV(n){return p(this,arguments,function*(t,e={}){return lr(t,"GET","/v2/passwordPolicy",ur(t,e))})}var QV=6,qg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:QV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var zg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zu(this),this.idTokenSubscription=new Zu(this),this.beforeStateQueue=new Gg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ju.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return P(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Qu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=xV()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Ee(e):null;return n&&P(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&P(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield KV(this),n=new qg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fn(e)||this._popupRedirectResolver;P(n,this,"argument-error"),this.redirectPersistenceManager=yield Ju.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&AV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function dr(t){return Ee(t)}var Zu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=RT(n=>this.observer=n)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cl={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YV(t){cl=t}function E0(t){return cl.loadJS(t)}function JV(){return cl.recaptchaEnterpriseScript}function ZV(){return cl.gapiScript}function w0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var XV="recaptcha-enterprise",eL="NO_RECAPTCHA",Wg=class{constructor(e){this.type=XV,this.auth=dr(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(s){return p(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>p(this,null,function*(){kV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Bg(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;WT(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(eL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&WT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=JV();c.length!==0&&(c+=a),E0(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function YT(t,e,n,r=!1){return p(this,null,function*(){let i=new Wg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Kg(t,e,n,r){return p(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield YT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>p(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield YT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function cm(t,e){let n=So(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Qr(s,e??{}))return i;xt(i,"already-initialized")}return n.initialize({options:e})}function tL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function um(t,e,n){let r=dr(t);P(r._canInitEmulator,r,"emulator-config-failed"),P(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=D0(e),{host:o,port:a}=nL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||rL()}function D0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nL(t){let e=D0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:JT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:JT(o)}}}function JT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function rL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var gs=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,n){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}};function iL(t,e){return p(this,null,function*(){return lr(t,"POST","/v1/accounts:signUp",e)})}function sL(t,e){return p(this,null,function*(){return Fo(t,"POST","/v1/accounts:signInWithPassword",ur(t,e))})}function oL(t,e){return p(this,null,function*(){return Fo(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))})}function aL(t,e){return p(this,null,function*(){return Fo(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,e))})}var Po=class t extends gs{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kg(e,n,"signInWithPassword",sL);case"emailLink":return oL(e,{email:this._email,oobCode:this._password});default:xt(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kg(e,r,"signUpPassword",iL);case"emailLink":return aL(e,{idToken:n,email:this._email,oobCode:this._password});default:xt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ps(t,e){return p(this,null,function*(){return Fo(t,"POST","/v1/accounts:signInWithIdp",ur(t,e))})}var cL="http://localhost",Xu=class t extends gs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=La(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return ps(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ps(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ps(e,n)}buildRequest(){let e={requestUri:cL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=as(n)}return e}};function uL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lL(t){let e=cs(us(t)).link,n=e?cs(us(e)).deep_link_id:null,r=cs(us(t)).deep_link_id;return(r?cs(us(r)).link:null)||r||n||e||t}var el=class t{constructor(e){var n,r,i,s,o,a;let c=cs(us(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=uL((i=c.mode)!==null&&i!==void 0?i:null);P(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=lL(e);try{return new t(n)}catch{return null}}};var T0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Po._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=el.parseLink(r);return P(i,"argument-error"),Po._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Oo=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var tl=class extends Oo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var dL=(()=>{class t extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Xu._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function hL(t,e){return p(this,null,function*(){return Fo(t,"POST","/v1/accounts:signUp",ur(t,e))})}var ms=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield Ro._fromIdTokenResponse(e,r,i),o=ZT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ZT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function ZT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Qg=class t extends vt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function C0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qg._fromErrorAndOperation(t,s,e,r):s})}function fL(t,e,n=!1){return p(this,null,function*(){let r=yield xo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ms._forOperation(t,"link",r)})}function pL(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield xo(t,C0(r,i,e,t),n);P(s.idToken,r,"internal-error");let o=sm(s.idToken);P(o,r,"internal-error");let{sub:a}=o;return P(t.uid===a,r,"user-mismatch"),ms._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&xt(r,"user-mismatch"),s}})}function b0(t,e,n=!1){return p(this,null,function*(){let r="signIn",i=yield C0(t,r,e),s=yield ms._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function lm(t,e){return p(this,null,function*(){return b0(dr(t),e)})}function A0(t){return p(this,null,function*(){let e=dr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function dm(t,e,n){return p(this,null,function*(){let r=dr(t),o=yield Kg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&A0(t),c}),a=yield ms._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function hm(t,e,n){return lm(Ee(t),T0.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&A0(t),r}))}function fm(t,e,n,r){return Ee(t).onIdTokenChanged(e,n,r)}function pm(t,e,n){return Ee(t).beforeAuthStateChanged(e,n)}function gm(t){return Ee(t).signOut()}var nl="__sak";var rl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nl,"1"),this.storage.removeItem(nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function gL(){let t=pe();return am(t)||al(t)}var mL=1e3,yL=10,vL=(()=>{class t extends rl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gL()&&WV(),this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);zV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,yL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},mL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Hn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Hn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Hn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),S0=vL;var _L=(()=>{class t extends rl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),mm=_L;function IL(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var EL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield IL(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ym(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Yg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=ym("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function sn(){return window}function wL(t){sn().location.href=t}function M0(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}function DL(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function TL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CL(){return M0()?self:null}var N0="firebaseLocalStorageDb",bL=1,il="firebaseLocalStorage",x0="fbase_key",ni=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ul(t,e){return t.transaction([il],e?"readwrite":"readonly").objectStore(il)}function AL(){let t=indexedDB.deleteDatabase(N0);return new ni(t).toPromise()}function Jg(){let t=indexedDB.open(N0,bL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(il,{keyPath:x0})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(il)?e(r):(r.close(),yield AL(),e(yield Jg()))}))})}function XT(t,e,n){return p(this,null,function*(){let r=ul(t,!0).put({[x0]:e,value:n});return new ni(r).toPromise()})}function SL(t,e){return p(this,null,function*(){let n=ul(t,!1).get(e),r=yield new ni(n).toPromise();return r===void 0?null:r.value})}function e0(t,e){let n=ul(t,!0).delete(e);return new ni(n).toPromise()}var ML=800,NL=3,xL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Jg(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>NL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return M0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=EL._getInstance(CL()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield DL(),!this.activeServiceWorker)return;this.sender=new Yg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||TL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Jg();return yield XT(n,nl,"1"),yield e0(n,nl),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>XT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>SL(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>e0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=ul(s,!1).getAll();return new ni(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),R0=xL;var J8=w0("rcb"),Z8=new ti(3e4,6e4);function P0(t,e){return e?Fn(e):(P(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ko=class extends gs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function RL(t){return b0(t.auth,new ko(t),t.bypassAuthState)}function PL(t){let{auth:e,user:n}=t;return P(n,e,"internal-error"),pL(n,new ko(t),t.bypassAuthState)}function OL(t){return p(this,null,function*(){let{auth:e,user:n}=t;return P(n,e,"internal-error"),fL(n,new ko(t),t.bypassAuthState)})}var sl=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RL;case"linkViaPopup":case"linkViaRedirect":return OL;case"reauthViaPopup":case"reauthViaRedirect":return PL;default:xt(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var kL=new ti(2e3,1e4);function vm(t,e,n){return p(this,null,function*(){let r=dr(t);SV(t,e,Oo);let i=P0(r,n);return new FL(r,"signInViaPopup",e,i).executeNotNull()})}var FL=(()=>{class t extends sl{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return p(this,null,function*(){let n=yield this.execute();return P(n,this.auth,"internal-error"),n})}onExecution(){return p(this,null,function*(){Vn(this.filter.length===1,"Popup operations only handle one event");let n=ym();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,kL.get())};n()}}t.currentPopupAction=null;return t})(),VL="pendingRedirect",Gu=new Map,Zg=class t extends sl{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=Gu.get(this.auth._key());if(!e){try{let r=(yield LL(this.resolver,this.auth))?yield Hn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Hn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Hn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function LL(t,e){return p(this,null,function*(){let n=BL(e),r=UL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function jL(t,e){Gu.set(t._key(),e)}function UL(t){return Fn(t._redirectPersistence)}function BL(t){return Hu(VL,t.config.apiKey,t.name)}function $L(t,e,n=!1){return p(this,null,function*(){let r=dr(t),i=P0(r,e),o=yield new Zg(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var HL=10*60*1e3,Xg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!O0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HL&&this.cachedEventUids.clear(),this.cachedEventUids.has(t0(e))}saveEventToCache(e){this.cachedEventUids.add(t0(e)),this.lastProcessedEventTime=Date.now()}};function t0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function O0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function GL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O0(t);default:return!1}}function qL(n){return p(this,arguments,function*(t,e={}){return lr(t,"GET","/v1/projects",e)})}var zL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WL=/^https?/;function KL(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield qL(t);for(let n of e)try{if(QL(n))return}catch{}xt(t,"unauthorized-domain")})}function QL(t){let e=jg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WL.test(n))return!1;if(zL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var YL=new ti(3e4,6e4);function n0(){let t=sn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JL(t){return new Promise((e,n)=>{var r,i,s;function o(){n0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n0(),n(rn(t,"network-request-failed"))},timeout:YL.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=sn().gapi)===null||s===void 0)&&s.load)o();else{let a=w0("iframefcb");return sn()[a]=()=>{gapi.load?o():n(rn(t,"network-request-failed"))},E0(`${ZV()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw qu=null,e})}var qu=null;function ZL(t){return qu=qu||JL(t),qu}var XL=new ti(5e3,15e3),e2="__/auth/iframe",t2="emulator/auth/iframe",n2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(t){let e=t.config;P(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?rm(e,t2):`https://${t.config.authDomain}/${e2}`,r={apiKey:e.apiKey,appName:t.name,v:ar},i=r2.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${as(r).slice(1)}`}function s2(t){return p(this,null,function*(){let e=yield ZL(t),n=sn().gapi;return P(n,t,"internal-error"),e.open({where:document.body,url:i2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=rn(t,"network-request-failed"),a=sn().setTimeout(()=>{s(o)},XL.get());function c(){sn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var o2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a2=500,c2=600,u2="_blank",l2="http://localhost",ol=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function d2(t,e,n,r=a2,i=c2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},o2),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pe().toLowerCase();n&&(a=p0(u)?u2:n),f0(u)&&(e=e||l2,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(qV(u)&&a!=="_self")return h2(e||"",a),new ol(null);let d=window.open(e||"",a,l);P(d,t,"popup-blocked");try{d.focus()}catch{}return new ol(d)}function h2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var f2="__/auth/handler",p2="emulator/auth/handler",g2=encodeURIComponent("fac");function r0(t,e,n,r,i,s){return p(this,null,function*(){P(t.config.authDomain,t,"auth-domain-config-required"),P(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ar,eventId:i};if(e instanceof Oo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof tl){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${g2}=${encodeURIComponent(c)}`:"";return`${m2(t)}?${as(a).slice(1)}${u}`})}function m2({config:t}){return t.emulator?rm(t,p2):`https://${t.authDomain}/${f2}`}var Lg="webStorageSupport",em=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mm,this._completeRedirectFn=$L,this._overrideRedirectResult=jL}_openPopup(e,n,r,i){return p(this,null,function*(){var s;Vn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield r0(e,n,r,jg(),i);return d2(e,o,ym())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield r0(e,n,r,jg(),i);return wL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vn(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield s2(e),r=new Xg(e);return n.register("authEvent",i=>(P(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lg,{type:Lg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Lg];o!==void 0&&n(!!o),xt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _0()||am()||al()}},k0=em;var i0="@firebase/auth",s0="1.6.0";var tm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function y2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v2(t){or(new Nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;P(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(t)},u=new zg(r,i,s,c);return tL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),or(new Nt("auth-internal",e=>{let n=dr(e.getProvider("auth").getImmediate());return(r=>new tm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(i0,s0,y2(t)),Ae(i0,s0,"esm2017")}var _2=5*60,I2=_g("authIdTokenMaxAge")||_2,o0=null,E2=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I2)return;let i=n?.token;o0!==i&&(o0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function _m(t=ls()){let e=So(t,"auth");if(e.isInitialized())return e.getImmediate();let n=cm(t,{popupRedirectResolver:k0,persistence:[R0,S0,mm]}),r=_g("authTokenSyncURL");if(r){let s=E2(r);pm(n,s,()=>s(n.currentUser)),fm(n,o=>s(o))}let i=yg("auth");return i&&um(n,`http://${i}`),n}function w2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=rn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",w2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v2("Browser");var F0="auth",Vo=class{constructor(e){return e}},Lo=class{constructor(){return Mo(F0)}};var Im=new A("angularfire2.auth-instances");function dj(t,e){let n=ju(F0,t,e);return n&&new Vo(n)}function hj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vo(r)}}var fj={provide:Lo,deps:[[new gt,Im]]},pj={provide:Vo,useFactory:dj,deps:[[new gt,Im],On]},gj=(()=>{class t{constructor(){Ae("angularfire",Xr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xe({type:t});static \u0275inj=Ze({providers:[pj,fj]})}return t})();function PK(t,...e){return{ngModule:gj,providers:[{provide:Im,useFactory:hj(t),multi:!0,deps:[ae,tt,fs,ei,[new gt,hs],...e]}]}}var OK=le(dm,!0);var kK=le(_m,!0);var FK=le(hm,!0);var VK=le(vm,!0);var LK=le(gm,!0);var mj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ht={},E,$m=$m||{},O=mj||self;function Dl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Zo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yj(t){return Object.prototype.hasOwnProperty.call(t,Em)&&t[Em]||(t[Em]=++vj)}var Em="closure_uid_"+(1e9*Math.random()>>>0),vj=0;function _j(t,e,n){return t.call.apply(t.bind,arguments)}function Ij(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Be(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Be=_j:Be=Ij,Be.apply(null,arguments)}function ll(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ne(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function hr(){this.s=this.s,this.o=this.o}var Ej=0;hr.prototype.s=!1;hr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Ej!=0)&&yj(this)};hr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Q0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Hm(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function V0(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Dl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $e(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var wj=function(){if(!O.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};O.addEventListener("test",n,e),O.removeEventListener("test",n,e)}catch{}return t}();function Go(t){return/^[\s\xa0]*$/.test(t)}function Tl(){var t=O.navigator;return t&&(t=t.userAgent)?t:""}function on(t){return Tl().indexOf(t)!=-1}function Gm(t){return Gm[" "](t),t}Gm[" "]=function(){};function Dj(t,e){var n=dU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Tj=on("Opera"),Is=on("Trident")||on("MSIE"),Y0=on("Edge"),bm=Y0||Is,J0=on("Gecko")&&!(Tl().toLowerCase().indexOf("webkit")!=-1&&!on("Edge"))&&!(on("Trident")||on("MSIE"))&&!on("Edge"),Cj=Tl().toLowerCase().indexOf("webkit")!=-1&&!on("Edge");function Z0(){var t=O.document;return t?t.documentMode:void 0}var Am;e:{if(dl="",hl=function(){var t=Tl();if(J0)return/rv:([^\);]+)(\)|;)/.exec(t);if(Y0)return/Edge\/([\d\.]+)/.exec(t);if(Is)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Cj)return/WebKit\/(\S+)/.exec(t);if(Tj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),hl&&(dl=hl?hl[1]:""),Is&&(fl=Z0(),fl!=null&&fl>parseFloat(dl))){Am=String(fl);break e}Am=dl}var dl,hl,fl,Sm;O.document&&Is?(wm=Z0(),Sm=wm||parseInt(Am,10)||void 0):Sm=void 0;var wm,bj=Sm;function qo(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(J0){e:{try{Gm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Aj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qo.$.h.call(this)}}Ne(qo,$e);var Aj={2:"touch",3:"pen",4:"mouse"};qo.prototype.h=function(){qo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xo="closure_listenable_"+(1e6*Math.random()|0),Sj=0;function Mj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Sj,this.fa=this.ia=!1}function Cl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function qm(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function Nj(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function X0(t){let e={};for(let n in t)e[n]=t[n];return e}var L0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<L0.length;s++)n=L0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bl(t){this.src=t,this.g={},this.h=0}bl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Nm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Mj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Mm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Q0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Nm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var zm="closure_lm_"+(1e6*Math.random()|0),Dm={};function tC(t,e,n,r,i){if(r&&r.once)return rC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)tC(t,e[s],n,r,i);return null}return n=Qm(n),t&&t[Xo]?t.O(e,n,Zo(r)?!!r.capture:!!r,i):nC(t,e,n,!1,r,i)}function nC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Zo(i)?!!i.capture:!!i,a=Km(t);if(a||(t[zm]=a=new bl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=xj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(sC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xj(){function t(n){return e.call(t.src,t.listener,n)}let e=Rj;return t}function rC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rC(t,e[s],n,r,i);return null}return n=Qm(n),t&&t[Xo]?t.P(e,n,Zo(r)?!!r.capture:!!r,i):nC(t,e,n,!0,r,i)}function iC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)iC(t,e[s],n,r,i);else r=Zo(r)?!!r.capture:!!r,n=Qm(n),t&&t[Xo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Nm(s,n,r,i),-1<n&&(Cl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Km(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Nm(e,n,r,i)),(n=-1<t?e[t]:null)&&Wm(n))}function Wm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Xo])Mm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Km(e))?(Mm(n,t),n.h==0&&(n.src=null,e[zm]=null)):Cl(t)}}}function sC(t){return t in Dm?Dm[t]:Dm[t]="on"+t}function Rj(t,e){if(t.fa)t=!0;else{e=new qo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Wm(t),t=n.call(r,e)}return t}function Km(t){return t=t[zm],t instanceof bl?t:null}var Tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qm(t){return typeof t=="function"?t:(t[Tm]||(t[Tm]=function(e){return t.handleEvent(e)}),t[Tm])}function Me(){hr.call(this),this.i=new bl(this),this.S=this,this.J=null}Ne(Me,hr);Me.prototype[Xo]=!0;Me.prototype.removeEventListener=function(t,e,n,r){iC(this,t,e,n,r)};function Fe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new $e(e,t);else if(e instanceof $e)e.target=e.target||t;else{var i=e;e=new $e(r,t),eC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=pl(o,r,!0,e)&&i}if(o=e.g=t,i=pl(o,r,!0,e)&&i,i=pl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=pl(o,r,!1,e)&&i}Me.prototype.N=function(){if(Me.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cl(n[r]);delete t.g[e],t.h--}}this.J=null};Me.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Me.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function pl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Mm(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ym=O.JSON.stringify,xm=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Pj(){var t=Jm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Rm=class{constructor(){this.h=this.g=null}add(e,n){let r=oC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},oC=new xm(()=>new Pm,t=>t.reset()),Pm=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Oj(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kj(t){O.setTimeout(()=>{throw t},0)}var zo,Wo=!1,Jm=new Rm,aC=()=>{let t=O.Promise.resolve(void 0);zo=()=>{t.then(Fj)}},Fj=()=>{for(var t;t=Pj();){try{t.h.call(t.g)}catch(n){kj(n)}var e=oC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wo=!1};function Al(t,e){Me.call(this),this.h=t||1,this.g=e||O,this.j=Be(this.qb,this),this.l=Date.now()}Ne(Al,Me);E=Al.prototype;E.ga=!1;E.T=null;E.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fe(this,"tick"),this.ga&&(Zm(this),this.start()))}};E.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}E.N=function(){Al.$.N.call(this),Zm(this),delete this.g};function Xm(t,e,n){if(typeof t=="function")n&&(t=Be(t,n));else if(t&&typeof t.handleEvent=="function")t=Be(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:O.setTimeout(t,e||0)}function cC(t){t.g=Xm(()=>{t.g=null,t.i&&(t.i=!1,cC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Om=class extends hr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cC(this)}N(){super.N(),this.g&&(O.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ko(t){hr.call(this),this.h=t,this.g={}}Ne(Ko,hr);var j0=[];function uC(t,e,n,r){Array.isArray(n)||(n&&(j0[0]=n.toString()),n=j0);for(var i=0;i<n.length;i++){var s=tC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function lC(t){qm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Wm(e)},t),t.g={}}Ko.prototype.N=function(){Ko.$.N.call(this),lC(this)};Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sl(){this.g=!0}Sl.prototype.Ea=function(){this.g=!1};function Vj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Lj(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function vs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Uj(t,n)+(r?" "+r:"")})}function jj(t,e){t.info(function(){return"TIMEOUT: "+e})}Sl.prototype.info=function(){};function Uj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ym(n)}catch{return e}}var oi={},U0=null;function Ml(){return U0=U0||new Me}oi.Ta="serverreachability";function dC(t){$e.call(this,oi.Ta,t)}Ne(dC,$e);function Qo(t){let e=Ml();Fe(e,new dC(e))}oi.STAT_EVENT="statevent";function hC(t,e){$e.call(this,oi.STAT_EVENT,t),this.stat=e}Ne(hC,$e);function rt(t){let e=Ml();Fe(e,new hC(e,t))}oi.Ua="timingevent";function fC(t,e){$e.call(this,oi.Ua,t),this.size=e}Ne(fC,$e);function ea(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return O.setTimeout(function(){t()},e)}var Nl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ey(){}ey.prototype.h=null;function B0(t){return t.h||(t.h=t.i())}function gC(){}var ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ty(){$e.call(this,"d")}Ne(ty,$e);function ny(){$e.call(this,"c")}Ne(ny,$e);var km;function xl(){}Ne(xl,ey);xl.prototype.g=function(){return new XMLHttpRequest};xl.prototype.i=function(){return{}};km=new xl;function na(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ko(this),this.P=Bj,t=bm?125:void 0,this.V=new Al(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mC}function mC(){this.i=null,this.g="",this.h=!1}var Bj=45e3,yC={},Fm={};E=na.prototype;E.setTimeout=function(t){this.P=t};function Vm(t,e,n){t.L=1,t.A=Pl(jn(e)),t.u=n,t.S=!0,vC(t,null)}function vC(t,e){t.G=Date.now(),ra(t),t.B=jn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),bC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new mC,t.g=WC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Om(Be(t.Pa,t,t.g),t.O)),uC(t.U,t.g,"readystatechange",t.nb),e=t.I?X0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Qo(),Vj(t.j,t.v,t.B,t.m,t.W,t.u)}E.nb=function(t){t=t.target;let e=this.M;e&&an(t)==3?e.l():this.Pa(t)};E.Pa=function(t){try{if(t==this.g)e:{let l=an(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||bm||this.g&&(this.h.h||this.g.ja()||q0(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Qo(3):Qo(2)),Rl(this);var n=this.g.da();this.ca=n;t:if(_C(this)){var r=q0(this.g);t="";var i=r.length,s=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),Ho(this);var o="";break t}this.h.i=new O.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Lj(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Go(a)){var u=a;break t}}u=null}if(n=u)vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lm(this,n);else{this.i=!1,this.s=3,rt(12),ri(this),Ho(this);break e}}this.S?(IC(this,l,o),bm&&this.i&&l==3&&(uC(this.U,this.V,"tick",this.mb),this.V.start())):(vs(this.j,this.m,o,null),Lm(this,o)),l==4&&ri(this),this.i&&!this.J&&(l==4?HC(this.l,this):(this.i=!1,ra(this)))}else cU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),ri(this),Ho(this)}}}catch{}finally{}};function _C(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function IC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=$j(t,n),i==Fm){e==4&&(t.s=4,rt(14),r=!1),vs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==yC){t.s=4,rt(15),vs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else vs(t.j,t.m,i,null),Lm(t,i);_C(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,rt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cy(e),e.M=!0,rt(11))):(vs(t.j,t.m,n,"[Invalid Chunked Response]"),ri(t),Ho(t))}E.mb=function(){if(this.g){var t=an(this.g),e=this.g.ja();this.o<e.length&&(Rl(this),IC(this,t,e),this.i&&t!=4&&ra(this))}};function $j(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Fm:(n=Number(e.substring(n,r)),isNaN(n)?yC:(r+=1,r+n>e.length?Fm:(e=e.slice(r,r+n),t.o=r+n,e)))}E.cancel=function(){this.J=!0,ri(this)};function ra(t){t.Y=Date.now()+t.P,EC(t,t.P)}function EC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ea(Be(t.lb,t),e)}function Rl(t){t.C&&(O.clearTimeout(t.C),t.C=null)}E.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(jj(this.j,this.B),this.L!=2&&(Qo(),rt(17)),ri(this),this.s=2,Ho(this)):EC(this,this.Y-t)};function Ho(t){t.l.H==0||t.J||HC(t.l,t)}function ri(t){Rl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Zm(t.V),lC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Lm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||jm(n.i,t))){if(!t.K&&jm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)_l(n),Fl(n);else break e;ay(n),rt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ea(Be(n.ib,n),6e3));if(1>=MC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ii(n,11)}else if((t.K||n.g==t)&&_l(n),!Go(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ry(s,s.h),s.h=null))}if(r.F){let y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ue(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=zC(r,r.J?r.pa:null,r.Y),o.K){NC(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Rl(a),ra(a)),r.g=o}else BC(r);0<n.j.length&&Vl(n)}else u[0]!="stop"&&u[0]!="close"||ii(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ii(n,7):oy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Qo(4)}catch{}}function Hj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Dl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Gj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function wC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Dl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Gj(t),r=Hj(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var DC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function si(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof si){this.h=t.h,yl(this,t.j),this.s=t.s,this.g=t.g,vl(this,t.m),this.l=t.l;var e=t.i,n=new Yo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$0(this,n),this.o=t.o}else t&&(e=String(t).match(DC))?(this.h=!1,yl(this,e[1]||"",!0),this.s=Bo(e[2]||""),this.g=Bo(e[3]||"",!0),vl(this,e[4]),this.l=Bo(e[5]||"",!0),$0(this,e[6]||"",!0),this.o=Bo(e[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}si.prototype.toString=function(){var t=[],e=this.j;e&&t.push($o(e,H0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($o(e,H0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($o(n,n.charAt(0)=="/"?Kj:Wj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$o(n,Yj)),t.join("")};function jn(t){return new si(t)}function yl(t,e,n){t.j=n?Bo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $0(t,e,n){e instanceof Yo?(t.i=e,Jj(t.i,t.h)):(n||(e=$o(e,Qj)),t.i=new Yo(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function Pl(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $o(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,zj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var H0=/[#\/\?@]/g,Wj=/[#\?:]/g,Kj=/[#\?]/g,Qj=/[#\?@]/g,Yj=/#/g;function Yo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fr(t){t.g||(t.g=new Map,t.h=0,t.i&&qj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}E=Yo.prototype;E.add=function(t,e){fr(this),this.i=null,t=Es(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function TC(t,e){fr(t),e=Es(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function CC(t,e){return fr(t),e=Es(t,e),t.g.has(e)}E.forEach=function(t,e){fr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};E.ta=function(){fr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};E.Z=function(t){fr(this);let e=[];if(typeof t=="string")CC(this,t)&&(e=e.concat(this.g.get(Es(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};E.set=function(t,e){return fr(this),this.i=null,t=Es(this,t),CC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};E.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function bC(t,e,n){TC(t,e),0<n.length&&(t.i=null,t.g.set(Es(t,e),Hm(n)),t.h+=n.length)}E.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Es(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Jj(t,e){e&&!t.j&&(fr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TC(this,r),bC(this,i,n))},t)),t.j=e}var Zj=class{constructor(t,e){this.g=t,this.map=e}};function AC(t){this.l=t||Xj,O.PerformanceNavigationTiming?(t=O.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(O.g&&O.g.Ka&&O.g.Ka()&&O.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xj=10;function SC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function MC(t){return t.h?1:t.g?t.g.size:0}function jm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ry(t,e){t.g?t.g.add(e):t.h=e}function NC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AC.prototype.cancel=function(){if(this.i=xC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function xC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Hm(t.i)}var eU=class{stringify(t){return O.JSON.stringify(t,void 0)}parse(t){return O.JSON.parse(t,void 0)}};function tU(){this.g=new eU}function nU(t,e,n){let r=n||"";try{wC(t,function(i,s){let o=i;Zo(i)&&(o=Ym(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rU(t,e){let n=new Sl;if(O.Image){let r=new Image;r.onload=ll(gl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ll(gl,n,r,"TestLoadImage: error",!1,e),r.onabort=ll(gl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ll(gl,n,r,"TestLoadImage: timeout",!1,e),O.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function gl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ia(t){this.l=t.ec||null,this.j=t.ob||!1}Ne(ia,ey);ia.prototype.g=function(){return new Ol(this.l,this.j)};ia.prototype.i=function(t){return function(){return t}}({});function Ol(t,e){Me.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=iy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ne(Ol,Me);var iy=0;E=Ol.prototype;E.open=function(t,e){if(this.readyState!=iy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jo(this)};E.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||O).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};E.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=iy};E.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof O.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function RC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}E.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sa(this):Jo(this),this.readyState==3&&RC(this)}};E.Za=function(t){this.g&&(this.response=this.responseText=t,sa(this))};E.Ya=function(t){this.g&&(this.response=t,sa(this))};E.ka=function(){this.g&&sa(this)};function sa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jo(t)}E.setRequestHeader=function(t,e){this.v.append(t,e)};E.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};E.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var iU=O.JSON.parse;function ge(t){Me.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PC,this.L=this.M=!1}Ne(ge,Me);var PC="",sU=/^https?$/i,oU=["POST","PUT"];E=ge.prototype;E.Oa=function(t){this.M=t};E.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():km.g(),this.C=this.u?B0(this.u):B0(km),this.g.onreadystatechange=Be(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){G0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=O.FormData&&t instanceof O.FormData,!(0<=Q0(oU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FC(this),0<this.B&&((this.L=aU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.ua,this)):this.A=Xm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){G0(this,s)}};function aU(t){return Is&&typeof t.timeout=="number"&&t.ontimeout!==void 0}E.ua=function(){typeof $m<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fe(this,"timeout"),this.abort(8))};function G0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,OC(t),kl(t)}function OC(t){t.F||(t.F=!0,Fe(t,"complete"),Fe(t,"error"))}E.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Fe(this,"complete"),Fe(this,"abort"),kl(this))};E.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kl(this,!0)),ge.$.N.call(this)};E.La=function(){this.s||(this.G||this.v||this.l?kC(this):this.kb())};E.kb=function(){kC(this)};function kC(t){if(t.h&&typeof $m<"u"&&(!t.C[1]||an(t)!=4||t.da()!=2)){if(t.v&&an(t)==4)Xm(t.La,0,t);else if(Fe(t,"readystatechange"),an(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(DC)[1]||null;!i&&O.self&&O.self.location&&(i=O.self.location.protocol.slice(0,-1)),r=!sU.test(i?i.toLowerCase():"")}n=r}if(n)Fe(t,"complete"),Fe(t,"success");else{t.m=6;try{var s=2<an(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",OC(t)}}finally{kl(t)}}}}function kl(t,e){if(t.g){FC(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Fe(t,"ready");try{n.onreadystatechange=r}catch{}}}function FC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(O.clearTimeout(t.A),t.A=null)}E.isActive=function(){return!!this.g};function an(t){return t.g?t.g.readyState:0}E.da=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}};E.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};E.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iU(e)}};function q0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case PC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function cU(t){let e={};t=(t.g&&2<=an(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Go(t[r]))continue;var n=Oj(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}Nj(e,function(r){return r.join(", ")})}E.Ia=function(){return this.m};E.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VC(t){let e="";return qm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function sy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ue(t,e,n))}function jo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LC(t){this.Ga=0,this.j=[],this.l=new Sl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jo("baseRetryDelayMs",5e3,t),this.hb=jo("retryDelaySeedMs",1e4,t),this.eb=jo("forwardChannelMaxRetries",2,t),this.xa=jo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new AC(t&&t.concurrentRequestLimit),this.Ja=new tU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}E=LC.prototype;E.ra=8;E.H=1;function oy(t){if(jC(t),t.H==3){var e=t.W++,n=jn(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),oa(t,n),e=new na(t,t.l,e),e.L=2,e.A=Pl(jn(n)),n=!1,O.navigator&&O.navigator.sendBeacon)try{n=O.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&O.Image&&(new Image().src=e.A,n=!0),n||(e.g=WC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ra(e)}qC(t)}function Fl(t){t.g&&(cy(t),t.g.cancel(),t.g=null)}function jC(t){Fl(t),t.u&&(O.clearTimeout(t.u),t.u=null),_l(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&O.clearTimeout(t.m),t.m=null)}function Vl(t){if(!SC(t.i)&&!t.m){t.m=!0;var e=t.Na;zo||aC(),Wo||(zo(),Wo=!0),Jm.add(e,t),t.C=0}}function uU(t,e){return MC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ea(Be(t.Na,t,e),GC(t,t.C)),t.C++,!0)}E.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new na(this,this.l,t),s=this.s;if(this.U&&(s?(s=X0(s),eC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=UC(this,i,e),n=jn(this.I),ue(n,"RID",t),ue(n,"CVER",22),this.F&&ue(n,"X-HTTP-Session-Id",this.F),oa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(VC(s)))+"&"+e:this.o&&sy(n,this.o,s)),ry(this.i,i),this.bb&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.aa=!0,Vm(i,n,null)):Vm(i,n,e),this.H=2}}else this.H==3&&(t?z0(this,t):this.j.length==0||SC(this.i)||z0(this))};function z0(t,e){var n;e?n=e.m:n=t.W++;let r=jn(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.V),oa(t,r),t.o&&t.s&&sy(r,t.o,t.s),n=new na(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=UC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ry(t.i,n),Vm(n,r,e)}function oa(t,e){t.na&&qm(t.na,function(n,r){ue(e,r,n)}),t.h&&wC({},function(n,r){ue(e,r,n)})}function UC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Be(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{nU(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function BC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zo||aC(),Wo||(zo(),Wo=!0),Jm.add(e,t),t.A=0}}function ay(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ea(Be(t.Ma,t),GC(t,t.A)),t.A++,!0)}E.Ma=function(){if(this.u=null,$C(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ea(Be(this.jb,this),t)}};E.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rt(10),Fl(this),$C(this))};function cy(t){t.B!=null&&(O.clearTimeout(t.B),t.B=null)}function $C(t){t.g=new na(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=jn(t.wa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.V),ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ue(e,"TO",t.qa),ue(e,"TYPE","xmlhttp"),oa(t,e),t.o&&t.s&&sy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Pl(jn(e)),n.u=null,n.S=!0,vC(n,t)}E.ib=function(){this.v!=null&&(this.v=null,Fl(this),ay(this),rt(19))};function _l(t){t.v!=null&&(O.clearTimeout(t.v),t.v=null)}function HC(t,e){var n=null;if(t.g==e){_l(t),cy(t),t.g=null;var r=2}else if(jm(t.i,e))n=e.F,NC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ml(),Fe(r,new fC(r,n)),Vl(t)}else BC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&uU(t,e)||r==2&&ay(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ii(t,5);break;case 4:ii(t,10);break;case 3:ii(t,6);break;default:ii(t,2)}}}function GC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ii(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Be(t.pb,t);n||(n=new si("//www.google.com/images/cleardot.gif"),O.location&&O.location.protocol=="http"||yl(n,"https"),Pl(n)),rU(n.toString(),r)}else rt(2);t.H=0,t.h&&t.h.za(e),qC(t),jC(t)}E.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rt(2)):(this.l.info("Failed to ping google.com"),rt(1))};function qC(t){if(t.H=0,t.ma=[],t.h){let e=xC(t.i);(e.length!=0||t.j.length!=0)&&(V0(t.ma,e),V0(t.ma,t.j),t.i.i.length=0,Hm(t.j),t.j.length=0),t.h.ya()}}function zC(t,e,n){var r=n instanceof si?jn(n):new si(n);if(r.g!="")e&&(r.g=e+"."+r.g),vl(r,r.m);else{var i=O.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new si(null);r&&yl(s,r),e&&(s.g=e),i&&vl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ue(r,n,e),ue(r,"VER",t.ra),oa(t,r),r}function WC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ge(new ia({ob:n})):new ge(t.va),e.Oa(t.J),e}E.isActive=function(){return!!this.h&&this.h.isActive(this)};function KC(){}E=KC.prototype;E.Ba=function(){};E.Aa=function(){};E.za=function(){};E.ya=function(){};E.isActive=function(){return!0};E.Va=function(){};function Il(){if(Is&&!(10<=Number(bj)))throw Error("Environmental error: no available transport.")}Il.prototype.g=function(t,e){return new _t(t,e)};function _t(t,e){Me.call(this),this.g=new LC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Go(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Go(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ws(this)}Ne(_t,Me);_t.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=zC(t,null,t.Y),Vl(t)};_t.prototype.close=function(){oy(this.g)};_t.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ym(t),t=n);e.j.push(new Zj(e.fb++,t)),e.H==3&&Vl(e)};_t.prototype.N=function(){this.g.h=null,delete this.j,oy(this.g),delete this.g,_t.$.N.call(this)};function QC(t){ty.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ne(QC,ty);function YC(){ny.call(this),this.status=1}Ne(YC,ny);function ws(t){this.g=t}Ne(ws,KC);ws.prototype.Ba=function(){Fe(this.g,"a")};ws.prototype.Aa=function(t){Fe(this.g,new QC(t))};ws.prototype.za=function(t){Fe(this.g,new YC)};ws.prototype.ya=function(){Fe(this.g,"b")};function lU(){this.blockSize=-1}function $t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ne($t,lU);$t.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Cm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}$t.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Cm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Cm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Cm(this,r),i=0;break}}this.h=i,this.i+=e};$t.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function X(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var dU={};function uy(t){return-128<=t&&128>t?Dj(t,function(e){return new X([e|0],0>e?-1:0)}):new X([t|0],0>t?-1:0)}function cn(t){if(isNaN(t)||!isFinite(t))return _s;if(0>t)return ke(cn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Um;return new X(e,0)}function JC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ke(JC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=cn(Math.pow(e,8)),r=_s,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=cn(Math.pow(e,s)),r=r.R(s).add(cn(o))):(r=r.R(n),r=r.add(cn(o)))}return r}var Um=4294967296,_s=uy(0),Bm=uy(1),W0=uy(16777216);E=X.prototype;E.ea=function(){if(Rt(this))return-ke(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Um+r)*e,e*=Um}return t};E.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ln(this))return"0";if(Rt(this))return"-"+ke(this).toString(t);for(var e=cn(Math.pow(t,6)),n=this,r="";;){var i=wl(n,e).g;n=El(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ln(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};E.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ln(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rt(t){return t.h==-1}E.X=function(t){return t=El(this,t),Rt(t)?-1:Ln(t)?0:1};function ke(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new X(n,~t.h).add(Bm)}E.abs=function(){return Rt(this)?ke(this):this};E.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new X(n,n[n.length-1]&-2147483648?-1:0)};function El(t,e){return t.add(ke(e))}E.R=function(t){if(Ln(this)||Ln(t))return _s;if(Rt(this))return Rt(t)?ke(this).R(ke(t)):ke(ke(this).R(t));if(Rt(t))return ke(this.R(ke(t)));if(0>this.X(W0)&&0>t.X(W0))return cn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,ml(n,2*r+2*i),n[2*r+2*i+1]+=s*c,ml(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ml(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ml(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new X(n,0)};function ml(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Uo(t,e){this.g=t,this.h=e}function wl(t,e){if(Ln(e))throw Error("division by zero");if(Ln(t))return new Uo(_s,_s);if(Rt(t))return e=wl(ke(t),e),new Uo(ke(e.g),ke(e.h));if(Rt(e))return e=wl(t,ke(e)),new Uo(ke(e.g),e.h);if(30<t.g.length){if(Rt(t)||Rt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Bm,r=e;0>=r.X(t);)n=K0(n),r=K0(r);var i=ys(n,1),s=ys(r,1);for(r=ys(r,2),n=ys(n,2);!Ln(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ys(r,1),n=ys(n,1)}return e=El(t,i.R(e)),new Uo(i,e)}for(i=_s;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=cn(n),o=s.R(e);Rt(o)||0<o.X(t);)n-=r,s=cn(n),o=s.R(e);Ln(s)&&(s=Bm),i=i.add(s),t=El(t,o)}return new Uo(i,t)}E.gb=function(t){return wl(this,t).h};E.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new X(n,this.h&t.h)};E.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new X(n,this.h|t.h)};E.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new X(n,this.h^t.h)};function K0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new X(n,t.h)}function ys(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new X(i,t.h)}Il.prototype.createWebChannel=Il.prototype.g;_t.prototype.send=_t.prototype.u;_t.prototype.open=_t.prototype.m;_t.prototype.close=_t.prototype.close;Nl.NO_ERROR=0;Nl.TIMEOUT=8;Nl.HTTP_ERROR=6;pC.COMPLETE="complete";gC.EventType=ta;ta.OPEN="a";ta.CLOSE="b";ta.ERROR="c";ta.MESSAGE="d";Me.prototype.listen=Me.prototype.O;ge.prototype.listenOnce=ge.prototype.P;ge.prototype.getLastError=ge.prototype.Sa;ge.prototype.getLastErrorCode=ge.prototype.Ia;ge.prototype.getStatus=ge.prototype.da;ge.prototype.getResponseJson=ge.prototype.Wa;ge.prototype.getResponseText=ge.prototype.ja;ge.prototype.send=ge.prototype.ha;ge.prototype.setWithCredentials=ge.prototype.Oa;$t.prototype.digest=$t.prototype.l;$t.prototype.reset=$t.prototype.reset;$t.prototype.update=$t.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=cn;X.fromString=JC;var ZC=Ht.createWebChannelTransport=function(){return new Il},XC=Ht.getStatEventTarget=function(){return Ml()},Ll=Ht.ErrorCode=Nl,eb=Ht.EventType=pC,tb=Ht.Event=oi,ly=Ht.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},BK=Ht.FetchXmlHttpFactory=ia,aa=Ht.WebChannel=gC,nb=Ht.XhrIo=ge,rb=Ht.Md5=$t,ai=Ht.Integer=X;var ib="@firebase/firestore";var xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xe.UNAUTHENTICATED=new xe(null),xe.GOOGLE_CREDENTIALS=new xe("google-credentials-uid"),xe.FIRST_PARTY=new xe("first-party-uid"),xe.MOCK_USER=new xe("mock-user");var Bs="10.8.0";var fi=new ir("@firebase/firestore");function ca(){return fi.logLevel}function w(t,...e){if(fi.logLevel<=G.DEBUG){let n=e.map(Zv);fi.debug(`Firestore (${Bs}): ${t}`,...n)}}function pn(t,...e){if(fi.logLevel<=G.ERROR){let n=e.map(Zv);fi.error(`Firestore (${Bs}): ${t}`,...n)}}function Ns(t,...e){if(fi.logLevel<=G.WARN){let n=e.map(Zv);fi.warn(`Firestore (${Bs}): ${t}`,...n)}}function Zv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function R(t="Unexpected state"){let e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw pn(e),new Error(e)}function oe(t,e){t||R()}function B(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},I=class extends vt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ot=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Hl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},gy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xe.UNAUTHENTICATED))}shutdown(){}},my=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},yy=class{constructor(e){this.t=e,this.currentUser=xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Ot;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ot,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{w("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(w("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ot)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(w("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string"),new Hl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new xe(e)}},vy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},_y=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Iy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ey=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&w("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,w("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{w("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):w("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string"),this.R=n.token,new Iy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function hU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Gl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=hU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Z(t,e){return t<e?-1:t>e?1:0}function xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ve=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new I(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new I(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new I(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new I(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var U=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ve(0,0))}static max(){return new t(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ql=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&R(),r===void 0?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},de=class t extends ql{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new I(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},fU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Et=class t extends ql{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return fU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new I(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new I(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new I(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new I(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var C=class t{constructor(e){this.path=e}static fromPath(e){return new t(de.fromString(e))}static fromName(e){return new t(de.fromString(e).popFirst(5))}static empty(){return new t(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new de(e.slice()))}};var wy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};wy.UNKNOWN_ID=-1;function pU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new pi(i,C.empty(),e)}function gU(t){return new pi(t.readTime,t.key,-1)}var pi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(U.min(),C.empty(),-1)}static max(){return new t(U.max(),C.empty(),-1)}};function mU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=C.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}var yU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ba(t){return p(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==yU)throw t;w("LocalStore","Unexpectedly lost primary lease")})}var v=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Ty=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ot,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new hi(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Xv(r.target.error);this.V.reject(new hi(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new hi(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(w("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new by(n)}},zl=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(pe())===12.2&&pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return w("SimpleDb","Removing database:",e),ci(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ou())return!1;if(t.C())return!0;let e=pe(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return p(this,null,function*(){return this.db||(w("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new hi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new I(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new I(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new hi(e,o))},i.onupgradeneeded=s=>{w("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{w("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Ty.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),v.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(w("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Cy=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ci(this.k.delete())}},hi=class extends I{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Aa(t){return t.name==="IndexedDbTransactionError"}var by=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(w("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(w("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ci(r)}add(e){return w("SimpleDb","ADD",this.store.name,e,e),ci(this.store.add(e))}get(e){return ci(this.store.get(e)).next(n=>(n===void 0&&(n=null),w("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return w("SimpleDb","DELETE",this.store.name,e),ci(this.store.delete(e))}count(){return w("SimpleDb","COUNT",this.store.name),ci(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new v((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new v((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){w("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new v((r,i)=>{n.onerror=s=>{let o=Xv(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new v((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Cy(a),u=n(a.primaryKey,a.value,c);if(u instanceof v){let l=u.catch(d=>(c.done(),v.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>v.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ci(t){return new v((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Xv(r.target.error);n(i)}})}var sb=!1;function Xv(t){let e=zl.S(pe());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new I("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sb||(sb=!0,setTimeout(()=>{throw r},0)),r}}return t}var Ob=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Td(t){return t==null}function fa(t){return t===0&&1/t==-1/0}function vU(t){return typeof t=="number"&&Number.isInteger(t)&&!fa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var _U=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JK=[..._U,"documentOverlays"],IU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],EU=IU,ZK=[...EU,"indexConfiguration","indexState","indexEntries"];function ob(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ye=class t{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bs(this.root,e,this.comparator,!0)}},bs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ln=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();let e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}};ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class t{constructor(e){this.comparator=e,this.data=new ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wl(this.data.getIterator())}getIteratorFrom(e){return new Wl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Wl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pt=class t{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ge(Et.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Kl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Kl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var wU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(oe(!!t),typeof t=="string"){let e=0,n=wU.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(t.seconds),nanos:me(t.nanos)}}function me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function Cd(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function e_(t){let e=t.mapValue.fields.__previous_value__;return Cd(e)?e_(e):e}function pa(t){let e=gr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}var Ay=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ql=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cd(t)?4:Fb(t)?9007199254740991:10:R()}function gn(t,e){if(t===e)return!0;let n=gi(t);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pa(t).isEqual(pa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=gr(i.timestampValue),a=gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return mr(i.bytesValue).isEqual(mr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return me(i.geoPointValue.latitude)===me(s.geoPointValue.latitude)&&me(i.geoPointValue.longitude)===me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return me(i.integerValue)===me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=me(i.doubleValue),a=me(s.doubleValue);return o===a?fa(o)===fa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xs(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ob(o)!==ob(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!gn(o[c],a[c])))return!1;return!0}(t,e);default:return R()}}function ga(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function Rs(t,e){if(t===e)return 0;let n=gi(t),r=gi(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=me(s.integerValue||s.doubleValue),c=me(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ab(t.timestampValue,e.timestampValue);case 4:return ab(pa(t),pa(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(s,o){let a=mr(s),c=mr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=Z(a[u],c[u]);if(l!==0)return l}return Z(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Z(me(s.latitude),me(o.latitude));return a!==0?a:Z(me(s.longitude),me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Rs(a[u],c[u]);if(l)return l}return Z(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===jl.mapValue&&o===jl.mapValue)return 0;if(s===jl.mapValue)return 1;if(o===jl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=Z(c[d],l[d]);if(h!==0)return h;let f=Rs(a[c[d]],u[l[d]]);if(f!==0)return f}return Z(c.length,l.length)}(t.mapValue,e.mapValue);default:throw R()}}function ab(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);let n=gr(t),r=gr(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Ps(t){return Sy(t)}function Sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return C.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Sy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Sy(n.fields[o])}`;return i+"}"}(t.mapValue):R()}function Yl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function My(t){return!!t&&"integerValue"in t}function t_(t){return!!t&&"arrayValue"in t}function cb(t){return!!t&&"nullValue"in t}function ub(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bl(t){return!!t&&"mapValue"in t}function la(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=la(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=la(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var It=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=la(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=la(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(la(this.value))}};function Vb(t){let e=[];return Ei(t.fields,(n,r)=>{let i=new Et([n]);if(Bl(r)){let s=Vb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Pt(e)}var Gt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,U.min(),U.min(),U.min(),It.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,U.min(),U.min(),It.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,U.min(),U.min(),It.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var yr=class{constructor(e,n){this.position=e,this.inclusive=n}};function lb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=C.comparator(C.fromName(o.referenceValue),n.key):r=Rs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function db(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}var mi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function DU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jl=class{},Te=class t extends Jl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xy(e,n,r):n==="array-contains"?new Oy(e,r):n==="in"?new ky(e,r):n==="not-in"?new Fy(e,r):n==="array-contains-any"?new Vy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ry(e,r):new Py(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rs(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return R()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},qt=class t extends Jl{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return Lb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Lb(t){return t.op==="and"}function jb(t){return TU(t)&&Lb(t)}function TU(t){for(let e of t.filters)if(e instanceof qt)return!1;return!0}function Ny(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+Ps(t.value);if(jb(t))return t.filters.map(e=>Ny(e)).join(",");{let e=t.filters.map(n=>Ny(n)).join(",");return`${t.op}(${e})`}}function Ub(t,e){return t instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ub(o,i.filters[a]),!0):!1}(t,e):void R()}function Bb(t){return t instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${Ps(n.value)}`}(t):t instanceof qt?function(n){return n.op.toString()+" {"+n.getFilters().map(Bb).join(" ,")+"}"}(t):"Filter"}var xy=class extends Te{constructor(e,n,r){super(e,n,r),this.key=C.fromName(r.referenceValue)}matches(e){let n=C.comparator(e.key,this.key);return this.matchesComparison(n)}},Ry=class extends Te{constructor(e,n){super(e,"in",n),this.keys=$b("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Py=class extends Te{constructor(e,n){super(e,"not-in",n),this.keys=$b("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function $b(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>C.fromName(r.referenceValue))}var Oy=class extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return t_(n)&&ga(n.arrayValue,this.value)}},ky=class extends Te{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ga(this.value.arrayValue,n)}},Fy=class extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ga(this.value.arrayValue,n)}},Vy=class extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!t_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ga(this.value.arrayValue,r))}};var Ly=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function hb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ly(t,e,n,r,i,s,o)}function n_(t){let e=B(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ps(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ps(r)).join(",")),e.ce=n}return e.ce}function r_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ub(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!db(t.startAt,e.startAt)&&db(t.endAt,e.endAt)}function jy(t){return C.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var mn=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function CU(t,e,n,r,i,s,o,a){return new mn(t,e,n,r,i,s,o,a)}function i_(t){return new mn(t)}function fb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function s_(t){return t.collectionGroup!==null}function As(t){let e=B(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(Et.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new mi(s,r))}),n.has(Et.keyField().canonicalString())||e.le.push(new mi(Et.keyField(),r))}return e.le}function dn(t){let e=B(t);return e.he||(e.he=bU(e,As(t))),e.he}function bU(t,e){if(t.limitType==="F")return hb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new mi(i.field,s)});let n=t.endAt?new yr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yr(t.startAt.position,t.startAt.inclusive):null;return hb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uy(t,e){let n=t.filters.concat([e]);return new mn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zl(t,e,n){return new mn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bd(t,e){return r_(dn(t),dn(e))&&t.limitType===e.limitType}function Hb(t){return`${n_(dn(t))}|lt:${t.limitType}`}function Ds(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Bb(i)).join(", ")}]`),Td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ps(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ps(i)).join(",")),`Target(${r})`}(dn(t))}; limitType=${t.limitType})`}function Ad(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):C.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of As(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=lb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,As(r),i)||r.endAt&&!function(o,a,c){let u=lb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,As(r),i))}(t,e)}function AU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gb(t){return(e,n)=>{let r=!1;for(let i of As(t)){let s=SU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SU(t,e,n){let r=t.field.isKeyField()?C.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Rs(c,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}var vr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return kb(this.inner)}size(){return this.innerSize}};var MU=new ye(C.comparator);function Un(){return MU}var qb=new ye(C.comparator);function ua(...t){let e=qb;for(let n of t)e=e.insert(n.key,n);return e}function zb(t){let e=qb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ui(){return da()}function Wb(){return da()}function da(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}var NU=new ye(C.comparator),xU=new Ge(C.comparator);function q(...t){let e=xU;for(let n of t)e=e.add(n);return e}var RU=new Ge(Z);function PU(){return RU}function Kb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fa(e)?"-0":e}}function Qb(t){return{integerValue:""+t}}function OU(t,e){return vU(e)?Qb(e):Kb(t,e)}var Os=class{constructor(){this._=void 0}};function kU(t,e,n){return t instanceof ks?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cd(s)&&(s=e_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof yi?Jb(t,e):t instanceof vi?Zb(t,e):function(i,s){let o=Yb(i,s),a=pb(o)+pb(i.Ie);return My(o)&&My(i.Ie)?Qb(a):Kb(i.serializer,a)}(t,e)}function FU(t,e,n){return t instanceof yi?Jb(t,e):t instanceof vi?Zb(t,e):n}function Yb(t,e){return t instanceof Fs?function(r){return My(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ks=class extends Os{},yi=class extends Os{constructor(e){super(),this.elements=e}};function Jb(t,e){let n=Xb(e);for(let r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var vi=class extends Os{constructor(e){super(),this.elements=e}};function Zb(t,e){let n=Xb(e);for(let r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}var Fs=class extends Os{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function pb(t){return me(t.integerValue||t.doubleValue)}function Xb(t){return t_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yi&&i instanceof yi||r instanceof vi&&i instanceof vi?xs(r.elements,i.elements,gn):r instanceof Fs&&i instanceof Fs?gn(r.Ie,i.Ie):r instanceof ks&&i instanceof ks}(t.transform,e.transform)}var By=class{constructor(e,n){this.version=e,this.transformResults=n}},hn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $l(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Vs=class{};function eA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ma(t.key,hn.none()):new _i(t.key,t.data,hn.none());{let n=t.data,r=It.empty(),i=new Ge(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yn(t.key,r,new Pt(i.toArray()),hn.none())}}function LU(t,e,n){t instanceof _i?function(i,s,o){let a=i.value.clone(),c=mb(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yn?function(i,s,o){if(!$l(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=mb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(tA(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ha(t,e,n,r){return t instanceof _i?function(s,o,a,c){if(!$l(s.precondition,o))return a;let u=s.value.clone(),l=yb(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof yn?function(s,o,a,c){if(!$l(s.precondition,o))return a;let u=yb(s.fieldTransforms,c,o),l=o.data;return l.setAll(tA(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return $l(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function jU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Yb(r.transform,i||null);s!=null&&(n===null&&(n=It.empty()),n.set(r.field,s))}return n||null}function gb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xs(r,i,(s,o)=>VU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var _i=class extends Vs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yn=class extends Vs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function tA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function mb(t,e,n){let r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,FU(o,a,n[i]))}return r}function yb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,kU(s,o,e))}return r}var ma=class extends Vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},$y=class extends Vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Hy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&LU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Wb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=eA(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),q())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(n,r)=>gb(n,r))&&xs(this.baseMutations,e.baseMutations,(n,r)=>gb(n,r))}},Gy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=function(){return NU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var qy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var we,K;function UU(t){switch(t){default:return R();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function nA(t){if(t===void 0)return pn("GRPC error has no .code"),m.UNKNOWN;switch(t){case we.OK:return m.OK;case we.CANCELLED:return m.CANCELLED;case we.UNKNOWN:return m.UNKNOWN;case we.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case we.INTERNAL:return m.INTERNAL;case we.UNAVAILABLE:return m.UNAVAILABLE;case we.UNAUTHENTICATED:return m.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case we.NOT_FOUND:return m.NOT_FOUND;case we.ALREADY_EXISTS:return m.ALREADY_EXISTS;case we.PERMISSION_DENIED:return m.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case we.ABORTED:return m.ABORTED;case we.OUT_OF_RANGE:return m.OUT_OF_RANGE;case we.UNIMPLEMENTED:return m.UNIMPLEMENTED;case we.DATA_LOSS:return m.DATA_LOSS;default:return R()}}(K=we||(we={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var vb=null;function BU(){return new TextEncoder}var $U=new ai([4294967295,4294967295],0);function _b(t){let e=BU().encode(t),n=new rb;return n.update(e),new Uint8Array(n.digest())}function Ib(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ai([n,r],0),new ai([i,s],0)]}var Wy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new li(`Invalid padding: ${n}`);if(r<0)throw new li(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new li(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new li(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ai.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ai.fromNumber(r)));return i.compare($U)===1&&(i=new ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=_b(e),[r,i]=Ib(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=_b(e),[r,i]=Ib(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},li=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Xl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(U.min(),i,new ye(Z),Un(),q())}},ya=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,q(),q(),q())}};var Ss=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},ed=class{constructor(e,n){this.targetId=e,this.fe=n}},td=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},nd=class{constructor(){this.ge=0,this.pe=wb(),this.ye=st.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=q(),n=q(),r=q();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new ya(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=wb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,oe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Ky=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Un(),this.Qe=Eb(),this.Ke=new ye(Z)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(jy(s))if(r===0){let o=new C(s.path);this.We(n,o,Gt.newNoDocument(o,U.min()))}else oe(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}vb?.tt(function(l,d,h,f,g){var y,_,T,$,Q,ee;let ve={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},te=d.unchangedNames;return te&&(ve.bloomFilter={applied:g===0,hashCount:(y=te?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:($=(T=(_=te?.bits)===null||_===void 0?void 0:_.bitmap)===null||T===void 0?void 0:T.length)!==null&&$!==void 0?$:0,padding:(ee=(Q=te?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&ee!==void 0?ee:0,mightContain:ht=>{var $n;return($n=f?.mightContain(ht))!==null&&$n!==void 0&&$n}}),ve}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=mr(r).toUint8Array()}catch(c){if(c instanceof Kl)return Ns("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Wy(o,i,s)}catch(c){return Ns(c instanceof li?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&jy(a.target)){let c=new C(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Gt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=q();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Xl(e,n,this.Ke,this.qe,r);return this.qe=Un(),this.Qe=Eb(),this.Ke=new ye(Z),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new nd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ge(Z),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||w("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new nd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Eb(){return new ye(C.comparator)}function wb(){return new ye(C.comparator)}var HU={asc:"ASCENDING",desc:"DESCENDING"},GU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qU={and:"AND",or:"OR"},Qy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Yy(t,e){return t.useProto3Json||Td(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zU(t,e){return rd(t,e.toTimestamp())}function fn(t){return oe(!!t),U.fromTimestamp(function(n){let r=gr(n);return new Ve(r.seconds,r.nanos)}(t))}function o_(t,e){return Jy(t,e).canonicalString()}function Jy(t,e){let n=function(i){return new de(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iA(t){let e=de.fromString(t);return oe(uA(e)),e}function Zy(t,e){return o_(t.databaseId,e.path)}function dy(t,e){let n=iA(e);if(n.get(1)!==t.databaseId.projectId)throw new I(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new I(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new C(oA(n))}function sA(t,e){return o_(t.databaseId,e)}function WU(t){let e=iA(t);return e.length===4?de.emptyPath():oA(e)}function Xy(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oA(t){return oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Db(t,e,n){return{name:Zy(t,e),fields:n.value.mapValue.fields}}function KU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:R()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(oe(l===void 0||typeof l=="string"),st.fromBase64String(l||"")):(oe(l===void 0||l instanceof Uint8Array),st.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:nA(u.code);return new I(l,u.message||"")}(o);n=new td(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=dy(t,r.document.name),s=fn(r.document.updateTime),o=r.document.createTime?fn(r.document.createTime):U.min(),a=new It({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Ss(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=dy(t,r.document),s=r.readTime?fn(r.readTime):U.min(),o=Gt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ss([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=dy(t,r.document),s=r.removedTargetIds||[];n=new Ss([],s,i,null)}else{if(!("filter"in e))return R();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new zy(i,s),a=r.targetId;n=new ed(a,o)}}return n}function QU(t,e){let n;if(e instanceof _i)n={update:Db(t,e.key,e.value)};else if(e instanceof ma)n={delete:Zy(t,e.key)};else if(e instanceof yn)n={update:Db(t,e.key,e.data),updateMask:iB(e.fieldMask)};else{if(!(e instanceof $y))return R();n={verify:Zy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ks)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:zU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:R()}(t,e.precondition)),n}function YU(t,e){return t&&t.length>0?(oe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fn(i.updateTime):fn(s);return o.isEqual(U.min())&&(o=fn(s)),new By(o,i.transformResults||[])}(n,e))):[]}function JU(t,e){return{documents:[sA(t,e.path)]}}function ZU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sA(t,i);let s=function(u){if(u.length!==0)return cA(qt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Ts(h.field),direction:tB(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Yy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function XU(t){let e=WU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){oe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=aA(d);return h instanceof qt&&jb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new mi(Cs(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Td(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new yr(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new yr(f,h)}(n.endAt)),CU(e,i,o,s,a,"F",c,u)}function eB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Cs(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Cs(n.unaryFilter.field);return Te.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Cs(n.unaryFilter.field);return Te.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Cs(n.unaryFilter.field);return Te.create(o,"!=",{nullValue:"NULL_VALUE"});default:return R()}}(t):t.fieldFilter!==void 0?function(n){return Te.create(Cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qt.create(n.compositeFilter.filters.map(r=>aA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return R()}}(n.compositeFilter.op))}(t):R()}function tB(t){return HU[t]}function nB(t){return GU[t]}function rB(t){return qU[t]}function Ts(t){return{fieldPath:t.canonicalString()}}function Cs(t){return Et.fromServerFormat(t.fieldPath)}function cA(t){return t instanceof Te?function(n){if(n.op==="=="){if(ub(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NAN"}};if(cb(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ub(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NAN"}};if(cb(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(n.field),op:nB(n.op),value:n.value}}}(t):t instanceof qt?function(n){let r=n.getFilters().map(i=>cA(i));return r.length===1?r[0]:{compositeFilter:{op:rB(n.op),filters:r}}}(t):R()}function iB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var va=class t{constructor(e,n,r,i,s=U.min(),o=U.min(),a=st.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ev=class{constructor(e){this.ct=e}};function sB(t){let e=XU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zl(e,e.limit,"L"):e}var id=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(me(e.integerValue));else if("doubleValue"in e){let r=me(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),fa(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(mr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Fb(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):R()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),C.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};id.bt=new id;var tv=class{constructor(){this._n=new nv}addToCollectionParentIndex(e,n){return this._n.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(pi.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}},nv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(de.comparator)).toArray()}};var e7=new Uint8Array(0);var un=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);var _a=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var rv=class{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var iv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var sv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ha(r.mutation,i,Pt.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,q()).next(()=>r))}getLocalViewOfDocuments(e,n,r=q()){let i=ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ua();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,q()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Un(),o=da(),a=function(){return da()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof yn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),ha(l.mutation,u,l.mutation.getFieldMask(),Ve.now())):o.set(u.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new iv(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=da(),i=new ye((o,a)=>o-a),s=q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Pt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||q()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=Wb();l.forEach(h=>{if(!s.has(h)){let f=eA(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return C.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(ui()),a=-1,c=s;return o.next(u=>v.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,q())).next(l=>({batchId:a,changes:zb(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new C(n)).next(r=>{let i=ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ua();return this.indexManager.getCollectionParents(e,s).next(a=>v.forEach(a,c=>{let u=function(d,h){return new mn(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Gt.newInvalidDocument(l)))});let a=ua();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&ha(l.mutation,u,Pt.empty(),Ve.now()),Ad(n,u)&&(a=a.insert(c,u))}),a})}};var ov=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return v.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fn(i.createTime)}}(n)),v.resolve()}getNamedQuery(e,n){return v.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:sB(i.bundledQuery),readTime:fn(i.readTime)}}(n)),v.resolve()}};var av=class{constructor(){this.overlays=new ye(C.comparator),this.hr=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ui();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){let i=ui(),s=n.length+1,o=new C(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ye((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=ui(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=ui(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return v.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qy(n,r));let s=this.hr.get(n);s===void 0&&(s=q(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Ia=class{constructor(){this.Pr=new Ge(De.Ir),this.Tr=new Ge(De.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new De(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new De(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new C(new de([])),r=new De(n,e),i=new De(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new C(new de([])),r=new De(n,e),i=new De(n,e+1),s=q();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new De(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},De=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return C.comparator(e.key,n.key)||Z(e.pr,n.pr)}static Er(e,n){return Z(e.pr,n.pr)||C.comparator(e.key,n.key)}};var cv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ge(De.Ir)}checkEmpty(e){return v.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Hy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new De(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new De(n,0),i=new De(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(Z);return n.forEach(i=>{let s=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),v.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;C.isDocumentKey(s)||(s=s.child(""));let o=new De(new C(s),0),a=new Ge(Z);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),v.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return v.forEach(n.mutations,i=>{let s=new De(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new De(n,0),i=this.wr.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,v.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var uv=class{constructor(e){this.vr=e,this.docs=function(){return new ye(C.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Un();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Un(),o=n.path,a=new C(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||mU(gU(l),r)<=0||(i.has(l.key)||Ad(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){R()}Fr(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lv(this)}getSize(e){return v.resolve(this.size)}},lv=class extends rv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var dv=class{constructor(e){this.persistence=e,this.Mr=new vr(n=>n_(n),r_),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ia,this.targetCount=0,this.Br=_a.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),v.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new _a(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.qn(n),v.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),v.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Nr.containsKey(n))}};var hv=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Ob(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new dv(this),this.indexManager=new tv,this.remoteDocumentCache=function(i){return new uv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new ev(n),this.$r=new ov(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new av,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new cv(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){w("MemoryPersistence","Starting transaction:",e);let i=new fv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return v.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},fv=class extends Dy{constructor(e){super(),this.currentSequenceNumber=e}},pv=class t{constructor(e){this.persistence=e,this.zr=new Ia,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw R()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),v.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Jr,r=>{let i=C.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return v.or([()=>v.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var gv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=q(),i=q();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var mv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var yv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return MT()?8:zl.v(pe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new mv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ca()<=G.DEBUG&&w("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),v.resolve()):(ca()<=G.DEBUG&&w("QueryEngine","Query:",Ds(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ca()<=G.DEBUG&&w("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(n))):v.resolve())}ji(e,n){if(fb(n))return v.resolve(null);let r=dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zl(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=q(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Zl(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return fb(n)||i.isEqual(U.min())?v.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?v.resolve(null):(ca()<=G.DEBUG&&w("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ds(n)),this.es(e,o,n,pU(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ge(Gb(e));return n.forEach((i,s)=>{Ad(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ca()<=G.DEBUG&&w("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.zi.getDocumentsMatchingQuery(e,n,pi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var vv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ye(Z),this.rs=new vr(s=>n_(s),r_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function oB(t,e,n,r){return new vv(t,e,n,r)}function lA(t,e){return p(this,null,function*(){let n=B(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=q();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function aB(t,e){let n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=v.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(y=>{let _=u.docVersions.get(g);oe(_!==null),y.version.compareTo(_)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=q();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dA(t){let e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function cB(t,e){let n=B(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(st.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(y,_,T){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Un(),u=q();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(uB(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(U.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function uB(t,e,n){let r=q(),i=q();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Un();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(U.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):w("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function lB(t,e){let n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dB(t,e){let n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new va(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function _v(t,e,n){return p(this,null,function*(){let r=B(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Aa(o))throw o;w("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function Tb(t,e,n){let r=B(t),i=U.min(),s=q();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=B(c),h=d.rs.get(l);return h!==void 0?v.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:q())).next(a=>(hB(r,AU(e),a),{documents:a,hs:s})))}function hB(t,e,n){let r=t.ss.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var sd=class{constructor(){this.activeTargetIds=PU()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Iv=class{constructor(){this.no=new sd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new sd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ev=class{io(e){}shutdown(){}};var od=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){w("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){w("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ul=null;function hy(){return Ul===null?Ul=function(){return 268435456+Math.round(2147483648*Math.random())}():Ul++,"0x"+Ul.toString(16)}var fB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var wv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var He="WebChannelConnection",Dv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=hy(),c=this.bo(n,r.toUriEncodedString());w("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(w("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Ns("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=fB[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=hy();return new Promise((o,a)=>{let c=new nb;c.setWithCredentials(!0),c.listenOnce(eb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ll.NO_ERROR:let l=c.getResponseJson();w(He,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Ll.TIMEOUT:w(He,`RPC '${e}' ${s} timed out`),a(new I(m.DEADLINE_EXCEEDED,"Request time out"));break;case Ll.HTTP_ERROR:let d=c.getStatus();if(w(He,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(_){let T=_.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(T)>=0?T:m.UNKNOWN}(f.status);a(new I(g,f.message))}else a(new I(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new I(m.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{w(He,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);w(He,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=hy(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZC(),a=XC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");w(He,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new wv({lo:_=>{f?w(He,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(w(He,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),w(He,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),y=(_,T,$)=>{_.listen(T,Q=>{try{$(Q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return y(d,aa.EventType.OPEN,()=>{f||w(He,`RPC '${e}' stream ${i} transport opened.`)}),y(d,aa.EventType.CLOSE,()=>{f||(f=!0,w(He,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),y(d,aa.EventType.ERROR,_=>{f||(f=!0,Ns(He,`RPC '${e}' stream ${i} transport errored:`,_),g.Vo(new I(m.UNAVAILABLE,"The operation could not be completed")))}),y(d,aa.EventType.MESSAGE,_=>{var T;if(!f){let $=_.data[0];oe(!!$);let Q=$,ee=Q.error||((T=Q[0])===null||T===void 0?void 0:T.error);if(ee){w(He,`RPC '${e}' stream ${i} received error:`,ee);let ve=ee.status,te=function(Er){let Va=we[Er];if(Va!==void 0)return nA(Va)}(ve),ht=ee.message;te===void 0&&(te=m.INTERNAL,ht="Unknown error status: "+ve+" with message "+ee.message),f=!0,g.Vo(new I(te,ht)),d.close()}else w(He,`RPC '${e}' stream ${i} received:`,$),g.mo($)}}),y(a,tb.STAT_EVENT,_=>{_.stat===ly.PROXY?w(He,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===ly.NOPROXY&&w(He,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function fy(){return typeof document<"u"?document:null}function Sd(t){return new Qy(t,!0)}var ad=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&w("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var cd=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ad(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(pn(n.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new I(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return w("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(w("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Tv=class extends cd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=KU(this.serializer,e),r=function(s){if(!("targetChange"in s))return U.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?U.min():o.readTime?fn(o.readTime):U.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=Xy(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=jy(c)?{documents:JU(s,c)}:{query:ZU(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rA(s,o.resumeToken);let u=Yy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(U.min())>0){a.readTime=rd(s,o.snapshotVersion.toTimestamp());let u=Yy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=eB(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=Xy(this.serializer),n.removeTarget=e,this.t_(n)}},Cv=class extends cd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=YU(e.writeResults,e.commitTime),r=fn(e.commitTime);return this.listener.T_(r,n)}return oe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=Xy(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>QU(this.serializer,r))};this.t_(n)}};var bv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new I(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Jy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new I(m.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Jy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new I(m.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Av=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(pn(n),this.g_=!1):w("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Sv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>p(this,null,function*(){wi(this)&&(w("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=B(c);u.v_.add(4),yield Sa(u),u.x_.set("Unknown"),u.v_.delete(4),yield Md(u)})}(this))}))}),this.x_=new Av(r,i)}};function Md(t){return p(this,null,function*(){if(wi(t))for(let e of t.F_)yield e(!0)})}function Sa(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function hA(t,e){let n=B(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),u_(n)?c_(n):$s(n).Jo()&&a_(n,e))}function fA(t,e){let n=B(t),r=$s(n);n.C_.delete(e),r.Jo()&&pA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():wi(n)&&n.x_.set("Unknown"))}function a_(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$s(t).c_(e)}function pA(t,e){t.O_.Oe(e),$s(t).l_(e)}function c_(t){t.O_=new Ky({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),$s(t).start(),t.x_.p_()}function u_(t){return wi(t)&&!$s(t).Ho()&&t.C_.size>0}function wi(t){return B(t).v_.size===0}function gA(t){t.O_=void 0}function pB(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{a_(t,e)})})}function gB(t,e){return p(this,null,function*(){gA(t),u_(t)?(t.x_.S_(e),c_(t)):t.x_.set("Unknown")})}function mB(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof td&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){w("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ud(t,r)}else if(e instanceof Ss?t.O_.$e(e):e instanceof ed?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(U.min()))try{let r=yield dA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(st.EMPTY_BYTE_STRING,l.snapshotVersion)),pA(s,c);let d=new va(l.target,c,u,l.sequenceNumber);a_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){w("RemoteStore","Failed to raise snapshot:",r),yield ud(t,r)}})}function ud(t,e,n){return p(this,null,function*(){if(!Aa(e))throw e;t.v_.add(1),yield Sa(t),t.x_.set("Offline"),n||(n=()=>dA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){w("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Md(t)}))})}function mA(t,e){return e().catch(n=>ud(t,n,e))}function Nd(t){return p(this,null,function*(){let e=B(t),n=_r(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;yB(e);)try{let i=yield lB(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,vB(e,i)}catch(i){yield ud(e,i)}yA(e)&&vA(e)})}function yB(t){return wi(t)&&t.D_.length<10}function vB(t,e){t.D_.push(e);let n=_r(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function yA(t){return wi(t)&&!_r(t).Ho()&&t.D_.length>0}function vA(t){_r(t).start()}function _B(t){return p(this,null,function*(){_r(t).d_()})}function IB(t){return p(this,null,function*(){let e=_r(t);for(let n of t.D_)e.I_(n.mutations)})}function EB(t,e,n){return p(this,null,function*(){let r=t.D_.shift(),i=Gy.from(r,e,n);yield mA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Nd(t)})}function wB(t,e){return p(this,null,function*(){e&&_r(t).P_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return UU(o)&&o!==m.ABORTED}(i.code)){let s=r.D_.shift();_r(r).Zo(),yield mA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Nd(r)}})}(t,e)),yA(t)&&vA(t)})}function Cb(t,e){return p(this,null,function*(){let n=B(t);n.asyncQueue.verifyOperationInProgress(),w("RemoteStore","RemoteStore received new credentials");let r=wi(n);n.v_.add(3),yield Sa(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Md(n)})}function DB(t,e){return p(this,null,function*(){let n=B(t);e?(n.v_.delete(2),yield Md(n)):e||(n.v_.add(2),yield Sa(n),n.x_.set("Unknown"))})}function $s(t){return t.N_||(t.N_=function(n,r,i){let s=B(n);return s.R_(),new Tv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:pB.bind(null,t),To:gB.bind(null,t),u_:mB.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),u_(t)?c_(t):t.x_.set("Unknown")):(yield t.N_.stop(),gA(t))}))),t.N_}function _r(t){return t.B_||(t.B_=function(n,r,i){let s=B(n);return s.R_(),new Cv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:_B.bind(null,t),To:wB.bind(null,t),E_:IB.bind(null,t),T_:EB.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.B_.Zo(),yield Nd(t)):(yield t.B_.stop(),t.D_.length>0&&(w("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var Mv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ot,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new I(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function l_(t,e){if(pn("AsyncQueue",`${e}: ${t}`),Aa(t))return new I(m.UNAVAILABLE,`${e}: ${t}`);throw t}var ld=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||C.comparator(n.key,r.key):(n,r)=>C.comparator(n.key,r.key),this.keyedMap=ua(),this.sortedSet=new ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var dd=class{constructor(){this.L_=new ye(C.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):R():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ls=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ld.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Nv=class{constructor(){this.q_=void 0,this.Q_=[]}},xv=class{constructor(){this.queries=new vr(e=>Hb(e),bd),this.onlineState="Unknown",this.K_=new Set}};function _A(t,e){return p(this,null,function*(){let n=B(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Nv),i)try{s.q_=yield n.onListen(r)}catch(o){let a=l_(o,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&d_(n)})}function IA(t,e){return p(this,null,function*(){let n=B(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function TB(t,e){let n=B(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&d_(n)}function CB(t,e,n){let r=B(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function d_(t){t.K_.forEach(e=>{e.next()})}var hd=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ls(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var fd=class{constructor(e){this.key=e}},pd=class{constructor(e){this.key=e}},Rv=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=q(),this.mutatedKeys=q(),this.ua=Gb(e),this.ca=new ld(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new dd,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Ad(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),_=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),_=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.ua(f,c)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||u)&&(a=!0)),_&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(f,g){let y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return y(f)-y(g)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Ls(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new dd,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=q(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new pd(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new fd(r))}),n}Ra(e){this.oa=e.hs,this.aa=q();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ls.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},Pv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Ov=class{constructor(e){this.key=e,this.ma=!1}},kv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new vr(a=>Hb(a),bd),this.pa=new Map,this.ya=new Set,this.wa=new ye(C.comparator),this.Sa=new Map,this.ba=new Ia,this.Da={},this.Ca=new Map,this.va=_a.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function bB(t,e){return p(this,null,function*(){let n=FB(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield dB(n.localStore,dn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield AB(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&hA(n.remoteStore,o)}return i})}function AB(t,e,n,r,i){return p(this,null,function*(){t.Ma=(d,h,f)=>function(y,_,T,$){return p(this,null,function*(){let Q=_.view.ha(T);Q.Xi&&(Q=yield Tb(y.localStore,_.query,!1).then(({documents:ht})=>_.view.ha(ht,Q)));let ee=$&&$.targetChanges.get(_.targetId),ve=$&&$.targetMismatches.get(_.targetId)!=null,te=_.view.applyChanges(Q,y.isPrimaryClient,ee,ve);return Ab(y,_.targetId,te.da),te.snapshot})}(t,d,h,f);let s=yield Tb(t.localStore,e,!0),o=new Rv(e,s.hs),a=o.ha(s.documents),c=ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Ab(t,n,u.da);let l=new Pv(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function SB(t,e){return p(this,null,function*(){let n=B(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!bd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _v(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fA(n.remoteStore,r.targetId),Fv(n,r.targetId)}).catch(ba))):(Fv(n,r.targetId),yield _v(n.localStore,r.targetId,!0))})}function MB(t,e,n){return p(this,null,function*(){let r=VB(t);try{let i=yield function(o,a){let c=B(o),u=Ve.now(),l=a.reduce((f,g)=>f.add(g.key),q()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Un(),y=q();return c.os.getEntries(f,l).next(_=>{g=_,g.forEach((T,$)=>{$.isValidDocument()||(y=y.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(_=>{d=_;let T=[];for(let $ of a){let Q=jU($,d.get($.key).overlayedDocument);Q!=null&&T.push(new yn($.key,Q,Vb(Q.value.mapValue),hn.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,T,a)}).next(_=>{h=_;let T=_.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(f,_.batchId,T)})}).then(()=>({batchId:h.batchId,changes:zb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new ye(Z)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Ma(r,i.changes),yield Nd(r.remoteStore)}catch(i){let s=l_(i,"Failed to persist write");n.reject(s)}})}function EA(t,e){return p(this,null,function*(){let n=B(t);try{let r=yield cB(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?oe(o.ma):i.removedDocuments.size>0&&(oe(o.ma),o.ma=!1))}),yield Ma(n,r,e)}catch(r){yield ba(r)}})}function bb(t,e,n){let r=B(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=B(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&d_(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function NB(t,e,n){return p(this,null,function*(){let r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new ye(C.comparator);o=o.insert(s,Gt.newNoDocument(s,U.min()));let a=q().add(s),c=new Xl(U.min(),new Map,new ye(Z),o,a);yield EA(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),h_(r)}else yield _v(r.localStore,e,!1).then(()=>Fv(r,e,n)).catch(ba)})}function xB(t,e){return p(this,null,function*(){let n=B(t),r=e.batch.batchId;try{let i=yield aB(n.localStore,e);DA(n,r,null),wA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ma(n,i)}catch(i){yield ba(i)}})}function RB(t,e,n){return p(this,null,function*(){let r=B(t);try{let i=yield function(o,a){let c=B(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(oe(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);DA(r,e,n),wA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ma(r,i)}catch(i){yield ba(i)}})}function wA(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function DA(t,e,n){let r=B(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Fv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||TA(t,r)})}function TA(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(fA(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),h_(t))}function Ab(t,e,n){for(let r of n)r instanceof fd?(t.ba.addReference(r.key,e),PB(t,r)):r instanceof pd?(w("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||TA(t,r.key)):R()}function PB(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(w("SyncEngine","New document in limbo: "+n),t.ya.add(r),h_(t))}function h_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new C(de.fromString(e)),r=t.va.next();t.Sa.set(r,new Ov(n)),t.wa=t.wa.insert(n,r),hA(t.remoteStore,new va(dn(i_(n.path)),r,"TargetPurposeLimboResolution",Ob._e))}}function Ma(t,e,n){return p(this,null,function*(){let r=B(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=gv.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return p(this,null,function*(){let l=B(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(u,h=>v.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Aa(d))throw d;w("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,y)}}})}(r.localStore,s))})}function OB(t,e){return p(this,null,function*(){let n=B(t);if(!n.currentUser.isEqual(e)){w("SyncEngine","User change. New user:",e.toKey());let r=yield lA(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new I(m.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ma(n,r.us)}})}function kB(t,e){let n=B(t),r=n.Sa.get(e);if(r&&r.ma)return q().add(r.key);{let i=q(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function FB(t){let e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NB.bind(null,e),e.fa.u_=TB.bind(null,e.eventManager),e.fa.xa=CB.bind(null,e.eventManager),e}function VB(t){let e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RB.bind(null,e),e}var gd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oB(this.persistence,new yv,e.initialUser,this.serializer)}createPersistence(e){return new hv(pv.Hr,this.serializer)}createSharedClientState(e){return new Iv}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Vv=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OB.bind(null,this.syncEngine),yield DB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new xv}()}createDatastore(e){let n=Sd(e.databaseInfo.databaseId),r=function(s){return new Dv(s)}(e.databaseInfo);return function(s,o,a,c){return new bv(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Sv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bb(this.syncEngine,n,0),function(){return od.D()?new od:new Ev}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new kv(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=B(r);w("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Sa(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var md=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):pn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Lv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xe.UNAUTHENTICATED,this.clientId=Gl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){w("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(w("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new I(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ot;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=l_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function py(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),w("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield lA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Sb(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield jB(t);w("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Cb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Cb(e.remoteStore,i)),t._onlineComponents=e})}function LB(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function jB(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){w("FirestoreClient","Using user provided OfflineComponentProvider");try{yield py(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!LB(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),yield py(t,new gd)}}else w("FirestoreClient","Using default OfflineComponentProvider"),yield py(t,new gd);return t._offlineComponents})}function CA(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(w("FirestoreClient","Using user provided OnlineComponentProvider"),yield Sb(t,t._uninitializedComponentsProvider._online)):(w("FirestoreClient","Using default OnlineComponentProvider"),yield Sb(t,new Vv))),t._onlineComponents})}function UB(t){return CA(t).then(e=>e.syncEngine)}function bA(t){return p(this,null,function*(){let e=yield CA(t),n=e.eventManager;return n.onListen=bB.bind(null,e.syncEngine),n.onUnlisten=SB.bind(null,e.syncEngine),n})}function BB(t,e,n={}){let r=new Ot;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,u){let l=new md({next:h=>{o.enqueueAndForget(()=>IA(s,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new I(m.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new I(m.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new hd(i_(a.path),l,{includeMetadataChanges:!0,Z_:!0});return _A(s,d)}(yield bA(t),t.asyncQueue,e,n,r)})),r.promise}function $B(t,e,n={}){let r=new Ot;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,u){let l=new md({next:h=>{o.enqueueAndForget(()=>IA(s,d)),h.fromCache&&c.source==="server"?u.reject(new I(m.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new hd(a,l,{includeMetadataChanges:!0,Z_:!0});return _A(s,d)}(yield bA(t),t.asyncQueue,e,n,r)})),r.promise}function AA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Mb=new Map;function SA(t,e,n){if(!n)throw new I(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HB(t,e,n,r){if(e===!0&&r===!0)throw new I(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nb(t){if(!C.isDocumentKey(t))throw new I(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xb(t){if(C.isDocumentKey(t))throw new I(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":R()}function zt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new I(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=xd(t);throw new I(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GB(t,e){if(e<=0)throw new I(m.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var yd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new I(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new I(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new I(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new I(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new I(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},js=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new I(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new I(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gy;switch(r.type){case"firstParty":return new _y(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new I(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Mb.get(n);r&&(w("ComponentProvider","Removing Datastore"),Mb.delete(n),r.terminate())}(this),Promise.resolve()}};function MA(t,e,n,r={}){var i;let s=(t=zt(t,js))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=xe.MOCK_USER;else{a=TT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new I(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new xe(u)}t._authCredentials=new my(new Hl(a,c))}}var vn=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},it=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},pr=class t extends vn{constructor(e,n,r){super(e,n,i_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new C(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NA(t,e,...n){if(t=Ee(t),SA("collection","path",e),t instanceof js){let r=de.fromString(e,...n);return xb(r),new pr(t,null,r)}{if(!(t instanceof it||t instanceof pr))throw new I(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return xb(r),new pr(t.firestore,null,r)}}function f_(t,e,...n){if(t=Ee(t),arguments.length===1&&(e=Gl.newId()),SA("doc","path",e),t instanceof js){let r=de.fromString(e,...n);return Nb(r),new it(t,null,new C(r))}{if(!(t instanceof it||t instanceof pr))throw new I(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return Nb(r),new it(t.firestore,t instanceof pr?t.converter:null,new C(r))}}var jv=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ad(this,"async_queue_retry"),this._u=()=>{let n=fy();n&&w("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=fy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Ot;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return p(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Aa(e))throw e;w("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=Mv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&R()}verifyOperationInProgress(){}hu(){return p(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var Bn=class extends js{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new jv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RA(this),this._firestoreClient.terminate()}};function xA(t,e){let n=typeof t=="object"?t:ls(),r=typeof t=="string"?t:e||"(default)",i=So(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=DT("firestore");s&&MA(i,...s)}return i}function p_(t){return t._firestoreClient||RA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Ay(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,AA(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Lv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ea=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new I(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Us=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new I(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wa=class{constructor(e){this._methodName=e}};var Da=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new I(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new I(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}};var qB=/^__.*__$/,Uv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yn(e,this.data,this.fieldMask,n,this.fieldTransforms):new _i(e,this.data,n,this.fieldTransforms)}},vd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function PA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}var Bv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Id(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(PA(this.du)&&qB.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},$v=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sd(e)}Su(e,n,r,i=!1){return new Bv({du:e,methodName:n,wu:r,path:Et.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Na(t){let e=t._freezeSettings(),n=Sd(t._databaseId);return new $v(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OA(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);g_("Data must be an object, but it was:",o,r);let a=FA(r,o),c,u;if(s.merge)c=new Pt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=Hv(e,d,n);if(!o.contains(h))throw new I(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);LA(l,h)||l.push(h)}c=new Pt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Uv(new It(a),c,u)}var _d=class t extends wa{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function zB(t,e,n,r){let i=t.Su(1,e,n);g_("Data must be an object, but it was:",i,r);let s=[],o=It.empty();Ei(r,(c,u)=>{let l=m_(e,c,n);u=Ee(u);let d=i.fu(l);if(u instanceof _d)s.push(l);else{let h=xa(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new Pt(s);return new vd(o,a,i.fieldTransforms)}function WB(t,e,n,r,i,s){let o=t.Su(1,e,n),a=[Hv(e,r,n)],c=[i];if(s.length%2!=0)throw new I(m.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Hv(e,s[h])),c.push(s[h+1]);let u=[],l=It.empty();for(let h=a.length-1;h>=0;--h)if(!LA(u,a[h])){let f=a[h],g=c[h];g=Ee(g);let y=o.fu(f);if(g instanceof _d)u.push(f);else{let _=xa(g,y);_!=null&&(u.push(f),l.set(f,_))}}let d=new Pt(u);return new vd(l,d,o.fieldTransforms)}function kA(t,e,n,r=!1){return xa(n,t.Su(r?4:3,e))}function xa(t,e){if(VA(t=Ee(t)))return g_("Unsupported field value:",e,t),FA(t,e);if(t instanceof wa)return function(r,i){if(!PA(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=xa(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ee(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ve.fromDate(r);return{timestampValue:rd(i.serializer,s)}}if(r instanceof Ve){let s=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(i.serializer,s)}}if(r instanceof Da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ea)return{bytesValue:rA(i.serializer,r._byteString)};if(r instanceof it){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:o_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${xd(r)}`)}(t,e)}function FA(t,e){let n={};return kb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,i)=>{let s=xa(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function VA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof Da||t instanceof Ea||t instanceof it||t instanceof wa)}function g_(t,e,n){if(!VA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=xd(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Hv(t,e,n){if((e=Ee(e))instanceof Us)return e._internalPath;if(typeof e=="string")return m_(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}var KB=new RegExp("[~\\*/\\[\\]]");function m_(t,e,n){if(e.search(KB)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Us(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new I(m.INVALID_ARGUMENT,a+t+c)}function LA(t,e){return t.some(n=>n.isEqual(e))}var Ta=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Rd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Gv=class extends Ta{data(){return super.data()}};function Rd(t,e){return typeof e=="string"?m_(t,e):e instanceof Us?e._internalPath:e._delegate._internalPath}function QB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new I(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ca=class{},Ii=class extends Ca{};function jA(t,e,...n){let r=[];e instanceof Ca&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof qv).length,a=s.filter(c=>c instanceof Ed).length;if(o>1||o>0&&a>0)throw new I(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Ed=class t extends Ii{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return zA(e._query,n),new vn(e.firestore,e.converter,Uy(e._query,n))}_parse(e){let n=Na(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new I(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){Pb(d,l);let f=[];for(let g of d)f.push(Rb(c,s,g));h={arrayValue:{values:f}}}else h=Rb(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Pb(d,l),h=kA(a,o,d,l==="in"||l==="not-in");return Te.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function UA(t,e,n){let r=e,i=Rd("where",t);return Ed._create(i,r,n)}var qv=class t extends Ca{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)zA(o,c),o=Uy(o,c)}(e._query,n),new vn(e.firestore,e.converter,Uy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var zv=class t extends Ii{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new I(m.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new I(m.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mi(s,o)}(e._query,this._field,this._direction);return new vn(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new mn(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function BA(t,e="asc"){let n=e,r=Rd("orderBy",t);return zv._create(r,n)}var Wv=class t extends Ii{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new vn(e.firestore,e.converter,Zl(e._query,this._limit,this._limitType))}};function $A(t){return GB("limit",t),Wv._create("limit",t,"F")}var Kv=class t extends Ii{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=qA(e,this.type,this._docOrFields,this._inclusive);return new vn(e.firestore,e.converter,function(i,s){return new mn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function HA(...t){return Kv._create("startAfter",t,!1)}var Qv=class t extends Ii{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=qA(e,this.type,this._docOrFields,this._inclusive);return new vn(e.firestore,e.converter,function(i,s){return new mn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}};function GA(...t){return Qv._create("endBefore",t,!1)}function qA(t,e,n,r){if(n[0]=Ee(n[0]),n[0]instanceof Ta)return function(s,o,a,c,u){if(!c)throw new I(m.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let l=[];for(let d of As(s))if(d.field.isKeyField())l.push(Yl(o,c.key));else{let h=c.data.field(d.field);if(Cd(h))throw new I(m.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){let f=d.field.canonicalString();throw new I(m.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}l.push(h)}return new yr(l,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=Na(t.firestore);return function(o,a,c,u,l,d){let h=o.explicitOrderBy;if(l.length>h.length)throw new I(m.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let f=[];for(let g=0;g<l.length;g++){let y=l[g];if(h[g].field.isKeyField()){if(typeof y!="string")throw new I(m.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof y}`);if(!s_(o)&&y.indexOf("/")!==-1)throw new I(m.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${y}' contains a slash.`);let _=o.path.child(de.fromString(y));if(!C.isDocumentKey(_))throw new I(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);let T=new C(_);f.push(Yl(a,T))}else{let _=kA(c,u,y);f.push(_)}}return new yr(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Rb(t,e,n){if(typeof(n=Ee(n))=="string"){if(n==="")throw new I(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s_(e)&&n.indexOf("/")!==-1)throw new I(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(de.fromString(n));if(!C.isDocumentKey(r))throw new I(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yl(t,new C(r))}if(n instanceof it)return Yl(t,n._key);throw new I(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(n)}.`)}function Pb(t,e){if(!Array.isArray(t)||t.length===0)throw new I(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new I(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new I(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Yv=class{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ei(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Da(me(e.latitude),me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=e_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pa(e));default:return null}}convertTimestamp(e){let n=gr(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=de.fromString(e);oe(uA(r));let i=new Ql(r.get(1),r.get(3)),s=new C(r.popFirst(5));return i.isEqual(n)||pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function WA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var di=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wd=class extends Ta{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Rd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ms=class extends wd{data(e={}){return super.data(e)}},Jv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new di(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ms(this._firestore,this._userDataWriter,r.key,r,new di(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new I(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new di(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ms(i._firestore,i._userDataWriter,a.doc.key,a.doc,new di(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:YB(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function YB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}function KA(t){t=zt(t,it);let e=zt(t.firestore,Bn);return BB(p_(e),t._key).then(n=>JB(e,t,n))}var Dd=class extends Yv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}};function QA(t){t=zt(t,vn);let e=zt(t.firestore,Bn),n=p_(e),r=new Dd(e);return QB(t._query),$B(n,t._query).then(i=>new Jv(e,r,t,i))}function YA(t,e,n){t=zt(t,it);let r=zt(t.firestore,Bn),i=WA(t.converter,e,n);return Pd(r,[OA(Na(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hn.none())])}function JA(t,e,n,...r){t=zt(t,it);let i=zt(t.firestore,Bn),s=Na(i),o;return o=typeof(e=Ee(e))=="string"||e instanceof Us?WB(s,"updateDoc",t._key,e,n,r):zB(s,"updateDoc",t._key,e),Pd(i,[o.toMutation(t._key,hn.exists(!0))])}function ZA(t){return Pd(zt(t.firestore,Bn),[new ma(t._key,hn.none())])}function XA(t,e){let n=zt(t.firestore,Bn),r=f_(t),i=WA(t.converter,e);return Pd(n,[OA(Na(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then(()=>r)}function Pd(t,e){return function(r,i){let s=new Ot;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return MB(yield UB(r),i,s)})),s.promise}(p_(t),e)}function JB(t,e,n){let r=n.docs.get(e._key),i=new Dd(t);return new wd(t,i,e._key,r,new di(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Bs=i})(ar),or(new Nt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Bn(new yy(r.getProvider("auth-internal")),new Ey(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new I(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ae(ib,"4.4.2",e),Ae(ib,"4.4.2","esm2017")})();var Ra=class{constructor(e){return e}},eS="firestore",y_=class{constructor(){return Mo(eS)}};var v_=new A("angularfire2.firestore-instances");function ZB(t,e){let n=ju(eS,t,e);return n&&new Ra(n)}function XB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ra(r)}}var e$={provide:y_,deps:[[new gt,v_]]},t$={provide:Ra,useFactory:ZB,deps:[[new gt,v_],On]},n$=(()=>{class t{constructor(){Ae("angularfire",Xr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xe({type:t});static \u0275inj=Ze({providers:[t$,e$]})}return t})();function hQ(t,...e){return{ngModule:n$,providers:[{provide:v_,useFactory:XB(t),multi:!0,deps:[ae,tt,fs,ei,[new gt,Lo],[new gt,hs],...e]}]}}var fQ=le(XA,!0);var pQ=le(NA,!0);var gQ=le(ZA,!0);var mQ=le(f_,!0);var yQ=le(GA,!0);var vQ=le(KA,!0);var _Q=le(QA,!0);var IQ=le(xA,!0);var EQ=le($A,!0);var wQ=le(BA,!0);var DQ=le(jA,!0);var TQ=le(YA,!0);var CQ=le(HA,!0);var bQ=le(JA,!0);var AQ=le(UA,!0);function r$(t,e){if(t&1&&(ts(0,"button",1),LE(),ts(1,"svg",2),Op(2,"path",3)(3,"path",4),ns(),_D(4," Cargando... "),ns()),t&2){let n=Fp();Pp(n.classes)}}function i$(t,e){if(t&1&&(ts(0,"button",5),fD(1),ns()),t&2){let n=Fp();Pp(n.classes),Rp("disabled",n.isDisabled)}}var s$=["*"],NQ=(()=>{let e=class e{constructor(){this.color="primary",this.classes="",this.isDisabled=!1,this.isLoading=!1,this.text="Button"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fE({type:e,selectors:[["app-button"]],inputs:{color:"color",classes:"classes",isDisabled:"isDisabled",isLoading:"isLoading",text:"text"},standalone:!0,features:[wD],ngContentSelectors:s$,decls:2,vars:1,consts:[["disabled","","type","button",3,"class"],["disabled","","type","button"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"],["appBtn","","title","dft-button","type","button",3,"disabled"]],template:function(i,s){i&1&&(hD(),ho(0,r$,5,2,"button",0)(1,i$,2,3)),i&2&&dD(0,s.isLoading?0:1)}});let t=e;return t})();var dS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(k(rr),k(bt))},e.\u0275dir=ce({type:e});let t=e;return t})(),Hd=(()=>{let e=class e extends dS{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ct(e)))(s||e)}})(),e.\u0275dir=ce({type:e,features:[Oe]});let t=e;return t})(),Fa=new A("");var o$={provide:Fa,useExisting:dt(()=>hS),multi:!0};function a$(){let t=is()?is().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var c$=new A(""),hS=(()=>{let e=class e extends dS{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!a$())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(k(rr),k(bt),k(c$,8))},e.\u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Kr("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[St([o$]),Oe]});let t=e;return t})();function Ir(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function fS(t){return t!=null&&typeof t.length=="number"}var Di=new A(""),Gd=new A(""),u$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tS=class{static min(e){return pS(e)}static max(e){return gS(e)}static required(e){return mS(e)}static requiredTrue(e){return l$(e)}static email(e){return d$(e)}static minLength(e){return h$(e)}static maxLength(e){return f$(e)}static pattern(e){return p$(e)}static nullValidator(e){return Fd(e)}static compose(e){return wS(e)}static composeAsync(e){return TS(e)}};function pS(t){return e=>{if(Ir(e.value)||Ir(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function gS(t){return e=>{if(Ir(e.value)||Ir(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function mS(t){return Ir(t.value)?{required:!0}:null}function l$(t){return t.value===!0?null:{required:!0}}function d$(t){return Ir(t.value)||u$.test(t.value)?null:{email:!0}}function h$(t){return e=>Ir(e.value)||!fS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function f$(t){return e=>fS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function p$(t){if(!t)return Fd;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ir(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Fd(t){return null}function yS(t){return t!=null}function vS(t){return rs(t)?We(t):t}function _S(t){let e={};return t.forEach(n=>{e=n!=null?Le(Le({},e),n):e}),Object.keys(e).length===0?null:e}function IS(t,e){return e.map(n=>n(t))}function g$(t){return!t.validate}function ES(t){return t.map(e=>g$(e)?e:n=>e.validate(n))}function wS(t){if(!t)return null;let e=t.filter(yS);return e.length==0?null:function(n){return _S(IS(n,e))}}function DS(t){return t!=null?wS(ES(t)):null}function TS(t){if(!t)return null;let e=t.filter(yS);return e.length==0?null:function(n){let r=IS(n,e).map(vS);return Pi(r).pipe(Se(_S))}}function CS(t){return t!=null?TS(ES(t)):null}function nS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function bS(t){return t._rawValidators}function AS(t){return t._rawAsyncValidators}function __(t){return t?Array.isArray(t)?t:[t]:[]}function Vd(t,e){return Array.isArray(t)?t.includes(e):t===e}function rS(t,e){let n=__(e);return __(t).forEach(i=>{Vd(n,i)||n.push(i)}),n}function iS(t,e){return __(e).filter(n=>!Vd(t,n))}var Ld=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=CS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},kt=class extends Ld{get formDirective(){return null}get path(){return null}},ka=class extends Ld{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},m$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},WQ=ot(Le({},m$),{"[class.ng-submitted]":"isSubmitted"}),KQ=(()=>{let e=class e extends jd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(k(ka,2))},e.\u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&fu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Oe]});let t=e;return t})(),QQ=(()=>{let e=class e extends jd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(k(kt,10))},e.\u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&fu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Oe]});let t=e;return t})();var Pa="VALID",Od="INVALID",Hs="PENDING",Oa="DISABLED";function w_(t){return(qd(t)?t.validators:t)||null}function y$(t){return Array.isArray(t)?DS(t):t||null}function D_(t,e){return(qd(e)?e.asyncValidators:t)||null}function v$(t){return Array.isArray(t)?CS(t):t||null}function qd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function SS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[n])throw new H(1001,"")}function MS(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new H(1002,"")})}var Gs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pa}get invalid(){return this.status===Od}get pending(){return this.status==Hs}get disabled(){return this.status===Oa}get enabled(){return this.status!==Oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iS(e,this._rawAsyncValidators))}hasValidator(e){return Vd(this._rawValidators,e)}hasAsyncValidator(e){return Vd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Oa,this.errors=null,this._forEachChild(r=>{r.disable(ot(Le({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ot(Le({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pa,this._forEachChild(r=>{r.enable(ot(Le({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ot(Le({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pa||this.status===Hs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oa:Pa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hs,this._hasOwnPendingAsyncValidator=!0;let n=vS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?Oa:this.errors?Od:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hs)?Hs:this._anyControlsHaveStatus(Od)?Od:Pa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=y$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=v$(this._rawAsyncValidators)}},Ud=class extends Gs{constructor(e,n,r){super(w_(n),D_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){MS(this,!0,e),Object.keys(e).forEach(r=>{SS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var I_=class extends Ud{};var NS=new A("CallSetDisabledState",{providedIn:"root",factory:()=>T_}),T_="always";function C_(t,e){return[...e.path,t]}function sS(t,e,n=T_){b_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),I$(t,e),w$(t,e),E$(t,e),_$(t,e)}function oS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$d(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Bd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function b_(t,e){let n=bS(t);e.validator!==null?t.setValidators(nS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=AS(t);e.asyncValidator!==null?t.setAsyncValidators(nS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Bd(e._rawValidators,i),Bd(e._rawAsyncValidators,i)}function $d(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=bS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=AS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Bd(e._rawValidators,r),Bd(e._rawAsyncValidators,r),n}function I$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xS(t,e)})}function E$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function w$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function D$(t,e){t==null,b_(t,e)}function T$(t,e){return $d(t,e)}function C$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function b$(t){return Object.getPrototypeOf(t.constructor)===Hd}function A$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function S$(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===hS?n=s:b$(s)?r=s:i=s}),i||r||n||null}function M$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function aS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var kd=class extends Gs{constructor(e=null,n,r){super(w_(n),D_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(cS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){cS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var N$=t=>t instanceof kd,x$=(()=>{let e=class e extends kt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return C_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ct(e)))(s||e)}})(),e.\u0275dir=ce({type:e,features:[Oe]});let t=e;return t})();var JQ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),R$={provide:Fa,useExisting:dt(()=>P$),multi:!0},P$=(()=>{let e=class e extends Hd{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ct(e)))(s||e)}})(),e.\u0275dir=ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&Kr("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[St([R$]),Oe]});let t=e;return t})();var RS=new A("");var O$={provide:kt,useExisting:dt(()=>PS)},PS=(()=>{let e=class e extends kt{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new wt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($d(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return sS(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){oS(r.control||null,r,!1),M$(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,A$(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(oS(i||null,r),N$(s)&&(sS(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);D$(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&T$(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b_(this.form,this),this._oldForm&&$d(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(k(Di,10),k(Gd,10),k(NS,8))},e.\u0275dir=ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Kr("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Je.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[St([O$]),Oe,Qi]});let t=e;return t})(),k$={provide:kt,useExisting:dt(()=>OS)},OS=(()=>{let e=class e extends x${constructor(r,i,s){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(s)}_checkParentType(){FS(this._parent)}};e.\u0275fac=function(i){return new(i||e)(k(kt,13),k(Di,10),k(Gd,10))},e.\u0275dir=ce({type:e,selectors:[["","formGroupName",""]],inputs:{name:[Je.None,"formGroupName","name"]},features:[St([k$]),Oe]});let t=e;return t})(),F$={provide:kt,useExisting:dt(()=>kS)},kS=(()=>{let e=class e extends kt{constructor(r,i,s){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return C_(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){FS(this._parent)}};e.\u0275fac=function(i){return new(i||e)(k(kt,13),k(Di,10),k(Gd,10))},e.\u0275dir=ce({type:e,selectors:[["","formArrayName",""]],inputs:{name:[Je.None,"formArrayName","name"]},features:[St([F$]),Oe]});let t=e;return t})();function FS(t){return!(t instanceof OS)&&!(t instanceof PS)&&!(t instanceof kS)}var V$={provide:ka,useExisting:dt(()=>L$)},L$=(()=>{let e=class e extends ka{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new wt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=S$(this,o)}ngOnChanges(r){this._added||this._setUpControl(),C$(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return C_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(k(kt,13),k(Di,10),k(Gd,10),k(Fa,10),k(RS,8))},e.\u0275dir=ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[Je.None,"formControlName","name"],isDisabled:[Je.None,"disabled","isDisabled"],model:[Je.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[St([V$]),Oe,Qi]});let t=e;return t})(),j$={provide:Fa,useExisting:dt(()=>LS),multi:!0};function VS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function U$(t){return t.split(":")[0]}var LS=(()=>{let e=class e extends Hd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=VS(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=U$(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ct(e)))(s||e)}})(),e.\u0275dir=ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&Kr("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[St([j$]),Oe]});let t=e;return t})(),ZQ=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(VS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(k(bt),k(rr),k(LS,9))},e.\u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),B$={provide:Fa,useExisting:dt(()=>jS),multi:!0};function uS(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $$(t){return t.split(":")[0]}var jS=(()=>{let e=class e extends Hd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);s.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=$$(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ct(e)))(s||e)}})(),e.\u0275dir=ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&Kr("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[St([B$]),Oe]});let t=e;return t})(),XQ=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(uS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(uS(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(k(bt),k(rr),k(jS,9))},e.\u0275dir=ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function US(t){return typeof t=="number"?t:parseFloat(t)}var A_=(()=>{let e=class e{constructor(){this._validator=Fd}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Fd,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ce({type:e,features:[Qi]});let t=e;return t})(),H$={provide:Di,useExisting:dt(()=>G$),multi:!0},G$=(()=>{let e=class e extends A_{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>US(r),this.createValidator=r=>gS(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ct(e)))(s||e)}})(),e.\u0275dir=ce({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&Eo("max",s._enabled?s.max:null)},inputs:{max:"max"},features:[St([H$]),Oe]});let t=e;return t})(),q$={provide:Di,useExisting:dt(()=>z$),multi:!0},z$=(()=>{let e=class e extends A_{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>US(r),this.createValidator=r=>pS(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ct(e)))(s||e)}})(),e.\u0275dir=ce({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&Eo("min",s._enabled?s.min:null)},inputs:{min:"min"},features:[St([q$]),Oe]});let t=e;return t})(),W$={provide:Di,useExisting:dt(()=>K$),multi:!0};var K$=(()=>{let e=class e extends A_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=jp,this.createValidator=r=>mS}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ct(e)))(s||e)}})(),e.\u0275dir=ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Eo("required",s._enabled?"":null)},inputs:{required:"required"},features:[St([W$]),Oe]});let t=e;return t})();var Q$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ze({});let t=e;return t})(),E_=class extends Gs{constructor(e,n,r){super(w_(n),D_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){MS(this,!1,e),e.forEach((r,i)=>{SS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function lS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var eY=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return lS(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ud(s,o)}record(r,i=null){let s=this._reduceControls(r);return new I_(s,i)}control(r,i,s){let o={};return this.useNonNullable?(lS(i)?o=i:(o.validators=i,o.asyncValidators=s),new kd(r,ot(Le({},o),{nonNullable:!0}))):new kd(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new E_(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof kd)return r;if(r instanceof Gs)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tY=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:RS,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:NS,useValue:r.callSetDisabledState??T_}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ze({imports:[Q$]});let t=e;return t})();export{Ce as a,GS as b,L as c,eh as d,th as e,ze as f,Ar as g,YS as h,Wt as i,Y$ as j,We as k,In as l,Ks as m,oc as n,Mr as o,Se as p,dM as q,Ke as r,Qs as s,Ri as t,fM as u,Pi as v,ah as w,IM as x,ft as y,EM as z,Nr as A,wM as B,DM as C,Kn as D,Kt as E,ch as F,TM as G,lh as H,Ys as I,AM as J,rI as K,dh as L,SM as M,MM as N,NM as O,ph as P,xM as Q,Zs as R,Si as S,H as T,dt as U,x as V,Ze as W,hW as X,z as Y,ut as Z,A as _,D as $,ne as aa,to as ba,Je as ca,fE as da,Xe as ea,ce as fa,Kc as ga,Qi as ha,fW as ia,pW as ja,LE as ka,gW as la,Ct as ma,ox as na,gt as oa,px as pa,gx as qa,mx as ra,nw as sa,Zn as ta,mW as ua,tt as va,yW as wa,vW as xa,Mx as ya,Wr as za,_W as Aa,IW as Ba,EW as Ca,Oc as Da,Ji as Ea,gp as Fa,wW as Ga,DW as Ha,TW as Ia,CW as Ja,bW as Ka,Iw as La,IR as Ma,ou as Na,AW as Oa,wR as Pa,DR as Qa,SW as Ra,af as Sa,au as Ta,bt as Ua,lf as Va,rr as Wa,Tn as Xa,MW as Ya,k as Za,NW as _a,Ap as $a,wt as ab,ae as bb,xP as cb,Oe as db,QP as eb,es as fb,Cf as gb,iO as hb,eD as ib,ho as jb,Eo as kb,Rp as lb,sD as mb,fu as nb,Pp as ob,dD as pb,PW as qb,OW as rb,kW as sb,FW as tb,ts as ub,ns as vb,Op as wb,FO as xb,VO as yb,VW as zb,jO as Ab,rs as Bb,Kr as Cb,Fp as Db,hD as Eb,fD as Fb,KO as Gb,pD as Hb,QO as Ib,Lf as Jb,Gr as Kb,jW as Lb,UW as Mb,BW as Nb,$W as Ob,HW as Pb,_D as Qb,ck as Rb,ID as Sb,St as Tb,wD as Ub,GW as Vb,qW as Wb,zW as Xb,WW as Yb,KW as Zb,QW as _b,YW as $b,JW as ac,mk as bc,Lp as cc,MD as dc,ZW as ec,jp as fc,XW as gc,is as hc,I5 as ic,xD as jc,Yp as kc,E5 as lc,Tu as mc,xk as nc,w5 as oc,Rk as pc,D5 as qc,T5 as rc,C5 as sc,b5 as tc,A5 as uc,S5 as vc,M5 as wc,N5 as xc,c1 as yc,l1 as zc,GD as Ac,x5 as Bc,LD as Cc,os as Dc,Q5 as Ec,ZD as Fc,cg as Gc,I1 as Hc,Y5 as Ic,J5 as Jc,mT as Kc,yT as Lc,xu as Mc,X5 as Nc,e8 as Oc,t8 as Pc,n8 as Qc,r8 as Rc,JD as Sc,DT as Tc,TT as Uc,vt as Vc,Ee as Wc,Nt as Xc,or as Yc,So as Zc,ar as _c,ls as $c,Ae as ad,Xr as bd,ju as cd,Mo as dd,hs as ed,fs as fd,le as gd,On as hd,ei as id,$8 as jd,H8 as kd,dL as ld,Vo as md,Lo as nd,PK as od,OK as pd,kK as qd,FK as rd,VK as sd,LK as td,NA as ud,f_ as vd,Ra as wd,hQ as xd,fQ as yd,pQ as zd,gQ as Ad,mQ as Bd,yQ as Cd,vQ as Dd,_Q as Ed,IQ as Fd,EQ as Gd,wQ as Hd,DQ as Id,TQ as Jd,CQ as Kd,bQ as Ld,AQ as Md,NQ as Nd,Fa as Od,c$ as Pd,hS as Qd,tS as Rd,KQ as Sd,QQ as Td,Ud,kd as Vd,JQ as Wd,P$ as Xd,PS as Yd,OS as Zd,kS as _d,L$ as $d,LS as ae,ZQ as be,XQ as ce,G$ as de,z$ as ee,K$ as fe,E_ as ge,eY as he,tY as ie};
