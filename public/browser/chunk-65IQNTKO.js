import{a as V,b as T,c as D}from"./chunk-BNMO3AQX.js";import{d as $}from"./chunk-5JFFV3IV.js";import{a as Y}from"./chunk-AUDRE57G.js";import{$d as W,Cb as x,Db as d,Ic as P,Jc as q,Mc as O,Nd as B,Qb as a,Qc as U,Qd as R,Rb as f,Rd as u,S as I,Sd as z,Td as H,Ub as _,Ud as J,Vd as b,Wd as K,Ya as o,Yb as G,Yd as Q,Za as N,Zb as L,ab as M,da as y,ha as j,ia as E,ie as X,j as v,ja as F,jb as m,lb as h,pb as p,ub as n,uc as A,vb as i,wb as c,xc as C,zb as S}from"./chunk-LCVDR2E5.js";import"./chunk-LYCM6NQH.js";function te(e,r){e&1&&c(0,"app-loading",3)}function re(e,r){e&1&&c(0,"input",18)}function ie(e,r){if(e&1&&(n(0,"span",19),a(1),i()),e&2){let t=d(2);o(),f(t.preferences==null?null:t.preferences.fullName)}}function ne(e,r){e&1&&c(0,"input",20)}function oe(e,r){if(e&1&&(n(0,"span",19),a(1),i()),e&2){let t=d(2);o(),f(t.preferences==null?null:t.preferences.email)}}function ae(e,r){e&1&&c(0,"input",21)}function le(e,r){if(e&1&&(n(0,"span",19),a(1),i()),e&2){let t=d(2);o(),f(t.preferences==null?null:t.preferences.ci)}}function se(e,r){e&1&&c(0,"input",22)}function de(e,r){if(e&1&&(n(0,"span",19),a(1),i()),e&2){let t=d(2);o(),f(t.preferences==null?null:t.preferences.phoneNumber)}}function me(e,r){if(e&1){let t=S();n(0,"app-button",23),x("click",function(){E(t);let l=d(2);return F(l.emitFormValues())}),a(1,"Guardar Cambios"),i()}if(e&2){let t=d(2);h("isDisabled",t.profileForm.invalid)}}function pe(e,r){if(e&1){let t=S();n(0,"button",24),x("click",function(){E(t);let l=d(2);return F(l.toggleEdit())}),a(1," Editar Perfil "),i()}}function ce(e,r){if(e&1&&(n(0,"div",4)(1,"div")(2,"div",5)(3,"section",6)(4,"span",7),a(5),i()()(),n(6,"section",8)(7,"div",9)(8,"form",10)(9,"div",9)(10,"label",11),a(11,"Nombre:"),i(),m(12,re,1,0,"input",12)(13,ie,2,1),i(),n(14,"div",9)(15,"label",11),a(16,"Email:"),i(),m(17,ne,1,0,"input",13)(18,oe,2,1),i(),n(19,"div",9)(20,"label",11),a(21,"Cedula de Identidad:"),i(),m(22,ae,1,0,"input",14)(23,le,2,1),i(),n(24,"div",9)(25,"label",11),a(26,"Celular:"),i(),m(27,se,1,0,"input",15)(28,de,2,1),i()()()()(),n(29,"section",16),m(30,me,2,1,"app-button",17)(31,pe,2,0),i()()),e&2){let t=d();o(5),f(t.nameFirstLetter),o(3),h("formGroup",t.profileForm),o(4),p(12,t.isEditing?12:13),o(5),p(17,t.isEditing?17:18),o(5),p(22,t.isEditing?22:23),o(5),p(27,t.isEditing?27:28),o(3),p(30,t.isEditing?30:31)}}var Z=(()=>{let r=class r{constructor(){this.isEditing=!1,this.preferences=null,this.loading=!1,this.profileFormValue=new M,this.nameFirstLetter="",this.uid="",this.profileForm=new J({fullName:new b("",u.required),email:new b("",[u.required,u.email]),ci:new b("",u.required),phoneNumber:new b("",u.required)})}ngOnChanges(s){s.preferences&&(this.preferences?.fullName?this.nameFirstLetter=this.preferences.fullName.split(" ").map(l=>l[0]).join(""):this.nameFirstLetter="",this.uid=this.preferences?.uid||"",this.preferences&&this.profileForm.setValue({fullName:this.preferences?.fullName,email:this.preferences?.email,ci:this.preferences?.ci,phoneNumber:this.preferences?.phoneNumber}))}emitFormValues(){this.profileFormValue.emit(this.profileForm.value),this.isEditing=!1}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing?this.profileForm.enable():this.profileForm.disable()}};r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=y({type:r,selectors:[["app-user-profile"]],inputs:{preferences:"preferences",loading:"loading"},outputs:{profileFormValue:"profileFormValue"},standalone:!0,features:[j,_],decls:6,vars:1,consts:[[1,"m-5","p-5","rounded-lg","w-[90rem]"],[1,"text-6xl","pl-20","text-center","tracking-tight","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"flex","justify-center","rounded-md","p-10","m-10","w-full"],["classes","inline w-20 h-20 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600"],[1,"flex","flex-col","justify-center","gap-6","bg-white","h-[40rem]","w-[30rem]","rounded-md","p-4","shadow-lg"],[1,"flex","w-full","justify-center","mb-4"],[1,"w-24","h-24","rounded-full","text-center","bg-gray-700","center","items-center"],[1,"text-3xl","text-white"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-col"],[1,"flex","flex-col","align-middle","gap-4",3,"formGroup"],[1,"mb-0","text-xl","font-bold"],["formControlName","fullName","class","shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 dark:shadow-sm-light ng-pristine ng-invalid ng-touched"],["formControlName","email","class","shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 dark:shadow-sm-light ng-pristine ng-invalid ng-touched"],["formControlName","ci","class","shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 dark:shadow-sm-light ng-pristine ng-invalid ng-touched"],["formControlName","phoneNumber","class","shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 dark:shadow-sm-light ng-pristine ng-invalid ng-touched"],[1,"w-full","flex","justify-center"],["classes","bg-blue-600 text-white py-2 px-4 rounded-lg",3,"isDisabled"],["formControlName","fullName",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500","dark:shadow-sm-light","ng-pristine","ng-invalid","ng-touched"],[1,"mb-2","text-lg","font-semibold","text-gray-800"],["formControlName","email",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500","dark:shadow-sm-light","ng-pristine","ng-invalid","ng-touched"],["formControlName","ci",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500","dark:shadow-sm-light","ng-pristine","ng-invalid","ng-touched"],["formControlName","phoneNumber",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500","dark:shadow-sm-light","ng-pristine","ng-invalid","ng-touched"],["classes","bg-blue-600 text-white py-2 px-4 rounded-lg",3,"isDisabled","click"],[1,"bg-blue-600","text-white","py-2","px-4","rounded-lg",3,"click"]],template:function(l,w){l&1&&(n(0,"div",0)(1,"h1",1),a(2,"Perfil\u{1F464}"),i(),n(3,"div",2),m(4,te,1,0,"app-loading",3)(5,ce,32,7),i()()),l&2&&(o(4),p(4,w.loading?4:5))},dependencies:[B,C,X,K,R,z,H,Q,W,Y]});let e=r;return e})();var g=class g{constructor(r,t){this.store=r,this.actions=t,this.preferences=null,this.uid=""}ngOnInit(){this.preferences$.subscribe(r=>{r&&(this.uid=r.uid,this.getPreferences())})}getPreferences(){this.store.dispatch(new V(this.uid)),this.actions.pipe(P(V),I(()=>{let r=this.store.selectSnapshot(D);this.preferences=r})).subscribe(()=>{})}saveChanges(r){this.store.dispatch(new T(this.uid,r)),this.actions.pipe(P(T)).subscribe(()=>{this.getPreferences()})}};g.\u0275fac=function(t){return new(t||g)(N(O),N(q))},g.\u0275cmp=y({type:g,selectors:[["app-user-profile-page"]],standalone:!0,features:[_],decls:3,vars:4,consts:[[1,"h-full","sm:full-screen","flex","items-start","justify-center","bg-gray-50"],[3,"preferences","loading","profileFormValue"]],template:function(t,s){t&1&&(n(0,"main",0)(1,"app-user-profile",1),x("profileFormValue",function(w){return s.saveChanges(w)}),G(2,"async"),i()()),t&2&&(o(),h("preferences",s.preferences)("loading",L(2,2,s.loading$)))},dependencies:[Z,C,A]});var k=g;v([U($.preferences)],k.prototype,"preferences$",void 0);v([U(D.userLoading)],k.prototype,"loading$",void 0);export{k as UserProfilePageComponent};
